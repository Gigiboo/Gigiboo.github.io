<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>zotero</title>
    <link href="/2023/04/15/zotero/"/>
    <url>/2023/04/15/zotero/</url>
    
    <content type="html"><![CDATA[<p>好久不见OMG</p><p>开学一直美赛＋期末考试，考完后还有接踵而至的课程实验，blog又好几个没见了</p><p>最近出于管理文献的需求（<s>之前一直都是放在自建的目录里确实很混乱且提取效率不高</s>），一直以为zotero是和中文文献有关的东东，直到看到老师也在用···</p><p>这篇文章就记录一下在配置和使用zotero中（<s>也许</s>）可以使效率更高的措施吧~（好形式主义的说 但是真的好喜欢在用新的软件的时候配置一些方便的设置和插件）</p><h3 id="系统设置篇">系统设置篇</h3><h4 id="1-1-为标签添加快捷键和颜色"><strong>1.1 为标签添加快捷键和颜色</strong></h4><p>高级标签 我设置为了可能会常用的一些标签 但是好像目前还不能设置<strong>全局标签</strong> 不然可适用范围更广欸</p><p>等等！好像可以！</p><h4 id="1-2-Group-Library">1.2 Group Library</h4><p>为了可以根据学者来分类看同一个人的文章，新建了一个群组</p><h4 id="1-3-Zotero-Forums">1.3 <a href="https://forums.zotero.org/discussions">Zotero Forums</a></h4><h4 id="1-4-论文参考文献排版">1.4 <a href="https://mp.weixin.qq.com/s?__biz=MzAxNzgyMDg0MQ==&amp;mid=2650454799&amp;idx=7&amp;sn=923f61b3fbcbbe7287b81322859ff23a&amp;chksm=83d1a6c9b4a62fdfe3cfa1b8d75c10e279f3c159169cd863f6ffb935e0388c2c81d301eb2d66&amp;scene=21#wechat_redirect">论文参考文献排版</a></h4><p>先码住 有需要再看</p><h4 id="1-5-一键导出">1.5 <a href="https://mp.weixin.qq.com/s?__biz=MzAxNzgyMDg0MQ==&amp;mid=2650455941&amp;idx=1&amp;sn=335142d8103f6548ed27ded3e110bd43&amp;chksm=83d1a243b4a62b556ff4a70fba1178406331a5cb60fdf8aee55de41ccf00054ff18ca46482a5&amp;scene=21#wechat_redirect">一键导出</a></h4><p>好用~！！整洁！！搭配zotfile一绝！</p><h4 id="1-6-支持中国知网「期刊和硕博论文」PDF直接下载">1.6 支持中国知网「期刊和硕博论文」PDF直接下载</h4><p><a href="https://mp.weixin.qq.com/s?__biz=MzAxNzgyMDg0MQ==&amp;mid=2650456725&amp;idx=1&amp;sn=2f6e6fb3036933dfd71fde74556aded5&amp;chksm=83d1df53b4a656456fb129c8a56ad80d819005d94e9cc9ac689387093100b067aa1dbcde63a2&amp;scene=21#wechat_redirect">详情链接</a></p><h3 id="插件篇">插件篇</h3><h4 id="2-1-ZotFile-重命名">2.1 <a href="https://zhuanlan.zhihu.com/p/354935393">ZotFile</a> 重命名</h4><h4 id="2-2-Quicklook-预览">2.2 <strong>Quicklook</strong> 预览</h4><p>新版要先安装Quicklook软件然后再从zotero中安装此插件否则提示</p><p>或者直接用xpi的文件/<a href="https://zhuanlan.zhihu.com/p/489657386">修复版</a></p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230414203031355.png" alt="image-20230414203031355"></p><p>终于上传上了！</p><p>下载好quicklook软件后修改config</p><p>![image-20230414203349924](C:\Users\Mengyuan Xu\AppData\Roaming\Typora\typora-user-images\image-20230414203349924.png)</p><p>啊啊啊啊啊啊啊啊啊啊就是mac的空格啊 别提有多miss 谁用谁知道！！！！</p><p>在找教程的过程中 发现了<a href="https://zhuanlan.zhihu.com/p/30690152">macOS QuickLook常用插件集合</a> 啊啊啊啊啊啊下次有空了给mb装上</p><p>这个quicklook也可以应用与win系统实现和mac一样的功能</p><p>但是我没有安装那些插件 感觉那些用的还是比较少的</p><h4 id="2-3-Better-BibTeX">2.3 Better BibTeX</h4><p><a href="https://mp.weixin.qq.com/s?__biz=MzAxNzgyMDg0MQ==&amp;mid=2650456548&amp;idx=1&amp;sn=5f77addb1fc92edbe7e94db80cb9343a&amp;chksm=83d1dc22b4a655347bef71f991d7b323e83def1e21e51837c6b94083410e114661a0acd09582&amp;scene=21#wechat_redirect">使用技巧</a></p><p><a href="https://mp.weixin.qq.com/s?__biz=MzAxNzgyMDg0MQ==&amp;mid=2650456567&amp;idx=1&amp;sn=8220376ef681f12c7e4afda69ea80410&amp;chksm=83d1dc31b4a65527e3e29a7437efa952ef4e33dbf13443fbbb49ce452d33dc56b60023821df9&amp;scene=21#wechat_redirect">详解</a></p><p>码住！！！</p><h4 id="2-4-Zotero-Scholar-Citations">2.4 <strong>Zotero Scholar Citations</strong></h4><p>好用 就是有0的异常值 不打算解决 问题不大</p><h4 id="2-5-Zotero-IF">2.5 Zotero IF</h4><p>同2.4</p><p>详情见👇</p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230414221711195.png" alt=""></p><p>不知道非官方插件之后是否要手动更新</p><h4 id="2-6-zotero-doi-manager">2.6 zotero-doi-manager</h4><p>获取 shortDOI：对于所选项目，查找 shortDOI（替换存储的 DOI，如果有）并标记无效的 DOI。<br>获取长 DOI：对于所选项目，查找完整的 DOI（替换存储的 DOI，如果有）并标记无效的 DOI。<br>验证并清理 DOI：对于所选项目，查找完整的 DOI（替换存储的 DOI，如果有），验证存储的 DOI 是否有效，并标记无效的 DOI。<br>此函数还会从 DOI 字段中删除不必要的前缀（如：发布者 URL 前缀）。</p><h4 id="2-7-zotero-reference">2.7 zotero-reference</h4><ul><li><strong>将鼠标悬停上去即可实现前面动图所展示的效果</strong></li><li><strong>单击</strong>某条参考文献便会<strong>复制此条参考文献的信息</strong></li><li><strong>ctrl+单击参考文献</strong>，便会用默认浏览器<strong>打开此篇参考文献</strong></li><li>单击参考文献最右侧的<strong>加号</strong>，便可添加参考文献至正在阅读的文献所在文件夹下并与其进行<strong>双向关联</strong></li><li><strong>ctrl+单击最右侧的加号</strong>，便可添加参考文献至当前所在文件夹下并与其进行<strong>双向关联</strong></li><li>弹出的参考文献浮窗，<strong>其内的文字可以直接选中并进行复制</strong></li></ul><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230414234325394.png" alt="image-20230414234325394"></p><p>我直接震惊 太好用了啊啊啊啊！！！！！</p><p><a href="https://zhuanlan.zhihu.com/p/595230433">详细可看</a></p><h4 id="2-8-Sci-Hub">2.8 Sci-Hub</h4><p>不必多说 Sci-Hub Download界yyds</p><h4 id="2-9-zotero-pdf-translate-插件">2.9 zotero-pdf-translate 插件</h4><p>需要到首选项里设置一下引擎</p><h4 id="2-10-Markdown-Here">2.10 <a href="https://link.zhihu.com/?target=https%3A//markdown-here.com/">Markdown Here</a></h4><p>谁懂啊！Markdown yyds</p><p>记得要markdown转换</p><h4 id="2-11-zotero-better-notes">2.11 zotero-better-notes</h4><p><a href="https://zhuanlan.zhihu.com/p/529084631">详细使用教程</a></p><p>类似obsidian</p><h4 id="2-12-Chartero">2.12 Chartero</h4><p><a href="https://www.bilibili.com/video/BV1XK411Q7Mp/?spm_id_from=333.337.search-card.all.click&amp;vd_source=09af431f535b3b9c45c946f67adf0cb3">教程</a></p><p>有时间再看</p><h4 id="2-13-Chatgpt">2.13 Chatgpt</h4><p>哦吼~是跟着<a href="https://github.com/kazgu/zotero-chatgpt">官方教程</a>设置的</p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230414235404863.png" alt="image-20230414235404863"></p><p>omo api是付<img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230415000736643.png" alt="image-20230415000736643"></p><h4 id="2-14-茉莉花">2.14 茉莉花</h4><ol><li>拆分或合并 Zotero 中条目作者姓和名</li><li>根据知网上下载的文献文件来抓取引用信息（就是根据文件名）</li><li>添加中文PDF/CAJ时，自动拉取知网数据，该功能默认关闭。需要到设置中开启，注意添加的文件名需要含有中文，全英文没有效果（还是根据文件名）</li><li>为知网的学位论文 PDF 添加书签</li><li>更新中文 translators</li><li>拉取文献引用次数，是否核心期刊</li></ol><p><a href="https://gitee.com/anmin2014/jasminum">教程</a></p><h3 id="快捷键"><a href="https://mp.weixin.qq.com/s?__biz=MzAxNzgyMDg0MQ==&amp;mid=2650456495&amp;idx=1&amp;sn=7621b24038f0126515c9f23b60463207&amp;chksm=83d1dc69b4a6557fc9966a51a70cde70c4acda22ef167196f83377163b1c0ac1bb15e8018f8f&amp;scene=21#wechat_redirect">快捷键</a></h3><h3 id="遇到的问题">遇到的问题</h3><h4 id="1-安装很多插件的时候遇到不兼容问题">1.安装很多插件的时候遇到不兼容问题</h4><p>多是因为zotero升级到6.0 但是在插件内部最大版本见容量还是5.0</p><p>解决方法：</p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230414220011684.png" alt="image-20230414220011684"></p><h4 id="2-出现打不开附加情况">2. 出现打不开附加情况</h4><p>以为是加的太多或者是chatgpt加入后有影响</p><p>关了再开也不行</p><p>原来这不是真的关···是要去任务管理器里关闭</p><p>啊啊啊配置了一晚上 但是好舒服啊</p>]]></content>
    
    
    <categories>
      
      <category>一些配置</category>
      
    </categories>
    
    
    <tags>
      
      <tag>APP</tag>
      
      <tag>配置</tag>
      
      <tag>插件</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>hexo插入视频或音乐</title>
    <link href="/2023/02/14/hexo%E6%8F%92%E5%85%A5%E8%A7%86%E9%A2%91%E6%88%96%E9%9F%B3%E4%B9%90/"/>
    <url>/2023/02/14/hexo%E6%8F%92%E5%85%A5%E8%A7%86%E9%A2%91%E6%88%96%E9%9F%B3%E4%B9%90/</url>
    
    <content type="html"><![CDATA[<p>在单片机的文章中插入了不少的视频，但是在上传部署到hexo后发现视频在网页中的地理位置以及占比不太对劲且无法播放，于是搜索了在hexo中部署视频的方法，为简便下次应用，简单记录</p><p>转载自<a href="https://blog.csdn.net/yimagudao/article/details/89524210">倚马古道</a></p><h3 id="hexo-tag-aplayer">hexo-tag-aplayer</h3><h5 id="安装">安装</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">npm install --save hexo-tag-aplayer<br></code></pre></td></tr></table></figure><h5 id="使用方法——aplayer">使用方法——aplayer</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html">&#123;% aplayer title author url [picture_url, narrow, autoplay, width:xxx, lrc:xxx] %&#125;<br></code></pre></td></tr></table></figure><ul><li>title : 曲目标题</li><li>author: 曲目作者</li><li>url: 音乐文件 URL 地址</li><li>picture_url: (可选) 音乐对应的图片地址</li><li>narrow: （可选）播放器袖珍风格</li><li>autoplay: (可选) 自动播放，移动端浏览器暂时不支持此功能</li><li>width:xxx: (可选) 播放器宽度 (默认: 100%)</li><li>lrc:xxx: （可选）歌词文件 URL 地址</li></ul><p>例如：</p><figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs perl">&#123;% aplayer <span class="hljs-string">&quot;她的睫毛&quot;</span> <span class="hljs-string">&quot;周杰伦&quot;</span> <span class="hljs-string">&quot;http://home.ustc.edu.cn/~mmmwhy/%d6%dc%bd%dc%c2%d7%20-%20%cb%fd%b5%c4%bd%de%c3%ab.mp3&quot;</span>  <span class="hljs-string">&quot;http://home.ustc.edu.cn/~mmmwhy/jay.jpg&quot;</span> %&#125;<br></code></pre></td></tr></table></figure><p>如果你觉得前面的方法不太好用，可以用下面的方法，使用MetingJS。</p><h5 id="使用方法——MetingJS">使用方法——MetingJS</h5><p>MetingJS 是基于Meting API 的 APlayer 衍生播放器，支持对于 QQ音乐、网易云音乐、虾米、酷狗、百度等平台的音乐播放。</p><h5 id="第一步：修改-config-yml配置">第一步：修改_config.yml配置</h5><p>在hexo的配置文件_config.yml中添加：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">aplayer:</span><br><span class="hljs-attr">meting:</span> <span class="hljs-literal">true</span><br></code></pre></td></tr></table></figure><h5 id="第二步：使用MetingJS-播放器">第二步：使用MetingJS 播放器</h5><figure class="highlight twig"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs twig"><span class="language-xml"><span class="hljs-comment">&lt;!-- 简单示例 (id, server, type)  --&gt;</span></span><br><span class="language-xml"></span><span class="hljs-template-tag">&#123;%</span> <span class="hljs-name">meting</span> <span class="hljs-string">&quot;571184509&quot;</span> <span class="hljs-string">&quot;xiami&quot;</span> <span class="hljs-string">&quot;playlist&quot;</span> <span class="hljs-template-tag">%&#125;</span><br></code></pre></td></tr></table></figure><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230214212254943.png" alt="image-20230214212254943"></p><h3 id="hexo-tag-dplayer">hexo-tag-dplayer</h3><p>hexo-tag-dplayer 是 DPlayer 播放器的 Hexo 标签插件</p><h5 id="安装-2">安装</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">npm install --save hexo-tag-dplayer<br></code></pre></td></tr></table></figure><h5 id="使用">使用</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html">&#123;% dplayer key=value ... %&#125;<br></code></pre></td></tr></table></figure><p>例：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html">&#123;% dplayer &quot;url=http://www.nenu.edu.cn/_upload/article/videos/03/5f/7c999eed42e3aadc413d7f851f0e/0f50b3eb-9285-41d2-ac4d-6cc363651aad_B.mp4&quot;  &quot;autoplay=true&quot; &quot;preload=metadata&quot; &quot;hotkey=true&quot; %&#125; <br></code></pre></td></tr></table></figure><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230214212401408.png" alt="image-20230214212401408"></p><p>注：如果使用腾讯视频、优酷视频等在线视频网站的资源，需要先进行视频地址解析，如点量视频解析，获取到实际的视频地址。</p><p>其他使用方法<br>在使用优酷或者腾讯视频时可以直接复制分享代码到文章中，如：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">iframe</span> <span class="hljs-attr">height</span>=<span class="hljs-string">498</span> <span class="hljs-attr">width</span>=<span class="hljs-string">510</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&#x27;https://player.youku.com/embed/XMjk4ODAyMzIyOA==&#x27;</span> <span class="hljs-attr">frameborder</span>=<span class="hljs-string">0</span> &#x27;<span class="hljs-attr">allowfullscreen</span>&#x27;&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">iframe</span>&gt;</span><br></code></pre></td></tr></table></figure><p><a href="https://blog.csdn.net/qq_41380292/article/details/121886741">其他可参考链接1</a></p><p><a href="https://www.jianshu.com/p/26a7fc7cc185">其他可参考链接2</a></p>]]></content>
    
    
    <categories>
      
      <category>hexo</category>
      
    </categories>
    
    
    <tags>
      
      <tag>插件</tag>
      
      <tag>多媒体</tag>
      
      <tag>部署</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>时间序列</title>
    <link href="/2023/02/14/%E2%80%9C%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97%E2%80%9D/"/>
    <url>/2023/02/14/%E2%80%9C%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97%E2%80%9D/</url>
    
    <content type="html"><![CDATA[<h1>时间序列</h1><h2 id="Assumption：">Assumption：</h2><ol><li>预测所依据的数据具有不规则性</li><li>不考虑事物发展之间的因果关系</li></ol><h2 id="变化形式：">变化形式：</h2><ul><li>长期趋势：主要变化趋势</li><li>季节变动：在每期内重复出现的周期性变动（周期一般为12月）</li><li>循环变动：以期数为周期而重复出现的周期性变动</li><li>不规则变动：偶然变动</li></ul><h2 id="方法">方法</h2><h4 id="image-20230126203921531"><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230126203921531.png" alt="image-20230126203921531"></h4><h3 id="指数平滑法">指数平滑法</h3><h4 id="一次指数平滑法">一次指数平滑法</h4><p>设时间序列为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>y</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>y</mi><mn>2</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>y</mi><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">y_{1},y_{2},...,y_{t}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">...</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，一次指数平滑法公式为：</p><p class="katex-block "><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.16em" columnalign="left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msubsup><mi mathvariant="normal">S</mi><mi>t</mi><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></msubsup><mo>=</mo><mi>α</mi><msub><mi>y</mi><mi>t</mi></msub><mo>+</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>α</mi><mo stretchy="false">)</mo><msubsup><mi mathvariant="normal">S</mi><mrow><mi>t</mi><mo>−</mo><mn>1</mn></mrow><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></msubsup><mo>=</mo><msubsup><mi mathvariant="normal">S</mi><mrow><mi>t</mi><mo>−</mo><mn>1</mn></mrow><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></msubsup><mo>+</mo><mi>α</mi><mrow><mo fence="true">(</mo><msub><mi>y</mi><mi>t</mi></msub><mo>−</mo><msubsup><mi mathvariant="normal">S</mi><mrow><mi>t</mi><mo>−</mo><mn>1</mn></mrow><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></msubsup><mo fence="true">)</mo></mrow></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{array}{l}\mathrm{S}_{t}^{(1)}=\alpha y_{t}+(1-\alpha) \mathrm{S}_{t-1}^{(1)}=\mathrm{S}_{t-1}^{(1)}+\alpha\left(y_{t}-\mathrm{S}_{t-1}^{(1)}\right) \end{array}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.8em;vertical-align:-0.65em;"></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.15em;"><span style="top:-3.15em;"><span class="pstrut" style="height:3.15em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.4542em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">1</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2458em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mclose">)</span><span class="mord"><span class="mord mathrm">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.4337em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">1</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3246em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathrm">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.4337em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">1</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3246em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size2">(</span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathrm">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.4337em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">1</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3246em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size2">)</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.65em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span></span></span></span></span></p><p>预测模型（指数平滑值）为：</p><p class="katex-block "><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mover accent="true"><mi>y</mi><mo>^</mo></mover><mrow><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>=</mo><msubsup><mi>S</mi><mi>t</mi><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></msubsup></mrow><annotation encoding="application/x-tex">\hat{y}_{t+1}=S_{t}^{(1)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9028em;vertical-align:-0.2083em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">^</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.2906em;vertical-align:-0.2458em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.4542em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">1</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2458em;"><span></span></span></span></span></span></span></span></span></span></span></p><p>即：</p><p class="katex-block "><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mover accent="true"><mi>y</mi><mo>^</mo></mover><mrow><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>=</mo><mi>α</mi><msub><mi>y</mi><mi>t</mi></msub><mo>+</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>α</mi><mo stretchy="false">)</mo><msub><mover accent="true"><mi>y</mi><mo>^</mo></mover><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">\hat{y}_{t+1}=\alpha y_{t}+(1-\alpha) \hat{y}_{t}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9028em;vertical-align:-0.2083em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">^</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mclose">)</span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">^</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span></p><h6 id="alpha选择"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span></span></span></span>选择</h6><p>新数据所占比重与<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span></span></span></span>成正比</p><ul><li>时间序列波动较大</li></ul><p>​<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span></span></span></span>选取0.6-0.8，增强预测模型的灵敏度，跟上数据变化</p><ul><li>时间序列波动较小</li></ul><p>​<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span></span></span></span>选取0.1-0.5，以减小修正幅度，预测模型可以包含较长的信息</p><h6 id="初始值选择">初始值选择</h6><p>数据在20个以上选取第一个值</p><p>20个以下选取第一二个的平均值</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs matlab">clear all;<br>real_sale = [<span class="hljs-number">50</span> <span class="hljs-number">52</span> <span class="hljs-number">47</span> <span class="hljs-number">51</span> <span class="hljs-number">49</span> <span class="hljs-number">48</span> <span class="hljs-number">51</span> <span class="hljs-number">40</span> <span class="hljs-number">48</span> <span class="hljs-number">52</span> <span class="hljs-number">51</span> <span class="hljs-number">59</span>];<br>a = [<span class="hljs-number">0.2</span> <span class="hljs-number">0.5</span> <span class="hljs-number">0.8</span>];<br>y1 = (real_sale(<span class="hljs-number">1</span>)+real_sale(<span class="hljs-number">2</span>))/<span class="hljs-number">2</span>;<span class="hljs-comment">%初始值</span><br>pre = <span class="hljs-built_in">zeros</span>(<span class="hljs-number">3</span>,<span class="hljs-number">12</span>);<br>pre(:,<span class="hljs-number">1</span>) = y1;<br><span class="hljs-keyword">for</span> <span class="hljs-built_in">i</span> = <span class="hljs-number">1</span>:<span class="hljs-number">3</span><br>    <span class="hljs-keyword">for</span> <span class="hljs-built_in">j</span> = <span class="hljs-number">2</span>:<span class="hljs-number">12</span><br>        pre(<span class="hljs-built_in">i</span>,<span class="hljs-built_in">j</span>) = (real_sale(<span class="hljs-built_in">j</span><span class="hljs-number">-1</span>)*a(<span class="hljs-built_in">i</span>)+pre(<span class="hljs-built_in">i</span>,<span class="hljs-built_in">j</span><span class="hljs-number">-1</span>)*(<span class="hljs-number">1</span>-a(<span class="hljs-built_in">i</span>)));<br>    <span class="hljs-keyword">end</span><br><span class="hljs-keyword">end</span><br>pre;<br>real_sale = <span class="hljs-built_in">repmat</span>(real_sale,<span class="hljs-number">3</span>,<span class="hljs-number">1</span>);<br>err = <span class="hljs-built_in">sqrt</span>(<span class="hljs-built_in">mean</span>((real_sale-pre)&#x27;.^<span class="hljs-number">2</span>))<br><br><span class="hljs-comment">%%</span><br>err =<br><br>    <span class="hljs-number">4.5029</span>    <span class="hljs-number">4.5908</span>    <span class="hljs-number">4.8426</span><br>故选用<span class="hljs-number">0.2</span><br>预测<span class="hljs-number">1988</span>数值<br><br><br><span class="hljs-comment">%%</span><br>pre1988 = <span class="hljs-number">0.2</span>*real_sale(<span class="hljs-built_in">i</span>,<span class="hljs-built_in">j</span>)+<span class="hljs-number">0.8</span>*pre(<span class="hljs-number">1</span>,<span class="hljs-built_in">j</span>)<br><span class="hljs-comment">%</span><br><br>pre1988 =<br><br>   <span class="hljs-number">51.1754</span><br><br></code></pre></td></tr></table></figure><p>确定时间序列包含成分——&gt;确定时间序列类型——&gt;找出时间序列变化趋势——&gt;确定预测方法——&gt;对预测方法进行评估，确定最佳方案</p><p>一次指数平滑法具有滞后性，拓展为二次指数平滑法</p><h4 id="二次指数平滑法">二次指数平滑法</h4><p>计算公式:</p><p class="katex-block "><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.16em" columnalign="left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msubsup><mi mathvariant="normal">S</mi><mi>t</mi><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></msubsup><mo>=</mo><mi>α</mi><msub><mi>y</mi><mi>t</mi></msub><mo>+</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>α</mi><mo stretchy="false">)</mo><msubsup><mi mathvariant="normal">S</mi><mrow><mi>t</mi><mo>−</mo><mn>1</mn></mrow><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></msubsup></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msubsup><mi mathvariant="normal">S</mi><mi>t</mi><mrow><mo stretchy="false">(</mo><mn>2</mn><mo stretchy="false">)</mo></mrow></msubsup><mo>=</mo><mi>α</mi><msubsup><mi mathvariant="normal">S</mi><mi>t</mi><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></msubsup><mo>+</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>α</mi><mo stretchy="false">)</mo><msubsup><mi mathvariant="normal">S</mi><mrow><mi>t</mi><mo>−</mo><mn>1</mn></mrow><mrow><mo stretchy="false">(</mo><mn>2</mn><mo stretchy="false">)</mo></mrow></msubsup></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{array}{l}\mathrm{S}_{t}^{(1)}=\alpha y_{t}+(1-\alpha) \mathrm{S}_{t-1}^{(1)} \\\mathrm{S}_{t}^{(2)}=\alpha \mathrm{S}_{t}^{(1)}+(1-\alpha) \mathrm{S}_{t-1}^{(2)}\end{array}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.8096em;vertical-align:-1.1548em;"></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6548em;"><span style="top:-3.6548em;"><span class="pstrut" style="height:3.0448em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.4542em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">1</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2458em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mclose">)</span><span class="mord"><span class="mord mathrm">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.4337em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">1</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3246em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.0448em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.4542em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">2</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2458em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mord"><span class="mord mathrm">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.4542em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">1</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2458em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mclose">)</span><span class="mord"><span class="mord mathrm">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.4337em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">2</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3246em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.1548em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span></span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>S</mi><mi>t</mi><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></msubsup></mrow><annotation encoding="application/x-tex">S_{t}^{(1)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2906em;vertical-align:-0.2458em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.4542em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">1</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2458em;"><span></span></span></span></span></span></span></span></span></span>  是第一次指数的平滑值,$  S_{t}^{(2)}$  为二次指数平滑值。<br>当时间序列  <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo fence="true">{</mo><msub><mi>y</mi><mi>t</mi></msub><mo fence="true">}</mo></mrow><annotation encoding="application/x-tex">\left\{y_{t}\right\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">{</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">}</span></span></span></span></span> , 从某时刻开始具有直线趋势时, 可 用直线趋势模型:</p><p class="katex-block "><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.16em" columnalign="left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mover accent="true"><mi>y</mi><mo>^</mo></mover><mo>=</mo><msub><mi>a</mi><mi>t</mi></msub><mo>+</mo><msub><mi>b</mi><mi>t</mi></msub><mi>T</mi><mspace width="1em"/><mo separator="true">,</mo><mspace width="1em"/><mrow><mtext> </mtext><mi mathvariant="normal">T</mi></mrow><mo>=</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mo>⋯</mo><mo>⋯</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo fence="true">{</mo><mtable rowspacing="0.16em" columnalign="left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>a</mi><mi>t</mi></msub><mo>=</mo><mn>2</mn><msubsup><mrow><mtext> </mtext><mi mathvariant="normal">S</mi></mrow><mi>t</mi><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></msubsup><mo>−</mo><msubsup><mi mathvariant="normal">S</mi><mi>t</mi><mrow><mo stretchy="false">(</mo><mn>2</mn><mo stretchy="false">)</mo></mrow></msubsup></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>b</mi><mi>t</mi></msub><mo>=</mo><mfrac><mi>α</mi><mrow><mn>1</mn><mo>−</mo><mi>α</mi></mrow></mfrac><mrow><mo fence="true">(</mo><msubsup><mi mathvariant="normal">S</mi><mi>t</mi><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></msubsup><mo>−</mo><msubsup><mi mathvariant="normal">S</mi><mi>t</mi><mrow><mo stretchy="false">(</mo><mn>2</mn><mo stretchy="false">)</mo></mrow></msubsup><mo fence="true">)</mo></mrow></mrow></mstyle></mtd></mtr></mtable></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{array}{l}\hat{y}=a_{t}+b_{t} T \quad, \quad \mathrm{~T}=1,2, \cdots \cdots \\\left\{\begin{array}{l}a_{t}=2 \mathrm{~S}_{t }^{(1)}-\mathrm{S}_{t}^{(2)} \\b_{t}=\frac{\alpha}{1-\alpha}\left(\mathrm{S}_{t}^{(1)}-\mathrm{S}_{t}^{(2)}\right)\end{array}\right.\end{array}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:4.4048em;vertical-align:-1.9524em;"></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.4524em;"><span style="top:-5.4648em;"><span class="pstrut" style="height:3.8524em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">^</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:1em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mspace nobreak"> </span><span class="mord mathrm">T</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">⋯⋯</span></span></span><span style="top:-3.2524em;"><span class="pstrut" style="height:3.8524em;"></span><span class="mord"><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size4">{</span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8524em;"><span style="top:-3.9576em;"><span class="pstrut" style="height:3.15em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">2</span><span class="mord"><span class="mord"><span class="mspace nobreak"> </span><span class="mord mathrm">S</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.4542em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">1</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2458em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathrm">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.4542em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">2</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2458em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.4476em;"><span class="pstrut" style="height:3.15em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6954em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mbin mtight">−</span><span class="mord mathnormal mtight" style="margin-right:0.0037em;">α</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.0037em;">α</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4033em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size2">(</span></span><span class="mord"><span class="mord mathrm">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.4542em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">1</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2458em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathrm">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.4542em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">2</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2458em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size2">)</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.3524em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.9524em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span></span></span></span></span></p><h6 id="例子：">例子：</h6><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230126213643341.png" alt="image-20230126213643341"></p><p>选取<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span></span></span></span>为0.3，初始值区序列首项<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>S</mi><mn>0</mn><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></msubsup><mo>=</mo><msubsup><mi>S</mi><mn>0</mn><mn>0</mn></msubsup><mo>=</mo><mi>y</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">S_{0}^{(1)}=S_{0}^{0}=y(1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.3111em;vertical-align:-0.2663em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.4337em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">0</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">1</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2663em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0622em;vertical-align:-0.2481em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-2.4519em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">0</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">0</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></p><p>计算一次平滑值和二次平滑值<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>S</mi><mn>21</mn><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></msubsup><mo>=</mo><mn>3523.1</mn><mo separator="true">,</mo><msubsup><mi>S</mi><mn>21</mn><mrow><mo stretchy="false">(</mo><mn>2</mn><mo stretchy="false">)</mo></mrow></msubsup><mo>=</mo><mn>3032.6</mn></mrow><annotation encoding="application/x-tex">S_{21}^{(1)}=3523.1,S_{21}^{(2)}=3032.6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.3111em;vertical-align:-0.2663em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.4337em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">21</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">1</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2663em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.3111em;vertical-align:-0.2663em;"></span><span class="mord">3523.1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.4337em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">21</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">2</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2663em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3032.6</span></span></span></span></p><p>得到<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi><mo>=</mo><mn>21</mn></mrow><annotation encoding="application/x-tex">t=21</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6151em;"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">21</span></span></span></span>时，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mn>21</mn></msub><mo>=</mo><mn>4013.7</mn><mo separator="true">,</mo><msub><mi>b</mi><mn>21</mn></msub><mo>=</mo><mn>210.24</mn></mrow><annotation encoding="application/x-tex">a_{21}=4013.7,b_{21}=210.24</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">21</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord">4013.7</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">21</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">210.24</span></span></span></span></p><p>得到<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi><mo>=</mo><mn>21</mn></mrow><annotation encoding="application/x-tex">t=21</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6151em;"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">21</span></span></span></span>时的直线趋势方程为：</p><p class="katex-block "><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mover accent="true"><mi>y</mi><mo>^</mo></mover><mrow><mn>21</mn><mo>+</mo><mi>T</mi></mrow></msub><mo>=</mo><mn>4013.7</mn><mo>+</mo><mn>210.24</mn><mi>T</mi></mrow><annotation encoding="application/x-tex">\hat{y}_{21+T}=4013.7+210.24T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9028em;vertical-align:-0.2083em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">^</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">21</span><span class="mbin mtight">+</span><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">4013.7</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">210.24</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span></span></span></span></span></p><p>预测1986和1987年的总发电量为：</p><p class="katex-block "><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mover accent="true"><mi>y</mi><mo>^</mo></mover><mn>1986</mn></msub><mo>=</mo><msub><mover accent="true"><mi>y</mi><mo>^</mo></mover><mn>22</mn></msub><mo>=</mo><msub><mover accent="true"><mi>y</mi><mo>^</mo></mover><mrow><mn>21</mn><mo>+</mo><mn>1</mn></mrow></msub><mo>=</mo><mn>4223.9</mn></mrow><annotation encoding="application/x-tex">\hat{y}_{1986}=\hat{y}_{22}=\hat{y}_{21+1}=4223.9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">^</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1986</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">^</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">22</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.9028em;vertical-align:-0.2083em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">^</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">21</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">4223.9</span></span></span></span></span></p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs matlab">clc;<br>clear all;<br>yt = [<span class="hljs-number">676</span> <span class="hljs-number">825</span> <span class="hljs-number">774</span> <span class="hljs-number">716</span> <span class="hljs-number">940</span> <span class="hljs-number">1159</span> <span class="hljs-number">1384</span> <span class="hljs-number">1524</span> <span class="hljs-number">1668</span> <span class="hljs-number">1688</span> <span class="hljs-number">1958</span> <span class="hljs-number">2031</span> <span class="hljs-number">2234</span> <span class="hljs-number">2566</span> <span class="hljs-number">2820</span> <span class="hljs-number">3006</span> <span class="hljs-number">3093</span> <span class="hljs-number">3277</span> <span class="hljs-number">3514</span> <span class="hljs-number">3770</span> <span class="hljs-number">4107</span>];<br>n = <span class="hljs-built_in">length</span>(yt);<br>alpha = <span class="hljs-number">0.3</span>;<br>st1(<span class="hljs-number">1</span>) = yt(<span class="hljs-number">1</span>);<br>st2(<span class="hljs-number">1</span>) = yt(<span class="hljs-number">1</span>);<br><span class="hljs-keyword">for</span> <span class="hljs-built_in">i</span> = <span class="hljs-number">2</span>:n<br>    st1(<span class="hljs-built_in">i</span>) = alpha*yt(<span class="hljs-built_in">i</span>)+(<span class="hljs-number">1</span>-alpha)*st1(<span class="hljs-built_in">i</span><span class="hljs-number">-1</span>);<br>    st2(<span class="hljs-built_in">i</span>) = alpha*st1(<span class="hljs-built_in">i</span>)+(<span class="hljs-number">1</span>-alpha)*st2(<span class="hljs-built_in">i</span><span class="hljs-number">-1</span>);<br><span class="hljs-keyword">end</span><br>a21 = <span class="hljs-number">2</span>*st1-st2;<br>b21 = alpha/(<span class="hljs-number">1</span>-alpha)*(st1-st2);<br>y1986 = a21+b21*<span class="hljs-number">1</span>;<br>y1987 = a21+b21*<span class="hljs-number">2</span>;<br><span class="hljs-built_in">disp</span>(<span class="hljs-string">&#x27;1986年的预测值为：&#x27;</span>);<br>y1986(<span class="hljs-keyword">end</span>)<br><span class="hljs-built_in">disp</span>(<span class="hljs-string">&#x27;1987年的预测值为：&#x27;</span>);<br>y1987(<span class="hljs-keyword">end</span>)<br></code></pre></td></tr></table></figure><h4 id="三次指数平滑法">三次指数平滑法</h4><p>当时间序列的变动呈现为二次曲线趋势时进行三次指数平滑</p><p class="katex-block "><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.16em" columnalign="left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msubsup><mi mathvariant="normal">S</mi><mi>t</mi><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></msubsup><mo>=</mo><mi>α</mi><msub><mi>y</mi><mi>t</mi></msub><mo>+</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>α</mi><mo stretchy="false">)</mo><msubsup><mi mathvariant="normal">S</mi><mrow><mi>t</mi><mo>−</mo><mn>1</mn></mrow><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></msubsup></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msubsup><mi mathvariant="normal">S</mi><mi>t</mi><mrow><mo stretchy="false">(</mo><mn>2</mn><mo stretchy="false">)</mo></mrow></msubsup><mo>=</mo><mi>α</mi><msubsup><mi mathvariant="normal">S</mi><mi>t</mi><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></msubsup><mo>+</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>α</mi><mo stretchy="false">)</mo><msubsup><mi mathvariant="normal">S</mi><mrow><mi>t</mi><mo>−</mo><mn>1</mn></mrow><mrow><mo stretchy="false">(</mo><mn>2</mn><mo stretchy="false">)</mo></mrow></msubsup></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msubsup><mi mathvariant="normal">S</mi><mi>t</mi><mrow><mo stretchy="false">(</mo><mn>3</mn><mo stretchy="false">)</mo></mrow></msubsup><mo>=</mo><mi>α</mi><msubsup><mi mathvariant="normal">S</mi><mi>t</mi><mrow><mo stretchy="false">(</mo><mn>2</mn><mo stretchy="false">)</mo></mrow></msubsup><mo>+</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>α</mi><mo stretchy="false">)</mo><msubsup><mi mathvariant="normal">S</mi><mrow><mi>t</mi><mo>−</mo><mn>1</mn></mrow><mrow><mo stretchy="false">(</mo><mn>3</mn><mo stretchy="false">)</mo></mrow></msubsup></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{array}{l}\mathrm{S}_{t}^{(1)}=\alpha y_{t}+(1-\alpha) \mathrm{S}_{t-1}^{(1)} \\\mathrm{S}_{t}^{(2)}=\alpha \mathrm{S}_{t}^{(1)}+(1-\alpha) \mathrm{S}_{t-1}^{(2)}\\\mathrm{S}_{t}^{(3)}=\alpha \mathrm{S}_{t}^{(2)}+(1-\alpha) \mathrm{S}_{t-1}^{(3)}\end{array}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:4.2144em;vertical-align:-1.8572em;"></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.3572em;"><span style="top:-4.3572em;"><span class="pstrut" style="height:3.0448em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.4542em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">1</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2458em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mclose">)</span><span class="mord"><span class="mord mathrm">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.4337em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">1</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3246em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.9524em;"><span class="pstrut" style="height:3.0448em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.4542em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">2</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2458em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mord"><span class="mord mathrm">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.4542em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">1</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2458em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mclose">)</span><span class="mord"><span class="mord mathrm">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.4337em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">2</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3246em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.5476em;"><span class="pstrut" style="height:3.0448em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.4542em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">3</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2458em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mord"><span class="mord mathrm">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.4542em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">2</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2458em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mclose">)</span><span class="mord"><span class="mord mathrm">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.4337em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">3</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3246em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.8572em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span></span></span></span></span></p><p>三次指数平滑法的预测模型为:</p><p class="katex-block "><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mover accent="true"><mi>y</mi><mo>^</mo></mover><mrow><mi>t</mi><mo>+</mo><mi>T</mi></mrow></msub><mo>=</mo><msub><mi>a</mi><mi>t</mi></msub><mo>+</mo><msub><mi>b</mi><mi>t</mi></msub><mi>T</mi><mo>+</mo><msub><mi>c</mi><mi>t</mi></msub><msup><mi>T</mi><mn>2</mn></msup><mo separator="true">,</mo><mi>T</mi><mo>=</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mo>…</mo></mrow><annotation encoding="application/x-tex">\hat{y}_{t+T}=a_{t}+b_{t} T+c_{t} T^{2}, T=1,2, \ldots</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9028em;vertical-align:-0.2083em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">^</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mbin mtight">+</span><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.0585em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">…</span></span></span></span></span></p><p>其中</p><p class="katex-block "><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>a</mi><mi>t</mi></msub><mo>=</mo><mn>3</mn><msubsup><mrow><mtext> </mtext><mi mathvariant="normal">S</mi></mrow><mi>t</mi><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></msubsup><mo>−</mo><mn>3</mn><msubsup><mrow><mtext> </mtext><mi mathvariant="normal">S</mi></mrow><mi>t</mi><mrow><mo stretchy="false">(</mo><mn>2</mn><mo stretchy="false">)</mo></mrow></msubsup><mo>+</mo><msubsup><mi mathvariant="normal">S</mi><mi>t</mi><mrow><mo stretchy="false">(</mo><mn>3</mn><mo stretchy="false">)</mo></mrow></msubsup></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>b</mi><mi>t</mi></msub><mo>=</mo><mfrac><mi>α</mi><mrow><mn>2</mn><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>α</mi><mo stretchy="false">)</mo></mrow></mfrac><mo stretchy="false">(</mo><mn>6</mn><mo>−</mo><mn>5</mn><mi>α</mi><mo stretchy="false">)</mo><msubsup><mi mathvariant="normal">S</mi><mi>t</mi><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></msubsup><mo>−</mo><mn>2</mn><mo stretchy="false">(</mo><mn>5</mn><mo>−</mo><mn>4</mn><mi>α</mi><mo stretchy="false">)</mo><msubsup><mi mathvariant="normal">S</mi><mi>t</mi><mrow><mo stretchy="false">(</mo><mn>2</mn><mo stretchy="false">)</mo></mrow></msubsup><mo>+</mo><mo stretchy="false">(</mo><mn>4</mn><mo>−</mo><mn>3</mn><mi>α</mi><mo stretchy="false">)</mo><msubsup><mi mathvariant="normal">S</mi><mi>t</mi><mrow><mo stretchy="false">(</mo><mn>3</mn><mo stretchy="false">)</mo></mrow></msubsup></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>⋅</mo><mspace width="1em"/><msub><mi>c</mi><mi>t</mi></msub><mo>=</mo><mfrac><msup><mi>α</mi><mn>2</mn></msup><mrow><mn>2</mn><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>α</mi><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow></mfrac><mrow><mo fence="true">[</mo><msubsup><mrow><mtext> </mtext><mi mathvariant="normal">S</mi></mrow><mi>t</mi><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></msubsup><mo>−</mo><mn>2</mn><msubsup><mrow><mtext> </mtext><mi mathvariant="normal">S</mi></mrow><mi>t</mi><mrow><mo stretchy="false">(</mo><mn>2</mn><mo stretchy="false">)</mo></mrow></msubsup><mo>+</mo><mo>+</mo><msubsup><mi mathvariant="normal">S</mi><mi>t</mi><mrow><mo stretchy="false">(</mo><mn>3</mn><mo stretchy="false">)</mo></mrow></msubsup><mo fence="true">]</mo></mrow></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{array}{c}a_{t}=3 \mathrm{~S}_{t}^{(1)}-3 \mathrm{~S}_{t}^{(2)}+\mathrm{S}_{t}^{(3)} \\b_{t}=\frac{\alpha}{2(1-\alpha)}(6-5 \alpha) \mathrm{S}_{t}^{(1)}-2(5-4 \alpha) \mathrm{S}_{t}^{(2)}+(4-3 \alpha) \mathrm{S}_{t}^{(3)} \\\cdot \quad c_{t}=\frac{\alpha^{2}}{2(1-\alpha)^{2}}\left[\mathrm{~S}_{t}^{(1)}-2 \mathrm{~S}_{t}^{(2)}++\mathrm{S}_{t}^{(3)}\right]\end{array}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:4.7696em;vertical-align:-2.1348em;"></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6348em;"><span style="top:-4.74em;"><span class="pstrut" style="height:3.15em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">3</span><span class="mord"><span class="mord"><span class="mspace nobreak"> </span><span class="mord mathrm">S</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.4542em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">1</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2458em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">3</span><span class="mord"><span class="mord"><span class="mspace nobreak"> </span><span class="mord mathrm">S</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.4542em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">2</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2458em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathrm">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.4542em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">3</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2458em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.3352em;"><span class="pstrut" style="height:3.15em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6954em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mopen mtight">(</span><span class="mord mtight">1</span><span class="mbin mtight">−</span><span class="mord mathnormal mtight" style="margin-right:0.0037em;">α</span><span class="mclose mtight">)</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.0037em;">α</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.52em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mopen">(</span><span class="mord">6</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">5</span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mclose">)</span><span class="mord"><span class="mord mathrm">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.4542em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">1</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2458em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">2</span><span class="mopen">(</span><span class="mord">5</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">4</span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mclose">)</span><span class="mord"><span class="mord mathrm">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.4542em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">2</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2458em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">(</span><span class="mord">4</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">3</span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mclose">)</span><span class="mord"><span class="mord mathrm">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.4542em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">3</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2458em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.6652em;"><span class="pstrut" style="height:3.15em;"></span><span class="mord"><span class="mord">⋅</span><span class="mspace" style="margin-right:1em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0179em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mopen mtight">(</span><span class="mord mtight">1</span><span class="mbin mtight">−</span><span class="mord mathnormal mtight" style="margin-right:0.0037em;">α</span><span class="mclose mtight"><span class="mclose mtight">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7463em;"><span style="top:-2.786em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.52em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size2">[</span></span><span class="mord"><span class="mord"><span class="mspace nobreak"> </span><span class="mord mathrm">S</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.4542em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">1</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2458em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">2</span><span class="mord"><span class="mord"><span class="mspace nobreak"> </span><span class="mord mathrm">S</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.4542em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">2</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2458em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">+</span><span class="mord"><span class="mord mathrm">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.4542em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">3</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2458em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size2">]</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1348em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span></span></span></span></span></p><h6 id="例子">例子</h6><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230126220617335.png" alt="image-20230126220617335"></p><p>取 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo>=</mo><mn>0.3</mn></mrow><annotation encoding="application/x-tex">a=0.3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.3</span></span></span></span> , 初始值$ S_{1}^{(0)}=S_{2}^{(0)}=S_{3}^{(0)}=\frac{y_{1}+y_{2}+y_{3}}{3}=21.94$</p><p>计算<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>S</mi><mi>t</mi><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></msubsup><mo separator="true">,</mo><msubsup><mi>S</mi><mi>t</mi><mrow><mo stretchy="false">(</mo><mn>2</mn><mo stretchy="false">)</mo></mrow></msubsup><mo separator="true">,</mo><msubsup><mi>S</mi><mi>t</mi><mrow><mo stretchy="false">(</mo><mn>3</mn><mo stretchy="false">)</mo></mrow></msubsup></mrow><annotation encoding="application/x-tex">S_{t}^{(1)}, S_{t}^{(2)}, S_{t}^{(3)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2906em;vertical-align:-0.2458em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.4542em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">1</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2458em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.4542em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">2</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2458em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.4542em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">3</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2458em;"><span></span></span></span></span></span></span></span></span></span></p><p class="katex-block "><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>得到</mtext><msubsup><mi>S</mi><mn>11</mn><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></msubsup><mo>=</mo><mn>151.77</mn><mo separator="true">,</mo><msubsup><mi>S</mi><mn>11</mn><mrow><mo stretchy="false">(</mo><mn>2</mn><mo stretchy="false">)</mo></mrow></msubsup><mo>=</mo><mn>101.28</mn><mo separator="true">,</mo><msubsup><mi>S</mi><mn>11</mn><mrow><mo stretchy="false">(</mo><mn>3</mn><mo stretchy="false">)</mo></mrow></msubsup><mo>=</mo><mn>68.43</mn></mrow><annotation encoding="application/x-tex">得到S_{11}^{(1)}=151.77, S_{11}^{(2)}=101.28, S_{11}^{(3)}=68.43</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.3111em;vertical-align:-0.2663em;"></span><span class="mord cjk_fallback">得到</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.4337em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">11</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">1</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2663em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.3111em;vertical-align:-0.2663em;"></span><span class="mord">151.77</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.4337em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">11</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">2</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2663em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.3111em;vertical-align:-0.2663em;"></span><span class="mord">101.28</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.4337em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">11</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">3</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2663em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">68.43</span></span></span></span></span></p><p>当<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi><mo>=</mo><mn>11</mn></mrow><annotation encoding="application/x-tex">t=11</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6151em;"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">11</span></span></span></span>时</p><p class="katex-block "><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>a</mi><mn>11</mn></msub><mo>=</mo><mn>219.91</mn><mo separator="true">,</mo><msub><mi>b</mi><mn>11</mn></msub><mo>=</mo><mn>38.38</mn><mo separator="true">,</mo><msub><mi>c</mi><mn>11</mn></msub><mo>=</mo><mn>1.62</mn></mrow><annotation encoding="application/x-tex">a_{11}=219.91, b_{11}=38.38, c_{11}=1.62</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">11</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord">219.91</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">11</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">38.38</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">11</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1.62</span></span></span></span></span></p><p>得到<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi><mo>=</mo><mn>11</mn></mrow><annotation encoding="application/x-tex">t=11</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6151em;"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">11</span></span></span></span>时的预测模型为:</p><p class="katex-block "><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mover accent="true"><mi>y</mi><mo>^</mo></mover><mrow><mn>11</mn><mo>+</mo><mi>T</mi></mrow></msub><mo>=</mo><mn>219.91</mn><mo>+</mo><mn>38.38</mn><mi>T</mi><mo>+</mo><mn>1.62</mn><msup><mi>T</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">\hat{y}_{11+T}=219.91+38.38 T+1.62 T^{2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9028em;vertical-align:-0.2083em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">^</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">11</span><span class="mbin mtight">+</span><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">219.91</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord">38.38</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8641em;"></span><span class="mord">1.62</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span></span></p><p>预测可得1989年和1990年的固定资产投资总额为：</p><p class="katex-block "><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mover accent="true"><mi>y</mi><mo>^</mo></mover><mn>1989</mn></msub><mo>=</mo><msub><mover accent="true"><mi>y</mi><mo>^</mo></mover><mn>12</mn></msub><mo>=</mo><msub><mover accent="true"><mi>y</mi><mo>^</mo></mover><mrow><mn>11</mn><mo>+</mo><mn>1</mn></mrow></msub><mo>=</mo><msub><mi>a</mi><mn>11</mn></msub><mo>+</mo><msub><mi>b</mi><mn>11</mn></msub><mo>+</mo><msub><mi>c</mi><mn>11</mn></msub><mo>=</mo><mn>259.9174</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mover accent="true"><mi>y</mi><mo>^</mo></mover><mn>1990</mn></msub><mo>=</mo><msub><mover accent="true"><mi>y</mi><mo>^</mo></mover><mn>13</mn></msub><mo>=</mo><msub><mover accent="true"><mi>y</mi><mo>^</mo></mover><mrow><mn>11</mn><mo>+</mo><mn>2</mn></mrow></msub><mo>=</mo><msub><mi>a</mi><mn>11</mn></msub><mo>+</mo><mn>2</mn><msub><mi>b</mi><mn>11</mn></msub><mo>+</mo><msup><mn>2</mn><mn>2</mn></msup><msub><mi>c</mi><mn>11</mn></msub><mo>=</mo><mn>303.1637</mn></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{array}{c}\hat{y}_{1989}=\hat{y}_{12}=\hat{y}_{11+1}=a_{11}+b_{11}+c_{11}=259.9174 \\\hat{y}_{1990}=\hat{y}_{13}=\hat{y}_{11+2}=a_{11}+2 b_{11}+2^{2} c_{11}=303.1637\end{array}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">^</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1989</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">^</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">12</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">^</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">11</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">11</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">11</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">11</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">259.9174</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">^</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1990</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">^</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">13</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">^</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">11</span><span class="mbin mtight">+</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">11</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">2</span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">11</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">11</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">303.1637</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span></span></span></span></span></p><p>为了计算出各期的模拟值, 令<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">T</mi><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">\mathrm{T}=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathrm">T</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>, 则得到:</p><p class="katex-block "><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mover accent="true"><mi>y</mi><mo>^</mo></mover><mrow><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>=</mo><mfrac><mrow><mn>3</mn><mo>−</mo><mn>3</mn><mi>α</mi><mo>+</mo><msup><mi>α</mi><mn>2</mn></msup></mrow><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>α</mi><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow></mfrac><msubsup><mi>S</mi><mi>t</mi><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></msubsup><mo>−</mo><mfrac><mrow><mn>3</mn><mo>−</mo><mi>α</mi></mrow><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>α</mi><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow></mfrac><msubsup><mi>S</mi><mi>t</mi><mrow><mo stretchy="false">(</mo><mn>2</mn><mo stretchy="false">)</mo></mrow></msubsup><mo>+</mo><mfrac><mn>1</mn><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>α</mi><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow></mfrac><msubsup><mi>S</mi><mi>t</mi><mrow><mo stretchy="false">(</mo><mn>3</mn><mo stretchy="false">)</mo></mrow></msubsup></mrow><annotation encoding="application/x-tex">\hat{y}_{t+1}=\frac{3-3 \alpha+\alpha^{2}}{(1-\alpha)^{2}} S_{t}^{(1)}-\frac{3-\alpha}{(1-\alpha)^{2}} S_{t}^{(2)}+\frac{1}{(1-\alpha)^{2}} S_{t}^{(3)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9028em;vertical-align:-0.2083em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">^</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.4271em;vertical-align:-0.936em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4911em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">3</span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.4542em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">1</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2458em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.2574em;vertical-align:-0.936em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.4542em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">2</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2458em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.2574em;vertical-align:-0.936em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.4542em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">3</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2458em;"><span></span></span></span></span></span></span></span></span></span></span></p><p>令<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">t</mi><mo>=</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mo>…</mo><mn>11</mn></mrow><annotation encoding="application/x-tex">\mathrm{t}=0,1,2, \ldots 11</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6151em;"></span><span class="mord mathrm">t</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">11</span></span></span></span>, 得到各期的模拟值。</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs matlab">clc,clear;<br>yt = [<span class="hljs-number">20.04</span>;<span class="hljs-number">20.06</span>;<span class="hljs-number">25.72</span>;<span class="hljs-number">34.62</span>;<span class="hljs-number">51.77</span>;<span class="hljs-number">55.92</span>;<span class="hljs-number">80.65</span>;<span class="hljs-number">131.11</span>;<span class="hljs-number">148.58</span>;<span class="hljs-number">162.67</span>;<span class="hljs-number">232.26</span>];<br>n = <span class="hljs-built_in">length</span>(yt);<br>alpha = <span class="hljs-number">0.3</span>;<br>st1_0 = <span class="hljs-built_in">mean</span>(yt(<span class="hljs-number">1</span>:<span class="hljs-number">3</span>));<br>st2_0 = st1_0;<br>st3_0 = st1_0;<br>st1(<span class="hljs-number">1</span>) = alpha*yt(<span class="hljs-number">1</span>)+(<span class="hljs-number">1</span>-alpha)*st1_0;<br>st2(<span class="hljs-number">1</span>) = alpha*st1(<span class="hljs-number">1</span>)+(<span class="hljs-number">1</span>-alpha)*st2_0;<br>st3(<span class="hljs-number">1</span>) = alpha*st2(<span class="hljs-number">1</span>)+(<span class="hljs-number">1</span>-alpha)*st3_0;<br><span class="hljs-keyword">for</span> <span class="hljs-built_in">i</span> = <span class="hljs-number">2</span>:n<br>    st1(<span class="hljs-built_in">i</span>)=alpha*yt(<span class="hljs-built_in">i</span>)+(<span class="hljs-number">1</span>-alpha)*st1(<span class="hljs-built_in">i</span><span class="hljs-number">-1</span>);<br>    st2(<span class="hljs-built_in">i</span>)=alpha*st1(<span class="hljs-built_in">i</span>)+(<span class="hljs-number">1</span>-alpha)*st2(<span class="hljs-built_in">i</span><span class="hljs-number">-1</span>);<br>    st3(<span class="hljs-built_in">i</span>)=alpha*st2(<span class="hljs-built_in">i</span>)+(<span class="hljs-number">1</span>-alpha)*st3(<span class="hljs-built_in">i</span><span class="hljs-number">-1</span>);<br><span class="hljs-keyword">end</span><br>st1 = [st1_0,st1];<br>st2 = [st2_0,st2];<br>st3 = [st3_0,st3];<br>a11 = <span class="hljs-number">3</span>*st1<span class="hljs-number">-3</span>*st2+st3;<br>b11 = <span class="hljs-number">0.5</span>*alpha/(<span class="hljs-number">1</span>-alpha)^<span class="hljs-number">2</span>*((<span class="hljs-number">6</span><span class="hljs-number">-5</span>*alpha)*st1<span class="hljs-number">-2</span>*(<span class="hljs-number">5</span><span class="hljs-number">-4</span>*alpha)*st2+(<span class="hljs-number">4</span><span class="hljs-number">-3</span>*alpha)*st3);<br>c11 = <span class="hljs-number">0.5</span>*alpha^<span class="hljs-number">2</span>/(<span class="hljs-number">1</span>-alpha)^<span class="hljs-number">2</span>*(st1<span class="hljs-number">-2</span>*st2+st3);<br>yhat = a11+b11+c11<br><span class="hljs-built_in">plot</span>(<span class="hljs-number">1</span>:n,yt,<span class="hljs-string">&#x27;*&#x27;</span>,<span class="hljs-number">1</span>:n,yhat(<span class="hljs-number">1</span>:n),<span class="hljs-string">&#x27;o&#x27;</span>)<br>y1989 = a11+b11+c11<br>y1990 = a11+<span class="hljs-number">2</span>*b11+<span class="hljs-number">2</span>^<span class="hljs-number">2</span>*c11<br><span class="hljs-built_in">disp</span>(<span class="hljs-string">&#x27;1989年的预测值为&#x27;</span>);<br>y1989(<span class="hljs-keyword">end</span>)<br><span class="hljs-built_in">disp</span>(<span class="hljs-string">&#x27;1990年的预测值为&#x27;</span>);<br>y1990(<span class="hljs-keyword">end</span>)<br></code></pre></td></tr></table></figure><p>得到结果：</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs matlab"><span class="hljs-number">1989</span>年的预测值为<br><br><span class="hljs-built_in">ans</span> =<br><br>  <span class="hljs-number">259.9169</span><br><br><span class="hljs-number">1990</span>年的预测值为<br><br><span class="hljs-built_in">ans</span> =<br><br>  <span class="hljs-number">303.1629</span><br></code></pre></td></tr></table></figure><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/triple.jpg" alt="triple" style="zoom:80%;" /><h5 id="优缺点">优缺点</h5><ul><li><p>短期经济发展趋势</p></li><li><p>数据量小，对存储需求也小</p></li><li><p>仅需选择一个模型参数<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span></span></span></span></p></li><li><p>初始值及权数参数选取较为主观，会导致结果不同</p></li><li><p>对数据转折点的鉴别缺乏，长期预测效果差</p></li></ul><h3 id="ARIMA">ARIMA</h3><h4 id="模型介绍">模型介绍</h4><h5 id="平稳性"><strong>平稳性</strong></h5><p>经由样本时间序列所得到的拟合曲线在未来的一段时间内能顺原有形态延续，要求序列的<strong>均值</strong>和<strong>方差</strong>不发生明显变化</p><p>一般都是都是弱平稳：<strong>期望与相关系数不变</strong>，未来的t值Xt依赖于过去的信息</p><p>由于数据集可能浮动很大，要保证数据具有稳定性，可以使用<strong>差分法</strong>让均值和方差不发生明显的变化</p><h5 id="自回归模型（AR）">自回归模型（AR）</h5><p>定义：描述当前值和历史值的关系（用自身的历史值对自身及逆行预测）</p><p>p阶自回归过程定义：</p><p class="katex-block "><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>y</mi><mi>t</mi></msub><mo>=</mo><mi>μ</mi><mo>+</mo><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>p</mi></munderover><msub><mi>γ</mi><mi>i</mi></msub><msub><mi>y</mi><mrow><mi>t</mi><mo>−</mo><mi>i</mi></mrow></msub><mo>+</mo><msub><mi>ϵ</mi><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">y_{t}=\mu+\sum_{i=1}^{p} \gamma_{i} y_{t-i}+\epsilon_{t}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">μ</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.9762em;vertical-align:-1.2777em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6985em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3471em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0556em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mbin mtight">−</span><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">ϵ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span></p><p>$ y_{t}$  是当前值  <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>μ</mi></mrow><annotation encoding="application/x-tex">\mu</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">μ</span></span></span></span>  是常数项  <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">P</mi></mrow><annotation encoding="application/x-tex">\mathrm{P}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathrm">P</span></span></span></span>  是阶数  <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>γ</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\gamma_{i}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0556em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>  是自相关系数 $ \epsilon_{t}$  是误差</p><p>求解可以用最大似然估计、最小二乘法</p><p>自回归模型的限制</p><ul><li>自回归模型是<strong>用自身的数据</strong>来进行预测</li><li>必须具有平稳性</li><li>必须具有自相关性，<strong>如果自相关系数小于0.5，则不宜采用</strong></li><li>自回归只适用于预测与自身前期相关的现象</li></ul><h5 id="移动平均模型（MA）">移动平均模型（MA）</h5><p>定义：自回归模型中的误差项累加</p><p>p阶自回归过程定义：</p><p class="katex-block "><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>y</mi><mi>t</mi></msub><mo>=</mo><mi>μ</mi><mo>+</mo><msub><mi>ϵ</mi><mi>t</mi></msub><mo>+</mo><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>q</mi></munderover><msub><mi>θ</mi><mi>i</mi></msub><msub><mi>ϵ</mi><mrow><mi>t</mi><mo>−</mo><mi>i</mi></mrow></msub></mrow><annotation encoding="application/x-tex">y_{t}=\mu+\epsilon_{t}+\sum_{i=1}^{q} \theta_{i} \epsilon_{t-i}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">μ</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">ϵ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.9762em;vertical-align:-1.2777em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6985em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3471em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">q</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">ϵ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mbin mtight">−</span><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span></span></span></span></span></p><p>移动平均法能有效地消除预测中的随机波动</p><h5 id="自回归移动平均模型（ARMA）">自回归移动平均模型（ARMA）</h5><p>combination</p><p>定义：</p><p class="katex-block "><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>y</mi><mi>t</mi></msub><mo>=</mo><mi>μ</mi><mo>+</mo><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>p</mi></munderover><msub><mi>γ</mi><mi>i</mi></msub><msub><mi>y</mi><mrow><mi>t</mi><mo>−</mo><mi>i</mi></mrow></msub><mo>+</mo><msub><mi>ϵ</mi><mi>t</mi></msub><mo>+</mo><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>q</mi></munderover><msub><mi>θ</mi><mi>i</mi></msub><msub><mi>ϵ</mi><mrow><mi>t</mi><mo>−</mo><mi>i</mi></mrow></msub></mrow><annotation encoding="application/x-tex">y_{t}=\mu+\sum_{i=1}^{p} \gamma_{i} y_{t-i}+\epsilon_{t}+\sum_{i=1}^{q} \theta_{i} \epsilon_{t-i}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">μ</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.9762em;vertical-align:-1.2777em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6985em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3471em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0556em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mbin mtight">−</span><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">ϵ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.9762em;vertical-align:-1.2777em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6985em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3471em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">q</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">ϵ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mbin mtight">−</span><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span></span></span></span></span></p><h5 id="差分自回归移动平均模型（ARIMA）">差分自回归移动平均模型（ARIMA）</h5><p>用anaconda安装一些库</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php">pip install statsmodels<br></code></pre></td></tr></table></figure><p><strong>ARIMA(p，d，q)</strong> ：Autoregressive Integrated Moving Average Model</p><ol><li><p>AR是自回归，p为自回归项，MA为移动平均</p><p>q为移动平均项数，d为时间序列成为平稳时所做的差分次数</p></li><li><p>原理:将非平稳时间序列转化为平稳时间序列然后将因变量</p><p>仅对它的<strong>滞后值</strong>以及<strong>随机误差项的现值和滞后值</strong>进行回归所建立的模型</p></li></ol><h5 id="自相关函数ACF">自相关函数ACF</h5><h6 id="包含了其他变量的影响">包含了其他变量的影响</h6><p>有序的随机变量序列与其自身相比较，反映了同一序列再不同时序的取值之间的相关性</p><p>公式（k为阶数）：</p><p class="katex-block "><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>A</mi><mi>C</mi><mi>F</mi><mo stretchy="false">(</mo><mi>k</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi>ρ</mi><mi>k</mi></msub><mo>=</mo><mfrac><mrow><mi mathvariant="normal">Cov</mi><mo>⁡</mo><mrow><mo fence="true">(</mo><msub><mi>y</mi><mi>t</mi></msub><mo separator="true">,</mo><msub><mi>y</mi><mrow><mi>t</mi><mo>−</mo><mi>k</mi></mrow></msub><mo fence="true">)</mo></mrow></mrow><mrow><mi mathvariant="normal">Var</mi><mo>⁡</mo><mrow><mo fence="true">(</mo><msub><mi>y</mi><mi>t</mi></msub><mo fence="true">)</mo></mrow></mrow></mfrac></mrow><annotation encoding="application/x-tex">A C F(k)=\rho_{k}=\frac{\operatorname{Cov}\left(y_{t}, y_{t-k}\right)}{\operatorname{Var}\left(y_{t}\right)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.13889em;">CF</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">ρ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.363em;vertical-align:-0.936em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop"><span class="mord mathrm">Var</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop"><span class="mord mathrm" style="margin-right:0.01389em;">Cov</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mbin mtight">−</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230201155808217.png" alt="image-20230201155808217"></p><p>虚线为置信区间（95%）</p><h5 id="偏自相关函数-PACF">偏自相关函数(PACF)</h5><h6 id="只有这两个变量的相关">只有这两个变量的相关</h6><p>对于一个平稳<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mi>R</mi><mtext>（</mtext><mi>p</mi><mtext>）</mtext></mrow><annotation encoding="application/x-tex">AR（p）</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mord cjk_fallback">（</span><span class="mord mathnormal">p</span><span class="mord cjk_fallback">）</span></span></span></span>型、滞后<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span>自相关系数<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mtext>（</mtext><mi>k</mi><mtext>）</mtext></mrow><annotation encoding="application/x-tex">p（k）</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">p</span><span class="mord cjk_fallback">（</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mord cjk_fallback">）</span></span></span></span>时<br><strong>实际上得到并不是<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">x(t)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mclose">)</span></span></span></span>与<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo stretchy="false">(</mo><mi>t</mi><mo>−</mo><mi>k</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">x(t-k)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mclose">)</span></span></span></span>间单纯的相关关系</strong></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">x(t)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mclose">)</span></span></span></span>同时还会受到中间<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">k-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>个随机变量<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo stretchy="false">(</mo><mi>t</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">x(t-1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span>、<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo stretchy="false">(</mo><mi>t</mi><mtext>一</mtext><mn>2</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">x(t一2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mord cjk_fallback">一</span><span class="mord">2</span><span class="mclose">)</span></span></span></span>、…<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo stretchy="false">(</mo><mi>t</mi><mo>−</mo><mi>k</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">x(t-k+1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span>的影响<br>而这<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">k-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>个随机变量又都和<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo stretchy="false">(</mo><mi>t</mi><mo>−</mo><mi>k</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">x(t-k)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mclose">)</span></span></span></span>具有相关关系<br>所以自相关系数<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mtext>（</mtext><mi>k</mi><mtext>）</mtext></mrow><annotation encoding="application/x-tex">p（k）</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">p</span><span class="mord cjk_fallback">（</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mord cjk_fallback">）</span></span></span></span>里实际<strong>掺杂了其他变量对<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">x(t)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mclose">)</span></span></span></span>与<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo stretchy="false">(</mo><mi>t</mi><mo>−</mo><mi>k</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">x(t-k)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mclose">)</span></span></span></span>的影响</strong></p><p>剔除了中间k-1个随机变量<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo stretchy="false">(</mo><mi>t</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">x(t-1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span>、<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo stretchy="false">(</mo><mi>t</mi><mtext>一</mtext><mn>2</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">x(t一2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mord cjk_fallback">一</span><span class="mord">2</span><span class="mclose">)</span></span></span></span>、…<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo stretchy="false">(</mo><mi>t</mi><mo>−</mo><mi>k</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">x(t-k)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mclose">)</span></span></span></span>对<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">x(t)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mclose">)</span></span></span></span>影响的相关程度。</p><p>ACF还包含了其他变量的影响<br>而偏自相关系数PACF是<strong>严格这两个变量才间</strong>的相关性</p><h4 id="模型建立">模型建立</h4><blockquote><p>① 首先需要对观测值序列进行平稳性检测，如果不平稳，则对其进行差分运算直到差分后的数据平稳；<br>② 在数据平稳后则对其进行白噪声检验，白噪声是指零均值常方差的随机平稳序列；<br>③ 如果是平稳非白噪声序列就计算ACF（自相关系数）、PACF（偏自相关系数），进行ARMA等模型识别；<br>④ 对已识别好的模型，确定模型参数，最后应用预测并进行误差分析。</p></blockquote><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/7f6fdbf94cd3feec9892474d8a57f966.png" alt="7f6fdbf94cd3feec9892474d8a57f966.png"></p><p><a href="https://blog.csdn.net/fengdu78/article/details/121347188">参考博客</a></p><h5 id="将序列平稳（差分法确定d）">将序列平稳（差分法确定d）</h5><h5 id="ARIMA-p-d-q-阶数的确定">ARIMA(p,d,q)阶数的确定</h5><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230201161511080.png" alt="image-20230201161511080"></p><p>截尾：落在置信区间内（95%的的点都符合规则）</p><p>例如：</p><p>下图<strong>AR模型</strong>第2（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">p</span></span></span></span>）阶的时候PACF就落在了置信区间内</p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230201161608066.png" alt="image-20230201161608066"></p><p>下图MA模型第<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>q</mi></mrow><annotation encoding="application/x-tex">q</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span></span></span></span>阶的ACF落在了执行区间内</p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230201161748658.png" alt="image-20230201161748658"></p><h5 id="调用模型">调用模型</h5><h4 id="模型评估">模型评估</h4><p>用于选择更简单的模型</p><p>AIC：赤池信息准则（Akaike lnformation Criterion，AIC）</p><p class="katex-block "><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>A</mi><mi>I</mi><mi>C</mi><mo>=</mo><mn>2</mn><mi>k</mi><mtext>一</mtext><mn>2</mn><mi>l</mi><mi>n</mi><mo stretchy="false">(</mo><mi>L</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">AIC=2k一2ln(L)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mord cjk_fallback">一</span><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">n</span><span class="mopen">(</span><span class="mord mathnormal">L</span><span class="mclose">)</span></span></span></span></span></p><p>BIC：贝叶斯信息准则（Bayesian lnformation Criterion，BIC）</p><p class="katex-block "><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>B</mi><mi>I</mi><mi>C</mi><mo>=</mo><mi>k</mi><mi>l</mi><mi>n</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mtext>一</mtext><mn>2</mn><mi>l</mi><mi>n</mi><mo stretchy="false">(</mo><mi>L</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">BIC=kln(n)一2ln(L)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">n</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mord cjk_fallback">一</span><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">n</span><span class="mopen">(</span><span class="mord mathnormal">L</span><span class="mclose">)</span></span></span></span></span></p><p>k为模型参数个数，n为样本数量，L为似然函数</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo separator="true">,</mo><mi>q</mi></mrow><annotation encoding="application/x-tex">p,q</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">p</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span></span></span></span>越大，参数越多，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span>越大，要使得AIC和BIC越小越好</p><h4 id="模型残差检验">模型残差检验</h4><p>ARIMA模型的残差最好是均值为0且方差为常数的正态分布，绘制QQ图</p><p><a href="https://blog.csdn.net/foneone/article/details/90141213">代码可参考</a></p><p><a href="https://edu.csdn.net/course/detail/5410">课程链接</a></p>]]></content>
    
    
    <categories>
      
      <category>建模</category>
      
      <category>模型</category>
      
    </categories>
    
    
    <tags>
      
      <tag>预测</tag>
      
      <tag>matlab</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>单片机入门学习2</title>
    <link href="/2023/02/14/%E2%80%9C%E5%8D%95%E7%89%87%E6%9C%BA2%E2%80%9D/"/>
    <url>/2023/02/14/%E2%80%9C%E5%8D%95%E7%89%87%E6%9C%BA2%E2%80%9D/</url>
    
    <content type="html"><![CDATA[<h1>51单片机入门学习记录（2）</h1><p>教程：江科协</p><p>51单片机 Keil  C语言</p><blockquote><p>目录：</p><p>[LED点阵屏](#1.25 LED点阵屏)</p></blockquote><h3 id="1-25-LED点阵屏">1.25 LED点阵屏</h3><p>过年好 单片机的学习停了一个星期 刚刚看到弹幕一句话：<strong>都学到这了 怎么能半途而废呢</strong></p><p>啊啊啊啊可是才P21 一共有P38 才学到一半啊啊啊啊啊啊啊啊啊啊啊！</p><p>8*8个LED组成</p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230125205121954.png" alt="image-20230125205121954"></p><p>因为引脚共用 所以仍需采取逐行逐列扫描 扫描过快 显示就可以一起</p><h5 id="开发板引脚对应关系">开发板引脚对应关系</h5><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230125205842157.png" alt="image-20230125205842157"></p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230125210214567.png" alt="image-20230125210214567"></p><p>移位寄存器 <code>74HC595</code></p><blockquote><p>74HC595是串行输入并行输出的移位寄存器，可用<strong>3根线输入串行数据</strong>，8根线输出并行数据，多片级联后，可输出16位、24位、32位等，常用于IO口扩展。</p></blockquote><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230125210917876.png" alt="image-20230125210917876"></p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230125212522272.png" alt="image-20230125212522272"></p><blockquote><ul><li>sfr（special function register）：特殊功能寄存器声明</li></ul><p>例：sfr P0 = 0x80;</p><p>声明P0口寄存器，物理地址为0x80</p><ul><li>sbit（special bit）：特殊位声明</li></ul><p>例：sbit P0_1 = 0x81;  或  sbit P0_1 = P0^1;</p><p>声明P0寄存器的第1位</p><p>可位寻址/不可位寻址：每8个寄存器中，只有一个是可以位寻址的。对不可位寻址的寄存器，若要只操作其中一位而不影响其它位时，可用“&amp;=”、“|=”、“^=”的方法进行位操作</p></blockquote><p>看到文件中 同一个地址有不同的名称？去搜了一下</p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230125221948217.png" alt="image-20230125221948217"></p><p>贴一个看到的<a href="https://www.cnblogs.com/321waiting/p/9154219.html#:~:text=%E5%AD%97%E8%8A%82%E5%9C%B0%E5%9D%80%E5%92%8C%E4%BD%8D%E5%9C%B0%E5%9D%80%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB.%20%E4%BD%8D%E5%9C%B0%E5%9D%80%E5%B0%B1%E6%98%AF%E6%AF%8F%E4%B8%80%E4%B8%AA%E4%BD%8D%E7%9A%84%E5%9C%B0%E5%9D%80%EF%BC%8C8%E4%BD%8D%E4%B8%80%E4%B8%AA%E5%AD%97%E8%8A%82%EF%BC%8C%E5%A6%82%E6%9E%9C%E6%8A%8A%E5%AD%97%E8%8A%82%E6%AF%94%E4%B8%BA%E4%B8%80%E4%B8%AA8%E4%BD%8D%E7%9A%84%E6%95%B0%E7%BB%84%E7%9A%84%E8%AF%9D%EF%BC%8C%E5%AD%97%E8%8A%82%E5%9C%B0%E5%9D%80%E5%B0%B1%E6%98%AF%E8%BF%99%E4%B8%AA%E6%95%B0%E7%BB%84%E7%9A%84%E9%A6%96%E5%9C%B0%E5%9D%80%EF%BC%8C%E5%85%B7%E4%BD%93%E5%8C%BA%E5%88%AB%E5%A6%82%E4%B8%8B%E3%80%82.%20%E4%B8%80%E3%80%81%E4%BD%8D%E5%9C%B0%E5%9D%80%E6%98%AF%E5%AD%97%E8%8A%82%E5%9C%B0%E5%9D%80%E4%B8%AD%E7%9A%84%E6%9F%90%E4%B8%80%E4%BD%8D%EF%BC%8C%E5%9C%A8RAM,%E4%B8%AD%EF%BC%8C%E4%BD%8D%E5%9C%B0%E5%9D%8020H%E6%98%AF%E5%AD%97%E8%8A%82%E5%9C%B0%E5%9D%8024H%E7%9A%84%E6%9C%80%E4%BD%8E%E4%BD%8D%E3%80%82.%20%E4%BA%8C%E3%80%81%E5%AD%97%E8%8A%82%E5%9C%B0%E5%9D%8020H%E6%9C%898%E4%B8%AA%E4%BD%8D%E5%9C%B0%E5%9D%80%EF%BC%9A%E4%BB%8E00H---07H%EF%BC%8C%E6%89%80%E4%BB%A5%E5%9C%A8%E7%94%A8%E6%B1%87%E7%BC%96%E5%8E%BB%E7%BC%96%E7%A8%8B%E7%9A%84%E6%97%B6%E5%80%99%EF%BC%8C%E9%9C%80%E8%A6%81%E6%B3%A8%E6%84%8F%E6%93%8D%E4%BD%9C%E7%9A%84%E5%9C%B0%E5%9D%80%E6%98%AF%E4%BD%8D%E5%9C%B0%E5%9D%80%E8%BF%98%E6%98%AF%E5%AD%97%E8%8A%82%E5%9C%B0%E5%9D%80%E3%80%82.%20%E4%B8%89%E3%80%81%E6%8A%8A%E6%95%B0%E6%8D%AE%E5%AD%98%E6%94%BE%E5%9C%A8%E5%90%AB%E6%9C%89%E4%BD%8D%E5%9C%B0%E5%9D%80%E7%9A%84%E5%AD%97%E8%8A%82%E5%9C%B0%E5%9D%80%E4%B8%AD%E7%9B%B8%E8%BF%9E%E6%97%B6%EF%BC%8C%E5%8F%AF%E4%BB%A5%E5%9C%A8%E7%A8%8B%E5%BA%8F%E4%B8%AD%E5%8E%BB%E6%94%B9%E5%8F%98%E8%BF%99%E4%B8%AA%E6%95%B0%E6%8D%AE%E7%9A%84%E6%9F%90%E4%B8%80%E4%BD%8D%EF%BC%8C%E6%89%80%E4%BB%A5%E5%AD%97%E8%8A%82%E5%9C%B0%E5%9D%80%E4%B8%AD%E5%8F%AF%E4%BB%A5%E5%AD%98%E6%94%BE8%E4%B8%AA%E4%BD%8D%E5%8F%98%E9%87%8F%E3%80%82.%20%E5%9B%9B%E3%80%81%E5%9C%A8%E7%94%A8%E6%B1%87%E7%BC%96%E5%8E%BB%E7%BC%96%E7%A8%8B%E7%9A%84%E6%97%B6%E5%80%99%EF%BC%8C%E9%9C%80%E8%A6%81%E6%B3%A8%E6%84%8F%E6%93%8D%E4%BD%9C%E7%9A%84%E5%9C%B0%E5%9D%80%E6%98%AF%E4%BD%8D%E5%9C%B0%E5%9D%80%E8%BF%98%E6%98%AF%E5%AD%97%E8%8A%82%E5%9C%B0%E5%9D%80%E3%80%82.">博客</a></p><blockquote><p>字节地址和位地址的区别：</p><p>一、位地址是字节地址中的某一位，在RAM 中，位地址20H是字节地址24H的最低位。</p><p>二、字节地址20H有8个位地址：从00H—07H，所以在用汇编去编程的时候，需要注意操作的地址是位地址还是字节地址。</p><p>三、把数据存放在含有位地址的字节地址中相连时，可以在程序中去改变这个数据的某一位，所以字节地址中可以存放8个位变量。</p><p>四、在用汇编去编程的时候，需要注意操作的地址是位地址还是字节地址。</p><p>五、把数据存放在含有位地址的字节地址中时，可以在程序中去改变这个数据的某一位，字节地址中可以存放8个位变量</p><p>六、位寻址取值范围就是0和1，字节寻址是0-255</p></blockquote><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230125221647455.png" alt="image-20230125221647455"></p><h4 id="LED点阵屏显示图片">LED点阵屏显示图片</h4><p>给一些位置进行重新申明</p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230125223204219.png" alt="image-20230125223204219"></p><p>但<code>RCLK</code>在头文件里已经定义过了 这些只是相当于外号 并没有什么关系 改名~</p><ol><li>定义一个函数用来把Byte写入八个引脚</li></ol><p>​首先要把数据赋值给SER：取Byte的最高位<code> SER = Byte&amp;0x80</code></p><p>​注意：把一个数赋值给一个位，原则是：非0即1，即这个数不是0 则赋给前面1 ，也就是这里<code>0x80</code>非0 则赋给<code>SER</code>1,当然也可以用if原则</p><ol start="2"><li><p>给SELK时钟高电平让其移位</p><p>首先上电后 SCK全是高电平 所以要先置0</p></li></ol><h5 id="测试74HC585芯片">测试74HC585芯片</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;REGX52.H&gt;</span></span><br><br>sbit RCK = P3^<span class="hljs-number">5</span>;<span class="hljs-comment">//P3的第五位，操作RCLK时等同于操作P3_5</span><br>sbit SCK = P3^<span class="hljs-number">6</span>;<span class="hljs-comment">//上升沿移位</span><br>sbit SER = P3^<span class="hljs-number">4</span>;<span class="hljs-comment">//上升沿锁存</span><br><br><span class="hljs-type">void</span> _74HC585_WriteByte(<span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> Byte)&#123; <span class="hljs-comment">//把Byte写入八个引脚</span><br><span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> i;<br><span class="hljs-keyword">for</span>(i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">8</span>;i++)&#123;<br>SER = Byte&amp;(<span class="hljs-number">0x80</span>&gt;&gt;i);<span class="hljs-comment">// [1]000 0000 </span><br>SCK = <span class="hljs-number">1</span>;<span class="hljs-comment">//时钟上电后会移动数据</span><br>SCK = <span class="hljs-number">0</span>;<br>&#125;<br>RCK = <span class="hljs-number">1</span>;<br>RCK = <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span>&#123;<br>SCK = <span class="hljs-number">0</span>;<span class="hljs-comment">//初始化</span><br>RCK = <span class="hljs-number">0</span>;<br>_74HC585_WriteByte(<span class="hljs-number">0xF0</span>);<br><span class="hljs-keyword">while</span>(<span class="hljs-number">1</span>)&#123;<br><br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>hh发现我的板子没有74H595的LED灯(ˉ▽ˉ；)…😶</p><p>按照弹幕的说法可以给P0=0x00一个初值，此时LED点阵屏亮了一半，测试595芯片ok</p><p>对点阵屏进行操作，<a href="#%E5%BC%80%E5%8F%91%E6%9D%BF%E5%BC%95%E8%84%9A%E5%AF%B9%E5%BA%94%E5%85%B3%E7%B3%BB">引脚关系详见</a></p><p>测试：以第一列为例</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">void</span> <span class="hljs-title function_">Matrixled_ShowColumn</span><span class="hljs-params">(<span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> Column,Data)</span>&#123; <span class="hljs-comment">//第0列到第7列</span><br>_74HC585_WriteByte(Data);<br>P0 = ~(<span class="hljs-number">0x80</span>&gt;&gt;Column);<br>&#125;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span>&#123;<br>SCK = <span class="hljs-number">0</span>;<span class="hljs-comment">//初始化</span><br>RCK = <span class="hljs-number">0</span>;<br>Matrixled_ShowColumn(<span class="hljs-number">0</span>,<span class="hljs-number">0xAA</span>);<br><span class="hljs-keyword">while</span>(<span class="hljs-number">1</span>)&#123;<br><br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>类似于数码管，如果多列显示未消抖延迟的话，会类似数码管（段选-&gt;位选-&gt;段选-&gt;位选-&gt;段选···会造成错乱），故需要<code>Delay</code>函数</p><p>使得（段选-&gt;位选**-&gt;延时-&gt;位清零**-&gt;段选-&gt;位选-&gt;段选）</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs c">P0 = ~(<span class="hljs-number">0x80</span>&gt;&gt;Column);<br>Delay(<span class="hljs-number">1</span>);<br>P0 = <span class="hljs-number">0xFF</span>;<br></code></pre></td></tr></table></figure><h5 id="测试对角线显示：">测试<strong>对角线显示</strong>：</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span>&#123;<br>SCK = <span class="hljs-number">0</span>;<span class="hljs-comment">//初始化</span><br>RCK = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">while</span>(<span class="hljs-number">1</span>)&#123;<br>Matrixled_ShowColumn(<span class="hljs-number">0</span>,<span class="hljs-number">0x80</span>);<br>Matrixled_ShowColumn(<span class="hljs-number">1</span>,<span class="hljs-number">0x40</span>);<br>Matrixled_ShowColumn(<span class="hljs-number">2</span>,<span class="hljs-number">0x20</span>);<br>Matrixled_ShowColumn(<span class="hljs-number">3</span>,<span class="hljs-number">0x10</span>);<br>Matrixled_ShowColumn(<span class="hljs-number">4</span>,<span class="hljs-number">0x08</span>);<br>Matrixled_ShowColumn(<span class="hljs-number">5</span>,<span class="hljs-number">0x04</span>);<br>Matrixled_ShowColumn(<span class="hljs-number">6</span>,<span class="hljs-number">0x02</span>);<br>Matrixled_ShowColumn(<span class="hljs-number">7</span>,<span class="hljs-number">0x01</span>);<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/af441434420dee18f87d43e8f0d9875.jpg" alt="af441434420dee18f87d43e8f0d9875"></p><h5 id="画笑脸">画笑脸</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;REGX52.H&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;Delay.h&quot;</span></span><br><br>sbit RCK = P3^<span class="hljs-number">5</span>;<span class="hljs-comment">//P3的第五位，操作RCLK时等同于操作P3_5</span><br>sbit SCK = P3^<span class="hljs-number">6</span>;<span class="hljs-comment">//上升沿移位</span><br>sbit SER = P3^<span class="hljs-number">4</span>;<span class="hljs-comment">//上升沿锁存</span><br><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> MATRIX_LED_PORT P0</span><br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment">  * @brief 74HC595写入一个字节</span><br><span class="hljs-comment">  * @param 要写入的字节</span><br><span class="hljs-comment">  * @retval 无</span><br><span class="hljs-comment">  */</span><br><span class="hljs-type">void</span> _74HC585_WriteByte(<span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> Byte)&#123; <span class="hljs-comment">//把Byte写入八个引脚</span><br><span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> i;<br><span class="hljs-keyword">for</span>(i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">8</span>;i++)&#123;<br>SER = Byte&amp;(<span class="hljs-number">0x80</span>&gt;&gt;i);<span class="hljs-comment">// [1]000 0000 </span><br>SCK = <span class="hljs-number">1</span>;<span class="hljs-comment">//时钟上电后会移动数据</span><br>SCK = <span class="hljs-number">0</span>;<br>&#125;<br>RCK = <span class="hljs-number">1</span>;<br>RCK = <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment">  * @brief LED点阵屏显示一列数据</span><br><span class="hljs-comment">  * @param Column要选择的列（0~7），0在最左边</span><br><span class="hljs-comment">  * @param Data选择列显示的数据，高位在上，1为亮</span><br><span class="hljs-comment">  * @retval 无</span><br><span class="hljs-comment">  */</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">MatrixLED_ShowColumn</span><span class="hljs-params">(<span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> Column,Data)</span>&#123; <span class="hljs-comment">//第0列到第7列</span><br>_74HC585_WriteByte(Data);<br>MATRIX_LED_PORT = ~(<span class="hljs-number">0x80</span>&gt;&gt;Column);<br>Delay(<span class="hljs-number">1</span>);<br>MATRIX_LED_PORT = <span class="hljs-number">0xFF</span>;<br>&#125;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span>&#123;<br>SCK = <span class="hljs-number">0</span>;<span class="hljs-comment">//初始化</span><br>RCK = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">while</span>(<span class="hljs-number">1</span>)&#123;<br>MatrixLED_ShowColumn(<span class="hljs-number">0</span>,<span class="hljs-number">0x3C</span>);<br>MatrixLED_ShowColumn(<span class="hljs-number">1</span>,<span class="hljs-number">0x42</span>);<br>MatrixLED_ShowColumn(<span class="hljs-number">2</span>,<span class="hljs-number">0xA9</span>);<br>MatrixLED_ShowColumn(<span class="hljs-number">3</span>,<span class="hljs-number">0x85</span>);<br>MatrixLED_ShowColumn(<span class="hljs-number">4</span>,<span class="hljs-number">0x85</span>);<br>MatrixLED_ShowColumn(<span class="hljs-number">5</span>,<span class="hljs-number">0xA9</span>);<br>MatrixLED_ShowColumn(<span class="hljs-number">6</span>,<span class="hljs-number">0x42</span>);<br>MatrixLED_ShowColumn(<span class="hljs-number">7</span>,<span class="hljs-number">0x3C</span>);<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/b7f52e97a78071484a193192844c6dc.jpg" alt="b7f52e97a78071484a193192844c6dc"></p><h4 id="LED点阵屏显示动画">LED点阵屏显示动画</h4><p>先模块化一下</p><p>显示动画可以先存一个数组 然后逐个显示（从左往右）</p><p>up主给了一个字模提取很便捷的软件</p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230126130116413.png" alt="image-20230126130116413"></p><p><code>MatrixLED.h</code></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">ifndef</span> __MATRIX_LED_H__</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> __MATRIX_LED_H__</span><br><br><span class="hljs-type">void</span> _74HC585_WriteByte(<span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> Byte);<br><span class="hljs-type">void</span> <span class="hljs-title function_">MatrixLED_ShowColumn</span><span class="hljs-params">(<span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> Column,Data)</span>;<br><span class="hljs-type">void</span> <span class="hljs-title function_">MatrixLED_Init</span><span class="hljs-params">()</span>;<br><br><br><span class="hljs-meta">#<span class="hljs-keyword">endif</span></span><br></code></pre></td></tr></table></figure><p><code>MatrixLED.c</code></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;REGX52.H&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;Delay.h&quot;</span></span><br><br>sbit RCK = P3^<span class="hljs-number">5</span>;<span class="hljs-comment">//P3的第五位，操作RCLK时等同于操作P3_5</span><br>sbit SCK = P3^<span class="hljs-number">6</span>;<span class="hljs-comment">//上升沿移位</span><br>sbit SER = P3^<span class="hljs-number">4</span>;<span class="hljs-comment">//上升沿锁存</span><br><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> MATRIX_LED_PORT P0</span><br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment">  * @brief 74HC595写入一个字节</span><br><span class="hljs-comment">  * @param 要写入的字节</span><br><span class="hljs-comment">  * @retval 无</span><br><span class="hljs-comment">  */</span><br><span class="hljs-type">void</span> _74HC585_WriteByte(<span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> Byte)&#123; <span class="hljs-comment">//把Byte写入八个引脚</span><br><span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> i;<br><span class="hljs-keyword">for</span>(i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">8</span>;i++)&#123;<br>SER = Byte&amp;(<span class="hljs-number">0x80</span>&gt;&gt;i);<span class="hljs-comment">// [1]000 0000 </span><br>SCK = <span class="hljs-number">1</span>;<span class="hljs-comment">//时钟上电后会移动数据</span><br>SCK = <span class="hljs-number">0</span>;<br>&#125;<br>RCK = <span class="hljs-number">1</span>;<br>RCK = <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment">  * @brief 点阵屏初始化</span><br><span class="hljs-comment">  * @param 无</span><br><span class="hljs-comment">  * @retval 无</span><br><span class="hljs-comment">  */</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">MatrixLED_Init</span><span class="hljs-params">()</span>&#123;<br>SCK = <span class="hljs-number">0</span>;<br>RCK = <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment">  * @brief LED点阵屏显示一列数据</span><br><span class="hljs-comment">  * @param Column要选择的列（0~7），0在最左边</span><br><span class="hljs-comment">  * @param Data选择列显示的数据，高位在上，1为亮</span><br><span class="hljs-comment">  * @retval 无</span><br><span class="hljs-comment">  */</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">MatrixLED_ShowColumn</span><span class="hljs-params">(<span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> Column,Data)</span>&#123; <span class="hljs-comment">//第0列到第7列</span><br>_74HC585_WriteByte(Data);<br>MATRIX_LED_PORT = ~(<span class="hljs-number">0x80</span>&gt;&gt;Column);<br>Delay(<span class="hljs-number">1</span>);<br>MATRIX_LED_PORT = <span class="hljs-number">0xFF</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><code>main.c</code></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;REGX52.H&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;Delay.h&quot;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;MatrixLED.h&quot;</span></span><br><br><span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> code Animation[]=&#123;<span class="hljs-number">0x11</span>,<span class="hljs-number">0x12</span>,<span class="hljs-number">0x1C</span>,<span class="hljs-number">0x32</span>,<span class="hljs-number">0xD1</span>,<span class="hljs-number">0x1F</span>,<span class="hljs-number">0x00</span>,<span class="hljs-number">0x1E</span>,<span class="hljs-number">0x12</span>,<span class="hljs-number">0x12</span>,<span class="hljs-number">0x12</span>,<span class="hljs-number">0x1E</span>,<span class="hljs-number">0x00</span>,<span class="hljs-number">0x00</span>,<span class="hljs-number">0x49</span>,<span class="hljs-number">0x2A</span>,<br><span class="hljs-number">0x00</span>,<span class="hljs-number">0x3E</span>,<span class="hljs-number">0x2A</span>,<span class="hljs-number">0xFE</span>,<span class="hljs-number">0x2A</span>,<span class="hljs-number">0x3E</span>,<span class="hljs-number">0x00</span>,<span class="hljs-number">0x00</span>,<span class="hljs-number">0x00</span>,<span class="hljs-number">0xFA</span>,<span class="hljs-number">0x00</span>,<span class="hljs-number">0x00</span>,<span class="hljs-number">0xFA</span>,<span class="hljs-number">0x00</span>,<span class="hljs-number">0x00</span>,<span class="hljs-number">0xFA</span>,&#125;;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span>&#123;<br><span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> i,offset=<span class="hljs-number">0</span>,count=<span class="hljs-number">0</span>;<br>MatrixLED_Init();<br><span class="hljs-keyword">while</span>(<span class="hljs-number">1</span>)&#123;<br><span class="hljs-keyword">for</span>(i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">8</span>;i++)&#123;<br>MatrixLED_ShowColumn(i,Animation[i+offset]);<br>&#125;<br>count++;<br><span class="hljs-keyword">if</span>(count&gt;<span class="hljs-number">10</span>)&#123;<br>offset++;<br>count = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">if</span>(offset&gt;<span class="hljs-number">24</span>)&#123;<span class="hljs-comment">//防止数组溢出乱码</span><br>offset = <span class="hljs-number">0</span>;<br>&#125;<br>&#125;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>一般数组是会放在ram里会很浪费 要给他放在flash里<code>unsigned char code Animation</code></p><div id="dplayer0" class="dplayer hexo-tag-dplayer-mark" style="margin-bottom: 20px;"></div><script>(function(){var player = new DPlayer({"container":document.getElementById("dplayer0"),"autoplay":true,"hotkey":true,"preload":"metadata","video":{"url":"https://typoraxmy.oss-cn-shanghai.aliyuncs.com/72c2d9e8784f00f42842b66d6b7eb578.mp4"}});window.dplayers||(window.dplayers=[]);window.dplayers.push(player);})()</script> <h3 id="1-27-DS1302实时时钟">1.27 DS1302实时时钟</h3><p>时钟显示+调节时间</p><blockquote><p>RTC(Real Time Clock)：实时时钟，是一种集成电路，通常称为时钟芯片</p></blockquote><p>定时器的时钟会<strong>占用CPU</strong>时间且<strong>精度不高</strong>，<strong>断电就会清零</strong></p><p>实时时钟内部带一个备用电池，断电后会提供能量</p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230127101008185.png" alt="image-20230127101008185"></p><h5 id="内部结构图">内部结构图</h5><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230127101513157.png" alt="image-20230127101513157"></p><h5 id="内部RTC寄存器">内部RTC寄存器</h5><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230127102711156.png" alt="image-20230127102711156"></p><p>WP：write protect，置1的话写入无效</p><p>目标：在寄存器写入单片机的数据、在寄存器读出时钟芯片（DS1302）的数据</p><h5 id="时序定义">时序定义</h5><p>上升沿时地址，下降沿是数据？</p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230127103805054.png" alt="image-20230127103805054"></p><p>写入数据：</p><p>先把CE置1，发一个命令字（Command Byte）决定读写位置与方式，<strong>IO口写入最低位决定是读还是写（最开始）</strong>，SCLK一个上升沿读入数据，归零后再给一个上升沿读取新的数据，依次循环八位···操作完后再把CE置0</p><p>读取数据：</p><p>按照上面的依然需要八个上升沿决定读写位置和方式，W给1单片机接收到命令值，紧跟着时钟的下降沿开始读出适中的数据</p><h3 id="1-28-DS1302实时时钟-可调时钟">1.28 DS1302实时时钟&amp;可调时钟</h3><h4 id="实时时钟">实时时钟</h4><p>先对三个端口进行定义（方便一点）</p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230128192041831.png" alt="image-20230128192041831"></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs c">sbit DS1302_SCLK = P3^<span class="hljs-number">6</span>;<br>sbit DS1302_IO = P3^<span class="hljs-number">4</span>;<br>sbit DS1302_CE = P3^<span class="hljs-number">5</span>;<br></code></pre></td></tr></table></figure><p>^是位选，_是已经定义的， ^其实是PIO口的地址</p><h5 id="模拟时序">模拟时序</h5><p>操作前要先初始化，CE默认是0，但单片机上电时默认都是1</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs C"><span class="hljs-type">void</span> <span class="hljs-title function_">DS1302_Init</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span>&#123;<br>DS1302_CE = <span class="hljs-number">0</span>;<br>DS1302_SCLK = <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h6 id="单字节写">单字节写</h6><p>先高电平使能，后从低到高取值</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">void</span> <span class="hljs-title function_">DS1302_WriteByte</span><span class="hljs-params">(<span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> Command,Data)</span>&#123;<br>DS1302_CE = <span class="hljs-number">1</span>;<br><span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> i;<br><span class="hljs-keyword">for</span>(i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">8</span>;i++)&#123;<br>DS1302_IO = Command&amp;(<span class="hljs-number">0x01</span>&lt;&lt;i);<span class="hljs-comment">//取出最低位</span><br>DS1302_SCLK = <span class="hljs-number">1</span>；<br>DS1302_SCLK = <span class="hljs-number">0</span>；<br>&#125;<br><span class="hljs-keyword">for</span>(i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">8</span>;i++)&#123;<br>DS1302_IO = Data&amp;(<span class="hljs-number">0x01</span>&lt;&lt;i);<span class="hljs-comment">//取出最低位</span><br>DS1302_SCLK = <span class="hljs-number">1</span>；<br>DS1302_SCLK = <span class="hljs-number">0</span>；<br>&#125;<br>DS1302_CE = <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h6 id="单字节读取">单字节读取</h6><p>如果按照上面的话在循环结束后是已经完整地进行了八个上下沿，第一个数据已经被读取了</p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230128194252363.png" alt="image-20230128194252363"></p><p>读取是要比写入少一个脉冲的 因为最后一次是立马读出数据的，所以要更换顺序，使得第一次循环结束后所在的位置左边都是与写入有关的</p><h6 id="测试">测试</h6><p>显示了255？</p><p>看到弹幕说是有写入保护，要在<code>LCD_Init();</code>后写<code>DS1302_WriteByte(0x8E,0x00);</code>，但是好像也没有用欸</p><p>和up主的源代码对比发现少了一个<code>DS1302_IO=0;//读取后将IO设置为0，否则读出的数据会出错</code></p><p>正常了但是很不稳定 但是<strong>不怎么懂原理</strong> 这一节的读取好不容易 不太理解 到时候再看一下（要加上接触芯片保护的）</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;REGX52.H&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;LCD1602.h&quot;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;DS1302.h&quot;</span></span><br><br><span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> Second;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span>&#123;<br>LCD_Init();<br>LCD_ShowString(<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-string">&quot;RTC&quot;</span>);<br>DS1302_WriteByte(<span class="hljs-number">0x8E</span>,<span class="hljs-number">0x00</span>);<br>DS1302_WriteByte(<span class="hljs-number">0x80</span>,<span class="hljs-number">0x03</span>);<br><br><span class="hljs-keyword">while</span>(<span class="hljs-number">1</span>)&#123;<br>Second = DS1302_ReadByte(<span class="hljs-number">0x81</span>);<br>LCD_ShowNum(<span class="hljs-number">2</span>,<span class="hljs-number">1</span>,Second,<span class="hljs-number">3</span>);<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>但是到009后直接变成了016</p><p>原因：DS1302内部的寄存器是以BDC码进行存储的</p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230128202329458.png" alt="image-20230128202329458"></p><p>9为0000 1001 10为 0001 0000 16为0001 0110</p><p>解决方法：以16进制显示<code>LCD_ShowHexNum(2,1,Second,3);</code>，或者<code>LCD_ShowNum(2,1,Second/16*10+Second%16,3);</code></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> Second,Minite;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span>&#123;<br>LCD_Init();<br>LCD_ShowString(<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-string">&quot;RTC&quot;</span>);<br>DS1302_WriteByte(<span class="hljs-number">0x8E</span>,<span class="hljs-number">0x00</span>);<span class="hljs-comment">//解除芯片保护</span><br>DS1302_WriteByte(<span class="hljs-number">0x80</span>,<span class="hljs-number">0x55</span>);<br>DS1302_WriteByte(<span class="hljs-number">0x82</span>,<span class="hljs-number">0x03</span>);<br><br><br><span class="hljs-keyword">while</span>(<span class="hljs-number">1</span>)&#123;<br>Second = DS1302_ReadByte(<span class="hljs-number">0x81</span>);<br>Minite = DS1302_ReadByte(<span class="hljs-number">0x83</span>);<br>LCD_ShowNum(<span class="hljs-number">2</span>,<span class="hljs-number">1</span>,Second/<span class="hljs-number">16</span>*<span class="hljs-number">10</span>+Second%<span class="hljs-number">16</span>,<span class="hljs-number">2</span>);<br>LCD_ShowNum(<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,Minite/<span class="hljs-number">16</span>*<span class="hljs-number">10</span>+Minite%<span class="hljs-number">16</span>,<span class="hljs-number">2</span>);<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>秒分钟小时对应的参考如下</p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230127102711156.png" alt="image-20230127102711156"></p><p>为了每次可以不用查表，可以配置一个表格</p><p><code>DS1302.c</code></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;REGX52.H&gt;</span></span><br><br><span class="hljs-comment">//引脚定义</span><br>sbit DS1302_SCLK = P3^<span class="hljs-number">6</span>;<br>sbit DS1302_IO = P3^<span class="hljs-number">4</span>;<br>sbit DS1302_CE = P3^<span class="hljs-number">5</span>;<br><br><span class="hljs-comment">//寄存器写入地址/指令定义</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> DS1302_SECOND0x80</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> DS1302_MINUTE0x82</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> DS1302_HOUR0x84</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> DS1302_DATE0x86</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> DS1302_MONTH0x88</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> DS1302_DAY0x8A</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> DS1302_YEAR0x8C</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> DS1302_WP0x8E</span><br><br><span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> DS1302_Time[] = &#123;<span class="hljs-number">23</span>,<span class="hljs-number">1</span>,<span class="hljs-number">28</span>,<span class="hljs-number">20</span>,<span class="hljs-number">27</span>,<span class="hljs-number">50</span>,<span class="hljs-number">6</span>&#125;;<span class="hljs-comment">//当前时间年月日时分秒星期</span><br><br><span class="hljs-type">void</span> <span class="hljs-title function_">DS1302_Init</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span>&#123;<br>DS1302_CE = <span class="hljs-number">0</span>;<br>DS1302_SCLK = <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment">  * @brief  DS1302写一个字节</span><br><span class="hljs-comment">  * @param  Command 命令字/地址</span><br><span class="hljs-comment">  * @param  Data 要写入的数据</span><br><span class="hljs-comment">  * @retval 无</span><br><span class="hljs-comment">  */</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">DS1302_WriteByte</span><span class="hljs-params">(<span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> Command,Data)</span>&#123;<br><span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> i;<br>DS1302_CE = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">for</span>(i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">8</span>;i++)&#123;<br>DS1302_IO = Command&amp;(<span class="hljs-number">0x01</span>&lt;&lt;i);<span class="hljs-comment">//取出最低位</span><br>DS1302_SCLK = <span class="hljs-number">1</span>;<br>DS1302_SCLK = <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-keyword">for</span>(i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">8</span>;i++)&#123;<br>DS1302_IO = Data&amp;(<span class="hljs-number">0x01</span>&lt;&lt;i);<span class="hljs-comment">//取出最低位</span><br>DS1302_SCLK = <span class="hljs-number">1</span>;<br>DS1302_SCLK = <span class="hljs-number">0</span>;<br>&#125;<br>DS1302_CE = <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment">  * @brief  DS1302读一个字节</span><br><span class="hljs-comment">  * @param  Command 命令字/地址</span><br><span class="hljs-comment">  * @retval 读出的数据</span><br><span class="hljs-comment">  */</span><br><span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> <span class="hljs-title function_">DS1302_ReadByte</span><span class="hljs-params">(<span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> Command)</span>&#123;<br><span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> i,Data=<span class="hljs-number">0x00</span>;<br>Command|=<span class="hljs-number">0x01</span>;<span class="hljs-comment">//读的地址要比写的地址多一位（比如81h和80h），直接定义</span><br>DS1302_CE = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">for</span>(i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">8</span>;i++)&#123;<br>DS1302_IO = Command&amp;(<span class="hljs-number">0x01</span>&lt;&lt;i);<span class="hljs-comment">//取出最低位</span><br>DS1302_SCLK = <span class="hljs-number">0</span>;<br>DS1302_SCLK = <span class="hljs-number">1</span>;<br>&#125;<br><span class="hljs-keyword">for</span>(i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">8</span>;i++)&#123;<br>DS1302_SCLK = <span class="hljs-number">1</span>;<br>DS1302_SCLK = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">if</span>(DS1302_IO)&#123;Data|=(<span class="hljs-number">0x01</span>&lt;&lt;i);&#125;<br>&#125;<br>DS1302_CE = <span class="hljs-number">0</span>;<br>DS1302_IO=<span class="hljs-number">0</span>;<span class="hljs-comment">//读取后将IO设置为0，否则读出的数据会出错</span><br><span class="hljs-keyword">return</span> Data;<br>&#125;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment">  * @brief  DS1302设置时间，调用之后，DS1302_Time数组的数字会被设置到DS1302中</span><br><span class="hljs-comment">  * @param  无</span><br><span class="hljs-comment">  * @retval 无</span><br><span class="hljs-comment">  */</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">DS1302_SetTime</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span>&#123;<br>DS1302_WriteByte(DS1302_WP,<span class="hljs-number">0x00</span>);<span class="hljs-comment">//解除芯片保护</span><br>DS1302_WriteByte(DS1302_YEAR,DS1302_Time[<span class="hljs-number">0</span>]/<span class="hljs-number">10</span>*<span class="hljs-number">16</span>+DS1302_Time[<span class="hljs-number">0</span>]%<span class="hljs-number">10</span>);<span class="hljs-comment">//十进制转BCD码后写入</span><br>DS1302_WriteByte(DS1302_MONTH,DS1302_Time[<span class="hljs-number">1</span>]/<span class="hljs-number">10</span>*<span class="hljs-number">16</span>+DS1302_Time[<span class="hljs-number">1</span>]%<span class="hljs-number">10</span>);<br>DS1302_WriteByte(DS1302_DATE,DS1302_Time[<span class="hljs-number">2</span>]/<span class="hljs-number">10</span>*<span class="hljs-number">16</span>+DS1302_Time[<span class="hljs-number">2</span>]%<span class="hljs-number">10</span>);<br>DS1302_WriteByte(DS1302_HOUR,DS1302_Time[<span class="hljs-number">3</span>]/<span class="hljs-number">10</span>*<span class="hljs-number">16</span>+DS1302_Time[<span class="hljs-number">3</span>]%<span class="hljs-number">10</span>);<br>DS1302_WriteByte(DS1302_MINUTE,DS1302_Time[<span class="hljs-number">4</span>]/<span class="hljs-number">10</span>*<span class="hljs-number">16</span>+DS1302_Time[<span class="hljs-number">4</span>]%<span class="hljs-number">10</span>);<br>DS1302_WriteByte(DS1302_SECOND,DS1302_Time[<span class="hljs-number">5</span>]/<span class="hljs-number">10</span>*<span class="hljs-number">16</span>+DS1302_Time[<span class="hljs-number">5</span>]%<span class="hljs-number">10</span>);<br>DS1302_WriteByte(DS1302_DAY,DS1302_Time[<span class="hljs-number">6</span>]/<span class="hljs-number">10</span>*<span class="hljs-number">16</span>+DS1302_Time[<span class="hljs-number">6</span>]%<span class="hljs-number">10</span>);<br>DS1302_WriteByte(DS1302_WP,<span class="hljs-number">0x80</span>);<br>&#125;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment">  * @brief  DS1302读取时间，调用之后，DS1302中的数据会被读取到DS1302_Time数组中</span><br><span class="hljs-comment">  * @param  无</span><br><span class="hljs-comment">  * @retval 无</span><br><span class="hljs-comment">  */</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">DS1302_ReadTime</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span>&#123;<br><span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> Temp;<br>Temp=DS1302_ReadByte(DS1302_YEAR);<br>DS1302_Time[<span class="hljs-number">0</span>]=Temp/<span class="hljs-number">16</span>*<span class="hljs-number">10</span>+Temp%<span class="hljs-number">16</span>;<span class="hljs-comment">//BCD码转十进制后读取</span><br>Temp=DS1302_ReadByte(DS1302_MONTH);<br>DS1302_Time[<span class="hljs-number">1</span>]=Temp/<span class="hljs-number">16</span>*<span class="hljs-number">10</span>+Temp%<span class="hljs-number">16</span>;<br>Temp=DS1302_ReadByte(DS1302_DATE);<br>DS1302_Time[<span class="hljs-number">2</span>]=Temp/<span class="hljs-number">16</span>*<span class="hljs-number">10</span>+Temp%<span class="hljs-number">16</span>;<br>Temp=DS1302_ReadByte(DS1302_HOUR);<br>DS1302_Time[<span class="hljs-number">3</span>]=Temp/<span class="hljs-number">16</span>*<span class="hljs-number">10</span>+Temp%<span class="hljs-number">16</span>;<br>Temp=DS1302_ReadByte(DS1302_MINUTE);<br>DS1302_Time[<span class="hljs-number">4</span>]=Temp/<span class="hljs-number">16</span>*<span class="hljs-number">10</span>+Temp%<span class="hljs-number">16</span>;<br>Temp=DS1302_ReadByte(DS1302_SECOND);<br>DS1302_Time[<span class="hljs-number">5</span>]=Temp/<span class="hljs-number">16</span>*<span class="hljs-number">10</span>+Temp%<span class="hljs-number">16</span>;<br>Temp=DS1302_ReadByte(DS1302_DAY);<br>DS1302_Time[<span class="hljs-number">6</span>]=Temp/<span class="hljs-number">16</span>*<span class="hljs-number">10</span>+Temp%<span class="hljs-number">16</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><code>main.c</code></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;REGX52.H&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;LCD1602.h&quot;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;DS1302.h&quot;</span></span><br><br><span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> Second,Minite;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span>&#123;<br>LCD_Init();<br>LCD_ShowString(<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-string">&quot;RTC&quot;</span>);<br>LCD_ShowString(<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-string">&quot;  -  -  &quot;</span>);<span class="hljs-comment">//静态字符初始化显示</span><br>LCD_ShowString(<span class="hljs-number">2</span>,<span class="hljs-number">1</span>,<span class="hljs-string">&quot;  :  :  &quot;</span>);<br><br>DS1302_SetTime();<span class="hljs-comment">//设置时间</span><br><br><span class="hljs-keyword">while</span>(<span class="hljs-number">1</span>)&#123;<br>DS1302_ReadTime();<span class="hljs-comment">//读取时间</span><br>LCD_ShowNum(<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,DS1302_Time[<span class="hljs-number">0</span>],<span class="hljs-number">2</span>);<span class="hljs-comment">//显示年</span><br>LCD_ShowNum(<span class="hljs-number">1</span>,<span class="hljs-number">4</span>,DS1302_Time[<span class="hljs-number">1</span>],<span class="hljs-number">2</span>);<span class="hljs-comment">//显示月</span><br>LCD_ShowNum(<span class="hljs-number">1</span>,<span class="hljs-number">7</span>,DS1302_Time[<span class="hljs-number">2</span>],<span class="hljs-number">2</span>);<span class="hljs-comment">//显示日</span><br>LCD_ShowNum(<span class="hljs-number">2</span>,<span class="hljs-number">1</span>,DS1302_Time[<span class="hljs-number">3</span>],<span class="hljs-number">2</span>);<span class="hljs-comment">//显示时</span><br>LCD_ShowNum(<span class="hljs-number">2</span>,<span class="hljs-number">4</span>,DS1302_Time[<span class="hljs-number">4</span>],<span class="hljs-number">2</span>);<span class="hljs-comment">//显示分</span><br>LCD_ShowNum(<span class="hljs-number">2</span>,<span class="hljs-number">7</span>,DS1302_Time[<span class="hljs-number">5</span>],<span class="hljs-number">2</span>);<span class="hljs-comment">//显示秒</span><br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>好难···有很多细节不是很理解···只能大体知道点···</p><h3 id="2-1-蜂鸣器">2.1 蜂鸣器</h3><h4 id="介绍原理">介绍原理</h4><p>按驱动方式分类：</p><p><strong>有源蜂鸣器</strong>：内部自带振荡源，将正负极接上直流电压即可持续发声，频率固定</p><p><strong>无源蜂鸣器</strong>：需要控制器提供振荡脉冲才可发声，<strong>调整提供振荡脉冲的频率</strong>，可发出不同频率的声音</p><p>（本节内用单片机提供方波脉，交流振荡发声，电能转化为机械能，但蜂鸣器不能长时间一直通电，容易造成烧毁）</p><p>单片机的I/O口不能直接驱动蜂鸣器，必须要过ULN2003芯片</p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230201130453834.png" alt="image-20230201130453834"></p><p>ULN2003芯片（一边用于五线四相步进电机的驱动）</p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230201131538757.png" alt="image-20230201131538757"></p><p><strong>所以只需控制P15口就可以产生振动频率输出01来控制蜂鸣器</strong>（好像有说新版变成了P25口，到时候编程的时候测试一下）</p><p>注意：单片机上电的时候默认是高电平，P15默认取反为0，故OUT5为0，即默认会有电流，蜂鸣器会响一下，且始终通电流</p><p>播放音乐的参数：音高、时长</p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230201133730841.png" alt="image-20230201133730841"></p><p>根据频率值控制定时器产生相应频率的计时，从而控制中断控制IO口的反转</p><p>频率的关系，可以计算定时器的重装值：</p><p>注意：</p><ol><li><p>一个机器周期=12个晶振周期</p></li><li><p>翻转IO口控制频率时，翻转两次才是一个周期<img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230201135730573.png" alt="image-20230201135730573"></p></li><li><p>所以翻转的时间时1/2</p></li><li><p>重装载值将高八位取出放到TH0，第八位放在TL0，再控制定时器中断</p></li></ol><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230201140206405.png" alt="image-20230201140206405"></p><h4 id="播放提示音">播放提示音</h4><p>目的：按键松开瞬间给一个按键提示音</p><p>注意：</p><ol><li><p>要把数码管模块代码中清零部分删除（此次是静态显示）</p></li><li><p>蜂鸣器标准频率是1000hz</p></li></ol><p>up主最后是用了默认的标准频率，在他的基础上我修改了为可以自己<strong>设定频率</strong>（可选参数）和<strong>延长的时间</strong></p><p>不过现在才发现，用C语言定义带默认参数/不定参数的函数不像C++那样便捷</p><p>参考了博客要写些代码···嗯好麻烦好麻烦的···</p><p>所以还是简单些说明，如果不自定义频率的参数就要传入0吧···下次有时间写一下cpp文件试试？（大概率是不会去写的hh）</p><h3 id="2-3-蜂鸣器">2.3 蜂鸣器</h3><p>感觉越临近开学越不好好学了，难道是开学焦虑综合征（fp）应该又是太多东西堆积所以顾不过来的时候，就好想摆烂</p><p>真的感觉在多线程前会非常力不从心且一件都很难做好，还会搞得身心很疲惫</p><p>用板子试了一下 确实是P2^5</p><p><code>main.c</code></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;REGX52.H&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;Delay.h&quot;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;Key.h&quot;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;Nixie.h&quot;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;Buzzer.h&quot;</span></span><br><br><span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> keynumber;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span>&#123;<br>Nixie(<span class="hljs-number">1</span>,<span class="hljs-number">0</span>);<span class="hljs-comment">//使上电是0 而不是全亮的状态</span><br><span class="hljs-keyword">while</span>(<span class="hljs-number">1</span>)&#123;<br>keynumber = Key();<br><span class="hljs-keyword">if</span>(keynumber)&#123;<br>Buzzer_Time(<span class="hljs-number">1000</span>,<span class="hljs-number">0</span>);<br>Nixie(<span class="hljs-number">1</span>,keynumber);<span class="hljs-comment">//数码管静态显示</span><br>&#125;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><code>Buzzer.c</code></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;REGX52.H&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;Delay.h&quot;</span></span><br><br><span class="hljs-comment">//蜂鸣器端口：</span><br>sbit Buzzer = P2^<span class="hljs-number">5</span>;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment">  * @brief 蜂鸣器按照标准1000hz延时</span><br><span class="hljs-comment">  * @param 无</span><br><span class="hljs-comment">  * @retval 无</span><br><span class="hljs-comment">  */</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">Buzzer_Delay500us</span><span class="hljs-params">()</span><span class="hljs-comment">//@12.000MHz</span><br>&#123;<br><span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> i;<br><br>i = <span class="hljs-number">247</span>;<br><span class="hljs-keyword">while</span> (--i);<br>&#125;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment">  * @brief 蜂鸣器发声</span><br><span class="hljs-comment">  * @param xms 发声的时长，范围：0~32767</span><br><span class="hljs-comment">  * @param 可选参数frequency(1~500) 因为delay的参数最小是1，如果不传入频率默认要写入0</span><br><span class="hljs-comment">  * @retval 无</span><br><span class="hljs-comment">以500hz的频率响100ms</span><br><span class="hljs-comment">for(i=0;i&lt;100;i++)&#123;</span><br><span class="hljs-comment">Buzzer = !Buzzer;</span><br><span class="hljs-comment">Delay(1);//每隔1ms翻转一次，周期为2ms，频率为500hz</span><br><span class="hljs-comment">&#125;</span><br><span class="hljs-comment">  */</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">Buzzer_Time</span><span class="hljs-params">(<span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> xms,frequency)</span>&#123;<br><span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> i,Delay_Time,For_Time;<br><br><span class="hljs-keyword">if</span>(frequency)&#123;<br>Delay_Time = <span class="hljs-number">500</span>/frequency;<br>For_Time = xms/Delay_Time;<br><span class="hljs-keyword">for</span>(i=<span class="hljs-number">0</span>;i&lt;For_Time;i++)&#123;<br>Buzzer = !Buzzer;<br>Delay(Delay_Time);<span class="hljs-comment">//每隔1ms翻转一次，周期为2ms，频率为500hz</span><br>&#125;<br>&#125;<br><span class="hljs-comment">/*按标准的1000hz*/</span><br><span class="hljs-keyword">else</span>&#123;<br><span class="hljs-keyword">for</span>(i=<span class="hljs-number">0</span>;i&lt;xms*<span class="hljs-number">2</span>;i++)&#123;<br>Buzzer = !Buzzer;<br>Buzzer_Delay500us();<span class="hljs-comment">//延时0.5ms</span><br>&#125;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="音乐">音乐</h4><p>受不鸟了听不下去了，直接copy了…记录一下听到了32：20，如果下次需要的话再继续看…</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;REGX52.H&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;Delay.h&quot;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;Timer0.h&quot;</span></span><br><br><span class="hljs-comment">//蜂鸣器端口定义</span><br>sbit Buzzer=P1^<span class="hljs-number">5</span>;<br><br><span class="hljs-comment">//播放速度，值为四分音符的时长(ms)</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> SPEED500</span><br><br><span class="hljs-comment">//音符与索引对应表，P：休止符，L：低音，M：中音，H：高音，下划线：升半音符号#</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> P0</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> L11</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> L1_2</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> L23</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> L2_4</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> L35</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> L46</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> L4_7</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> L58</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> L5_9</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> L610</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> L6_11</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> L712</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> M113</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> M1_14</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> M215</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> M2_16</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> M317</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> M418</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> M4_19</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> M520</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> M5_21</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> M622</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> M6_23</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> M724</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> H125</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> H1_26</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> H227</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> H2_28</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> H329</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> H430</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> H4_31</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> H532</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> H5_33</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> H634</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> H6_35</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> H736</span><br><br><span class="hljs-comment">//索引与频率对照表</span><br><span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> FreqTable[]=&#123;<br><span class="hljs-number">0</span>,<br><span class="hljs-number">63628</span>,<span class="hljs-number">63731</span>,<span class="hljs-number">63835</span>,<span class="hljs-number">63928</span>,<span class="hljs-number">64021</span>,<span class="hljs-number">64103</span>,<span class="hljs-number">64185</span>,<span class="hljs-number">64260</span>,<span class="hljs-number">64331</span>,<span class="hljs-number">64400</span>,<span class="hljs-number">64463</span>,<span class="hljs-number">64528</span>,<br><span class="hljs-number">64580</span>,<span class="hljs-number">64633</span>,<span class="hljs-number">64684</span>,<span class="hljs-number">64732</span>,<span class="hljs-number">64777</span>,<span class="hljs-number">64820</span>,<span class="hljs-number">64860</span>,<span class="hljs-number">64898</span>,<span class="hljs-number">64934</span>,<span class="hljs-number">64968</span>,<span class="hljs-number">65000</span>,<span class="hljs-number">65030</span>,<br><span class="hljs-number">65058</span>,<span class="hljs-number">65085</span>,<span class="hljs-number">65110</span>,<span class="hljs-number">65134</span>,<span class="hljs-number">65157</span>,<span class="hljs-number">65178</span>,<span class="hljs-number">65198</span>,<span class="hljs-number">65217</span>,<span class="hljs-number">65235</span>,<span class="hljs-number">65252</span>,<span class="hljs-number">65268</span>,<span class="hljs-number">65283</span>,<br>&#125;;<br><br><span class="hljs-comment">//乐谱</span><br><span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> code Music[]=&#123;<br><span class="hljs-comment">//音符,时值,</span><br><br><span class="hljs-comment">//1</span><br>P,<span class="hljs-number">4</span>,<br>P,<span class="hljs-number">4</span>,<br>P,<span class="hljs-number">4</span>,<br>M6,<span class="hljs-number">2</span>,<br>M7,<span class="hljs-number">2</span>,<br><br>H1,<span class="hljs-number">4</span>+<span class="hljs-number">2</span>,<br>M7,<span class="hljs-number">2</span>,<br>H1,<span class="hljs-number">4</span>,<br>H3,<span class="hljs-number">4</span>,<br><br>M7,<span class="hljs-number">4</span>+<span class="hljs-number">4</span>+<span class="hljs-number">4</span>,<br>M3,<span class="hljs-number">2</span>,<br>M3,<span class="hljs-number">2</span>,<br><br><span class="hljs-comment">//2</span><br>M6,<span class="hljs-number">4</span>+<span class="hljs-number">2</span>,<br>M5,<span class="hljs-number">2</span>,<br>M6, <span class="hljs-number">4</span>,<br>H1,<span class="hljs-number">4</span>,<br><br>M5,<span class="hljs-number">4</span>+<span class="hljs-number">4</span>+<span class="hljs-number">4</span>,<br>M3,<span class="hljs-number">4</span>,<br><br>M4,<span class="hljs-number">4</span>+<span class="hljs-number">2</span>,<br>M3,<span class="hljs-number">2</span>,<br>M4,<span class="hljs-number">4</span>,<br>H1,<span class="hljs-number">4</span>,<br><br><span class="hljs-comment">//3</span><br>M3,<span class="hljs-number">4</span>+<span class="hljs-number">4</span>,<br>P,<span class="hljs-number">2</span>,<br>H1,<span class="hljs-number">2</span>,<br>H1,<span class="hljs-number">2</span>,<br>H1,<span class="hljs-number">2</span>,<br><br>M7,<span class="hljs-number">4</span>+<span class="hljs-number">2</span>,<br>M4_,<span class="hljs-number">2</span>,<br>M4_,<span class="hljs-number">4</span>,<br>M7,<span class="hljs-number">4</span>,<br><br>M7,<span class="hljs-number">8</span>,<br>P,<span class="hljs-number">4</span>,<br>M6,<span class="hljs-number">2</span>,<br>M7,<span class="hljs-number">2</span>,<br><br><span class="hljs-comment">//4</span><br>H1,<span class="hljs-number">4</span>+<span class="hljs-number">2</span>,<br>M7,<span class="hljs-number">2</span>,<br>H1,<span class="hljs-number">4</span>,<br>H3,<span class="hljs-number">4</span>,<br><br>M7,<span class="hljs-number">4</span>+<span class="hljs-number">4</span>+<span class="hljs-number">4</span>,<br>M3,<span class="hljs-number">2</span>,<br>M3,<span class="hljs-number">2</span>,<br><br>M6,<span class="hljs-number">4</span>+<span class="hljs-number">2</span>,<br>M5,<span class="hljs-number">2</span>,<br>M6, <span class="hljs-number">4</span>,<br>H1,<span class="hljs-number">4</span>,<br><br><span class="hljs-comment">//5</span><br>M5,<span class="hljs-number">4</span>+<span class="hljs-number">4</span>+<span class="hljs-number">4</span>,<br>M2,<span class="hljs-number">2</span>,<br>M3,<span class="hljs-number">2</span>,<br><br>M4,<span class="hljs-number">4</span>,<br>H1,<span class="hljs-number">2</span>,<br>M7,<span class="hljs-number">2</span>+<span class="hljs-number">2</span>,<br>H1,<span class="hljs-number">2</span>+<span class="hljs-number">4</span>,<br><br>H2,<span class="hljs-number">2</span>,<br>H2,<span class="hljs-number">2</span>,<br>H3,<span class="hljs-number">2</span>,<br>H1,<span class="hljs-number">2</span>+<span class="hljs-number">4</span>+<span class="hljs-number">4</span>,<br><br><span class="hljs-comment">//6</span><br>H1,<span class="hljs-number">2</span>,<br>M7,<span class="hljs-number">2</span>,<br>M6,<span class="hljs-number">2</span>,<br>M6,<span class="hljs-number">2</span>,<br>M7,<span class="hljs-number">4</span>,<br>M5_,<span class="hljs-number">4</span>,<br><br><br>M6,<span class="hljs-number">4</span>+<span class="hljs-number">4</span>+<span class="hljs-number">4</span>,<br>H1,<span class="hljs-number">2</span>,<br>H2,<span class="hljs-number">2</span>,<br><br>H3,<span class="hljs-number">4</span>+<span class="hljs-number">2</span>,<br>H2,<span class="hljs-number">2</span>,<br>H3,<span class="hljs-number">4</span>,<br>H5,<span class="hljs-number">4</span>,<br><br><span class="hljs-comment">//7</span><br>H2,<span class="hljs-number">4</span>+<span class="hljs-number">4</span>+<span class="hljs-number">4</span>,<br>M5,<span class="hljs-number">2</span>,<br>M5,<span class="hljs-number">2</span>,<br><br>H1,<span class="hljs-number">4</span>+<span class="hljs-number">2</span>,<br>M7,<span class="hljs-number">2</span>,<br>H1,<span class="hljs-number">4</span>,<br>H3,<span class="hljs-number">4</span>,<br><br>H3,<span class="hljs-number">4</span>+<span class="hljs-number">4</span>+<span class="hljs-number">4</span>+<span class="hljs-number">4</span>,<br><br><span class="hljs-comment">//8</span><br>M6,<span class="hljs-number">2</span>,<br>M7,<span class="hljs-number">2</span>,<br>H1,<span class="hljs-number">4</span>,<br>M7,<span class="hljs-number">4</span>,<br>H2,<span class="hljs-number">2</span>,<br>H2,<span class="hljs-number">2</span>,<br><br>H1,<span class="hljs-number">4</span>+<span class="hljs-number">2</span>,<br>M5,<span class="hljs-number">2</span>+<span class="hljs-number">4</span>+<span class="hljs-number">4</span>,<br><br>H4,<span class="hljs-number">4</span>,<br>H3,<span class="hljs-number">4</span>,<br>H3,<span class="hljs-number">4</span>,<br>H1,<span class="hljs-number">4</span>,<br><br><span class="hljs-comment">//9</span><br>H3,<span class="hljs-number">4</span>+<span class="hljs-number">4</span>+<span class="hljs-number">4</span>,<br>H3,<span class="hljs-number">4</span>,<br><br>H6,<span class="hljs-number">4</span>+<span class="hljs-number">4</span>,<br>H5,<span class="hljs-number">4</span>,<br>H5,<span class="hljs-number">4</span>,<br><br>H3,<span class="hljs-number">2</span>,<br>H2,<span class="hljs-number">2</span>,<br>H1,<span class="hljs-number">4</span>+<span class="hljs-number">4</span>,<br>P,<span class="hljs-number">2</span>,<br>H1,<span class="hljs-number">2</span>,<br><br><span class="hljs-comment">//10</span><br>H2,<span class="hljs-number">4</span>,<br>H1,<span class="hljs-number">2</span>,<br>H2,<span class="hljs-number">2</span>,<br>H2,<span class="hljs-number">4</span>,<br>H5,<span class="hljs-number">4</span>,<br><br>H3,<span class="hljs-number">4</span>+<span class="hljs-number">4</span>+<span class="hljs-number">4</span>,<br>H3,<span class="hljs-number">4</span>,<br><br>H6,<span class="hljs-number">4</span>+<span class="hljs-number">4</span>,<br>H5,<span class="hljs-number">4</span>+<span class="hljs-number">4</span>,<br><br><span class="hljs-comment">//11</span><br>H3,<span class="hljs-number">2</span>,<br>H2,<span class="hljs-number">2</span>,<br>H1,<span class="hljs-number">4</span>+<span class="hljs-number">4</span>,<br>P,<span class="hljs-number">2</span>,<br>H1,<span class="hljs-number">2</span>,<br><br>H2,<span class="hljs-number">4</span>,<br>H1,<span class="hljs-number">2</span>,<br>H2,<span class="hljs-number">2</span>+<span class="hljs-number">4</span>,<br>M7,<span class="hljs-number">4</span>,<br><br>M6,<span class="hljs-number">4</span>+<span class="hljs-number">4</span>+<span class="hljs-number">4</span>,<br>P,<span class="hljs-number">4</span>,<br><br><span class="hljs-number">0xFF</span><span class="hljs-comment">//终止标志</span><br>&#125;;<br><br><span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> FreqSelect,MusicSelect;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>Timer0Init();<br><span class="hljs-keyword">while</span>(<span class="hljs-number">1</span>)<br>&#123;<br><span class="hljs-keyword">if</span>(Music[MusicSelect]!=<span class="hljs-number">0xFF</span>)<span class="hljs-comment">//如果不是停止标志位</span><br>&#123;<br>FreqSelect=Music[MusicSelect];<span class="hljs-comment">//选择音符对应的频率</span><br>MusicSelect++;<br>Delay(SPEED/<span class="hljs-number">4</span>*Music[MusicSelect]);<span class="hljs-comment">//选择音符对应的时值</span><br>MusicSelect++;<br>TR0=<span class="hljs-number">0</span>;<br>Delay(<span class="hljs-number">5</span>);<span class="hljs-comment">//音符间短暂停顿</span><br>TR0=<span class="hljs-number">1</span>;<br>&#125;<br><span class="hljs-keyword">else</span><span class="hljs-comment">//如果是停止标志位</span><br>&#123;<br>TR0=<span class="hljs-number">0</span>;<br><span class="hljs-keyword">while</span>(<span class="hljs-number">1</span>);<br>&#125;<br>&#125;<br>&#125;<br><br><span class="hljs-comment">//原本是1ms中断一次，现改为直接进来中断的时候</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">Timer0_Routine</span><span class="hljs-params">()</span> interrupt 1<br>&#123;<br><span class="hljs-keyword">if</span>(FreqTable[FreqSelect])<span class="hljs-comment">//如果不是休止符</span><br>&#123;<br><span class="hljs-comment">/*取对应频率值的重装载值到定时器*/</span><br>TL0 = FreqTable[FreqSelect]%<span class="hljs-number">256</span>;<span class="hljs-comment">//设置定时初值</span><br>TH0 = FreqTable[FreqSelect]/<span class="hljs-number">256</span>;<span class="hljs-comment">//设置定时初值</span><br>Buzzer=!Buzzer;<span class="hljs-comment">//翻转蜂鸣器IO口</span><br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>嵌入式</category>
      
      <category>单片机</category>
      
    </categories>
    
    
    <tags>
      
      <tag>51单片机</tag>
      
      <tag>Keil</tag>
      
      <tag>C语言</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>单片机入门学习1</title>
    <link href="/2023/02/14/%E5%8D%95%E7%89%87%E6%9C%BA1/"/>
    <url>/2023/02/14/%E5%8D%95%E7%89%87%E6%9C%BA1/</url>
    
    <content type="html"><![CDATA[<h1>51单片机入门学习记录（1）</h1><p>教程：江科协</p><blockquote><p>目录：</p><p>[LED](#1.4 LED)</p><p>[独立按键](#1.5 独立按键)</p><p>[数码管](#1.10 数码管)</p><p><a href="#1.11%E6%A8%A1%E5%9D%97%E5%8C%96%E7%BC%96%E7%A8%8B">模块化编程</a></p><p>[矩阵键盘](#1.12 矩阵键盘)</p><p>[定时器](#1.14 定时器)</p><p>[串口](#1.18 串口)</p></blockquote><h3 id="1-1">1.1</h3><p>安装kail和stc-isp 买了块板子</p><p>1-2视频<strong>还没有连接板子</strong>（板子刚下单</p><h3 id="1-4-LED">1.4 LED</h3><p>AT89C52！！！</p><p>单片机到了 连接串口安装驱动程序CH341ser 一开始一直显示预安装 搜了很多帖子也没找到解决方案</p><p>在等官方客服回复中摸鱼了会 一个小时后再次回来连接惊喜的连接成功了</p><blockquote><p>1.12回顾：应该是usb线没有连接好的问题，后续很多时候都是正常的，只有在usb未完全插入电脑的时候会提示检测未知</p></blockquote><p>听了很多的硬件内部介绍 听不懂</p><p>要照明第一个LED灯：</p><h4 id="点亮第一个LED">点亮第一个LED</h4><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230104210911586.png" alt="image-20230104210911586"></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c">P2 = <span class="hljs-number">1111</span> <span class="hljs-number">1110</span><br></code></pre></td></tr></table></figure><p>0赋给P20口（最低位）——操作LED 写代码的时候要转化为十进制或者十六进制</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c">P2=<span class="hljs-number">0xFE</span> <span class="hljs-comment">//1111 1110</span><br></code></pre></td></tr></table></figure><p>代码下载入单片机中 如下操作：</p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230104210631295.png" alt="image-20230104210631295"></p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230104210749530.png" alt="image-20230104210749530"></p><p>但是P2命令会一直被执行 我们需要让他持续 而不是重复执行命令</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;REGX52.H&gt;</span></span><br><br><span class="hljs-type">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span>&#123;<br>P2=<span class="hljs-number">0xFE</span>; <span class="hljs-comment">//1111 1110</span><br><span class="hljs-keyword">while</span>(<span class="hljs-number">1</span>)&#123;<br><br>&#125;<br></code></pre></td></tr></table></figure><h4 id="亮不同的灯：">亮不同的灯：</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;REGX52.H&gt;</span></span><br><br><span class="hljs-type">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span>&#123;<br>P2 = <span class="hljs-number">0xFE</span>; <span class="hljs-number">1111</span> <span class="hljs-number">1110</span><br>P2=<span class="hljs-number">0xA5</span>;<span class="hljs-comment">//1010 0101</span><br><span class="hljs-keyword">while</span>(<span class="hljs-number">1</span>)&#123;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="以1s为周期闪烁">以1s为周期闪烁</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;REGX52.H&gt;</span></span><br><br><span class="hljs-type">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span>&#123;<br><br><span class="hljs-keyword">while</span>(<span class="hljs-number">1</span>)&#123;<br>P2 = <span class="hljs-number">0xFE</span>;<br>P2 = <span class="hljs-number">0xFF</span>;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>此时单片机并没有按预期闪烁 而是减小了亮度 原因为单片机的速度是Mhz 速度很快 肉眼无法分辨</p><p>所以我们需要在两个代码里执行一定的延时</p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230104212517191.png" alt="image-20230104212517191"></p><p>这里选错了 应该选毫秒…</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;REGX52.H&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;INTRINS.H&gt;</span></span><br><br><span class="hljs-type">void</span> <span class="hljs-title function_">Delay500ms</span><span class="hljs-params">()</span><span class="hljs-comment">//@12.000MHz</span><br>&#123;<br><span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> i, j, k;<br><br>_nop_();<br>i = <span class="hljs-number">4</span>;<br>j = <span class="hljs-number">205</span>;<br>k = <span class="hljs-number">187</span>;<br><span class="hljs-keyword">do</span><br>&#123;<br><span class="hljs-keyword">do</span><br>&#123;<br><span class="hljs-keyword">while</span> (--k);<br>&#125; <span class="hljs-keyword">while</span> (--j);<br>&#125; <span class="hljs-keyword">while</span> (--i);<br>&#125;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span>&#123;<br><br><span class="hljs-keyword">while</span>(<span class="hljs-number">1</span>)&#123;<br>P2 = <span class="hljs-number">0xFE</span>;<br>Delay500ms();<br>P2 = <span class="hljs-number">0xFF</span>;<br>Delay500ms();<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>成功咯！</p><h4 id="LED流水灯">LED流水灯</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;REGX52.H&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;INTRINS.H&gt;</span></span><br><br><span class="hljs-type">void</span> <span class="hljs-title function_">Delay500ms</span><span class="hljs-params">()</span><span class="hljs-comment">//@12.000MHz</span><br>&#123;<br><span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> i, j, k;<br><br>_nop_();<br>i = <span class="hljs-number">4</span>;<br>j = <span class="hljs-number">205</span>;<br>k = <span class="hljs-number">187</span>;<br><span class="hljs-keyword">do</span><br>&#123;<br><span class="hljs-keyword">do</span><br>&#123;<br><span class="hljs-keyword">while</span> (--k);<br>&#125; <span class="hljs-keyword">while</span> (--j);<br>&#125; <span class="hljs-keyword">while</span> (--i);<br>&#125;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span>&#123;<br><span class="hljs-keyword">while</span>(<span class="hljs-number">1</span>)&#123;<br>P2 = <span class="hljs-number">0xFE</span>;<span class="hljs-comment">//1111 1110</span><br>Delay500ms();<br>P2 = <span class="hljs-number">0xFD</span>;<span class="hljs-comment">//1111 1101</span><br>Delay500ms();<br>P2 = <span class="hljs-number">0xFB</span>;<span class="hljs-comment">//1111 1011</span><br>Delay500ms();<br>P2 = <span class="hljs-number">0xF7</span>;<span class="hljs-comment">//1111 0111</span><br>Delay500ms();<br>P2 = <span class="hljs-number">0xEF</span>;<span class="hljs-comment">//1110 1111</span><br>Delay500ms();<br>P2 = <span class="hljs-number">0xDF</span>;<span class="hljs-comment">//1101 1111</span><br>Delay500ms();<br>P2 = <span class="hljs-number">0xBF</span>;<span class="hljs-comment">//1011 1111</span><br>Delay500ms();<br>P2 = <span class="hljs-number">0x7F</span>;<span class="hljs-comment">//0111 1111</span><br>Delay500ms();<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>以200ms为变化间隔 实现</p><h3 id="1-5-独立按键">1.5 独立按键</h3><h4 id="独立按键">独立按键</h4><h5 id="按下点亮-弹起熄灭">按下点亮 弹起熄灭</h5><p>电子开关 按下时接通 送开始断开 通过内部的金属弹片受力弹动</p><p>按下为低电平（与GND相连）</p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230105112118646.png" alt="image-20230105112118646"></p><p>源代码 <code>P2 = 0xFE;</code>要同时给八个赋值 只想操控最低位</p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230105113023929.png" alt="image-20230105113023929"></p><p><code>sbit</code>可以操纵位寄存器</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;REGX52.H&gt;</span></span><br><br><span class="hljs-type">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span>&#123;<br><span class="hljs-comment">//P2 = 0xFE;</span><br>P2_0 = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">while</span>(<span class="hljs-number">1</span>)&#123;<br><br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>要实现电子元件控制：</p><p>注意 K1和K2 的接脚不是按照顺序 K1是接在P3_1的口上</p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230105114234639.png" alt="image-20230105114234639"></p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230105114319582.png" alt="image-20230105114319582"></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;REGX52.H&gt;</span></span><br><br><span class="hljs-type">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span>&#123;<br><br><span class="hljs-keyword">while</span>(<span class="hljs-number">1</span>)&#123;<br><span class="hljs-keyword">if</span>(P3_1 == <span class="hljs-number">0</span>)&#123;<span class="hljs-comment">//按下K1</span><br>P2_0 = <span class="hljs-number">0</span>;<span class="hljs-comment">//点亮LED1</span><br>&#125;<br><span class="hljs-keyword">else</span>&#123;<br>P2_0 = <span class="hljs-number">1</span>;<span class="hljs-comment">//熄灭LED1</span><br>&#125;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="按键的抖动">按键的抖动</h4><p>由于机械触点的弹性作用，一个开关在闭合时不会马上稳定地连接，在断开时也不会一下子断开，所以在开关闭合及断开的瞬间会伴随一连串的抖动</p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230105122610824.png" alt="image-20230105122610824"></p><p>实现<strong>按键的消抖</strong>：硬件的过滤、软件程序处理(检测)</p><p>以及<strong>检测松手</strong></p><h5 id="按下弹起一个周期后在执行命令">按下弹起一个周期后在执行命令</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;REGX52.H&gt;</span></span><br><br><span class="hljs-type">void</span> <span class="hljs-title function_">Delay</span><span class="hljs-params">(<span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> xms)</span><span class="hljs-comment">//@12.000MHz</span><br>&#123;<br><span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> i, j;<br><span class="hljs-keyword">while</span>(xms--)&#123;<br>i = <span class="hljs-number">2</span>;<br>j = <span class="hljs-number">239</span>;<br><span class="hljs-keyword">do</span><br>&#123;<br><span class="hljs-keyword">while</span> (--j);<br>&#125; <span class="hljs-keyword">while</span> (--i);<br>&#125;<br>&#125;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span>&#123;<br><span class="hljs-keyword">while</span>(<span class="hljs-number">1</span>)&#123;<br><span class="hljs-keyword">if</span>(P3_1==<span class="hljs-number">0</span>)&#123;<br>Delay(<span class="hljs-number">20</span>);<span class="hljs-comment">//过滤按下抖动</span><br><span class="hljs-keyword">while</span>(P3_1==<span class="hljs-number">0</span>);<span class="hljs-comment">//检测松手</span><br>Delay(<span class="hljs-number">20</span>);<span class="hljs-comment">//过滤松开抖动</span><br><br>P2_0 =~P2_0;<br>&#125;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>但是刚刚不小心打成了<code>P3_0==0</code> 灯是按下后不停闪烁 其实这是一个无效语句 真正实现的内核是：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span>&#123;<br><span class="hljs-keyword">while</span>(<span class="hljs-number">1</span>)&#123;<br><span class="hljs-keyword">if</span>(P3_1==<span class="hljs-number">0</span>)&#123;<br>Delay(<span class="hljs-number">20</span>);<span class="hljs-comment">//过滤按下抖动</span><br>Delay(<span class="hljs-number">20</span>);<span class="hljs-comment">//过滤松开抖动</span><br><br>P2_0 =~P2_0;<br>&#125;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>只要按下P2_0会不停地取反 灯就不停地闪烁</p><h4 id="独立按键控制LED显示二进制">独立按键控制LED显示二进制</h4><p>P2上电默认都是高电平</p><p>方案一：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;REGX52.H&gt;</span></span><br><br><span class="hljs-type">void</span> <span class="hljs-title function_">Delay</span><span class="hljs-params">(<span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> xms)</span><span class="hljs-comment">//@12.000MHz</span><br>&#123;<br><span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> i, j;<br><span class="hljs-keyword">while</span>(xms--)&#123;<br>i = <span class="hljs-number">2</span>;<br>j = <span class="hljs-number">239</span>;<br><span class="hljs-keyword">do</span><br>&#123;<br><span class="hljs-keyword">while</span> (--j);<br>&#125; <span class="hljs-keyword">while</span> (--i);<br>&#125;<br>&#125;<br><br><br><span class="hljs-type">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span>&#123;<br><span class="hljs-comment">//unsigned char LEDnumber;</span><br><span class="hljs-keyword">while</span>(<span class="hljs-number">1</span>)&#123;<br><span class="hljs-keyword">if</span>(P3_1==<span class="hljs-number">0</span>)&#123;<br>Delay(<span class="hljs-number">20</span>);<br><span class="hljs-keyword">while</span>(P3_1==<span class="hljs-number">0</span>);<br>Delay(<span class="hljs-number">20</span>);<br><br><br>P2--;<br>&#125;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>方案二：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;REGX52.H&gt;</span></span><br><br><span class="hljs-type">void</span> <span class="hljs-title function_">Delay</span><span class="hljs-params">(<span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> xms)</span><span class="hljs-comment">//@12.000MHz</span><br>&#123;<br><span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> i, j;<br><span class="hljs-keyword">while</span>(xms--)&#123;<br>i = <span class="hljs-number">2</span>;<br>j = <span class="hljs-number">239</span>;<br><span class="hljs-keyword">do</span><br>&#123;<br><span class="hljs-keyword">while</span> (--j);<br>&#125; <span class="hljs-keyword">while</span> (--i);<br>&#125;<br>&#125;<br><br><br><span class="hljs-type">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span>&#123;<br><span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> LEDnumber=<span class="hljs-number">0</span>;<span class="hljs-comment">//一般用unsigned char表示寄存器（八位）</span><br><span class="hljs-keyword">while</span>(<span class="hljs-number">1</span>)&#123;<br><span class="hljs-keyword">if</span>(P3_1==<span class="hljs-number">0</span>)&#123;<br>Delay(<span class="hljs-number">20</span>);<br><span class="hljs-keyword">while</span>(P3_1==<span class="hljs-number">0</span>);<br>Delay(<span class="hljs-number">20</span>);<br><br><span class="hljs-comment">//P2--;</span><br>LEDnumber++;<br>P2 =~LEDnumber;<br>&#125;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><div id="dplayer0" class="dplayer hexo-tag-dplayer-mark" style="margin-bottom: 20px;"></div><script>(function(){var player = new DPlayer({"container":document.getElementById("dplayer0"),"autoplay":true,"hotkey":true,"preload":"metadata","video":{"url":"https://typoraxmy.oss-cn-shanghai.aliyuncs.com/5dfb3c51218fff758a5c580a78f3545f.mp4"}});window.dplayers||(window.dplayers=[]);window.dplayers.push(player);})()</script> <h4 id="独立按键控制LED移位">独立按键控制LED移位</h4><h5 id="一个开关左右移动">一个开关左右移动</h5><p>原本想要更简洁一些</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span>&#123;<br>P2 = ~<span class="hljs-number">0x01</span>;<br><span class="hljs-type">int</span> i;<br><span class="hljs-keyword">while</span>(<span class="hljs-number">1</span>)&#123;<br><span class="hljs-keyword">if</span>(P3_1==<span class="hljs-number">0</span>)&#123;<br>Delay(<span class="hljs-number">20</span>);<br><span class="hljs-keyword">while</span>(P3_1==<span class="hljs-number">0</span>);<br>Delay(<span class="hljs-number">20</span>);<br>&#125;<br><br><span class="hljs-keyword">for</span>(i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">8</span>;i++)&#123;<br>P2=~(<span class="hljs-number">0x01</span>&lt;&lt;i);<br>&#125;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>发现运行后 LED全灯都是小亮度亮的 只有最后一个灯在按下按钮的时候是常亮的 发现是在一次while循环里 立马就执行了移位 延时函数失效</p><p>修改程序</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;REGX52.H&gt;</span></span><br><br><span class="hljs-type">void</span> <span class="hljs-title function_">Delay</span><span class="hljs-params">(<span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> xms)</span><span class="hljs-comment">//@12.000MHz</span><br>&#123;<br><span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> i, j;<br><span class="hljs-keyword">while</span>(xms--)&#123;<br>i = <span class="hljs-number">2</span>;<br>j = <span class="hljs-number">239</span>;<br><span class="hljs-keyword">do</span><br>&#123;<br><span class="hljs-keyword">while</span> (--j);<br>&#125; <span class="hljs-keyword">while</span> (--i);<br>&#125;<br>&#125;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span>&#123;<br><span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> LEDnumber;<br>P2 =~<span class="hljs-number">0x01</span>;<br><span class="hljs-keyword">while</span>(<span class="hljs-number">1</span>)&#123;<br><span class="hljs-keyword">if</span>(P3_1==<span class="hljs-number">0</span>)&#123;<br>Delay(<span class="hljs-number">20</span>);<br><span class="hljs-keyword">while</span>(P3_1==<span class="hljs-number">0</span>);<br>Delay(<span class="hljs-number">20</span>);<br><br>LEDnumber++;<br><span class="hljs-keyword">if</span>(LEDnumber&gt;=<span class="hljs-number">8</span>)&#123;<br>LEDnumber=<span class="hljs-number">0</span>;<br>&#125;<br>P2=~(<span class="hljs-number">0x01</span>&lt;&lt;LEDnumber);<br>&#125;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><h5 id="实现两个开关左右移动：">实现两个开关左右移动：</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;REGX52.H&gt;</span></span><br><br><span class="hljs-type">void</span> <span class="hljs-title function_">Delay</span><span class="hljs-params">(<span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> xms)</span><span class="hljs-comment">//@12.000MHz</span><br>&#123;<br><span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> i, j;<br><span class="hljs-keyword">while</span>(xms--)&#123;<br>i = <span class="hljs-number">2</span>;<br>j = <span class="hljs-number">239</span>;<br><span class="hljs-keyword">do</span><br>&#123;<br><span class="hljs-keyword">while</span> (--j);<br>&#125; <span class="hljs-keyword">while</span> (--i);<br>&#125;<br>&#125;<br><br><span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> LEDnumber;<span class="hljs-comment">//最好定义全局变量</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span>&#123;<br>P2 =~<span class="hljs-number">0x01</span>;<br><span class="hljs-keyword">while</span>(<span class="hljs-number">1</span>)&#123;<span class="hljs-comment">//右移动</span><br><span class="hljs-keyword">if</span>(P3_1==<span class="hljs-number">0</span>)&#123;<br>Delay(<span class="hljs-number">20</span>);<br><span class="hljs-keyword">while</span>(P3_1==<span class="hljs-number">0</span>);<br>Delay(<span class="hljs-number">20</span>);<br><br>LEDnumber++;<br><span class="hljs-keyword">if</span>(LEDnumber&gt;=<span class="hljs-number">8</span>)&#123;<br>LEDnumber=<span class="hljs-number">0</span>;<br>&#125;<br>P2=~(<span class="hljs-number">0x01</span>&lt;&lt;LEDnumber);<br>&#125;<br><span class="hljs-keyword">if</span>(P3_0==<span class="hljs-number">0</span>)&#123;<span class="hljs-comment">//左移动</span><br>Delay(<span class="hljs-number">20</span>);<br><span class="hljs-keyword">while</span>(P3_0==<span class="hljs-number">0</span>);<br>Delay(<span class="hljs-number">20</span>);<br><span class="hljs-keyword">if</span>(LEDnumber==<span class="hljs-number">0</span>)&#123;<br>LEDnumber = <span class="hljs-number">7</span>;<br>&#125;<br><span class="hljs-keyword">else</span>&#123;<br>LEDnumber--;<br>&#125;<br>P2=~(<span class="hljs-number">0x01</span>&lt;&lt;LEDnumber);<br>&#125;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>呜呜呜还是有很多代码的小细节要注意的</p><div id="dplayer1" class="dplayer hexo-tag-dplayer-mark" style="margin-bottom: 20px;"></div><script>(function(){var player = new DPlayer({"container":document.getElementById("dplayer1"),"autoplay":true,"hotkey":true,"preload":"metadata","video":{"url":"https://typoraxmy.oss-cn-shanghai.aliyuncs.com/cbbe1197e3efe2408008da36b4c8aadf.mp4"}});window.dplayers||(window.dplayers=[]);window.dplayers.push(player);})()</script> <p>注意：<code>unsigned char LEDnumber;//最好定义全局变量</code>默认是0 在main里定义可能不是0 在初始定义时好像不能赋初始值 会报错 呜呜呜已经把这些细碎知识点忘光了</p><h3 id="1-10-数码管">1.10 数码管</h3><p>数码管：多个发光二极管封装在一起组成“ 8 ”字型的器件</p><h4 id="在数码管上任意位置显示任意数据（静态显示）">在数码管上任意位置显示任意数据（静态显示）</h4><h4 id=""></h4><h4 id="image-20230110195522620"><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230110195522620.png" alt="image-20230110195522620"></h4><p>引脚就近原则</p><p>要点亮一个数字 以“6”为例子</p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/%E6%97%A0%E6%A0%87%E9%A2%98.jpg" alt="无标题"></p><p>开发板上有两个四位一体的数码管</p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/1.png" alt="1"></p><p>138编码器</p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/134.png" alt="134"></p><p>注意Y<code>0</code>对应LED<code>1</code>（有错位）</p><p>数码管</p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/%E5%98%BF%E5%98%BF.png" alt="嘿嘿"></p><p><code>74HC254</code>是一个双向数据缓冲，为了提高单片机的负载能力 （能够带动很多LED灯）</p><p>当<code>DIR</code>（连接<code>LE</code>）的输入为高电平时，从左向右缓冲数据，反之，从右向左读取数据</p><p>而左边部分与138编码器相连接，目的是为了使得单片机提供的为控制信号，缓冲到右边，由电源VCC直接提供能量控制LED灯</p><p>主要是因为<strong>高电平驱动能力弱</strong>（低电平驱动能力强）</p><p>使某一位显示一个数据：</p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/111111111222222222333333333333.png" alt="111111111222222222333333333333"></p><p>以LED6显示6为例</p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/123.png" alt="123"></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;REGX52.H&gt;</span></span><br><br><span class="hljs-type">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span>&#123;<br>P2_4 = <span class="hljs-number">1</span>;<br>P2_3 = <span class="hljs-number">0</span>;<br>P2_2 = <span class="hljs-number">1</span>;<br>P0 = <span class="hljs-number">0x7D</span>;<br><span class="hljs-keyword">while</span>(<span class="hljs-number">1</span>)&#123;<br><br>&#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/07a4e4660eb9751ed31e6b99baeaf86.jpg" alt="07a4e4660eb9751ed31e6b99baeaf86"></p><p>LED模块因为引脚冲突所以也会亮</p><p>把数码管的某一位显示某一个数字进行封装，抽取出变成<strong>子函数</strong>以达到代码的复用和优化程序结构的目的</p><p>参数：<strong>位置</strong>、<strong>数字</strong></p><p>一般用<strong>数组</strong>显示<strong>段码</strong></p><p>段码表:</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">0</span>  <span class="hljs-number">1</span>  <span class="hljs-number">2</span>  <span class="hljs-number">3</span>  <span class="hljs-number">4</span>  <span class="hljs-number">5</span>  <span class="hljs-number">6</span>  <span class="hljs-number">7</span>  <span class="hljs-number">8</span>  <span class="hljs-number">9</span>  <br><br><span class="hljs-attribute">0x3F</span>,<span class="hljs-number">0</span>x06,<span class="hljs-number">0</span>x5B,<span class="hljs-number">0</span>x4F,<span class="hljs-number">0</span>x66,<span class="hljs-number">0</span>x6D,<span class="hljs-number">0</span>x7D,<span class="hljs-number">0</span>x07,<span class="hljs-number">0</span>x7F,<span class="hljs-number">0</span>x6F,<br></code></pre></td></tr></table></figure><p>优化程序结构：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;REGX52.H&gt;</span></span><br><br><span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> NixieTable[] = &#123;<span class="hljs-number">0x3F</span>,<span class="hljs-number">0x06</span>,<span class="hljs-number">0x5B</span>,<span class="hljs-number">0x4F</span>,<span class="hljs-number">0x66</span>,<span class="hljs-number">0x6D</span>,<span class="hljs-number">0x7D</span>,<span class="hljs-number">0x07</span>,<span class="hljs-number">0x7F</span>,<span class="hljs-number">0x6F</span>&#125;;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">Nixie</span><span class="hljs-params">(<span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> location,number)</span>&#123;<br><span class="hljs-keyword">switch</span>(location)&#123;<br><span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:P2_4=<span class="hljs-number">1</span>;P2_3=<span class="hljs-number">1</span>;P2_2=<span class="hljs-number">1</span>;<span class="hljs-keyword">break</span>;<br><span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:P2_4=<span class="hljs-number">1</span>;P2_3=<span class="hljs-number">1</span>;P2_2=<span class="hljs-number">0</span>;<span class="hljs-keyword">break</span>;<br><span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:P2_4=<span class="hljs-number">1</span>;P2_3=<span class="hljs-number">0</span>;P2_2=<span class="hljs-number">1</span>;<span class="hljs-keyword">break</span>;<br><span class="hljs-keyword">case</span> <span class="hljs-number">4</span>:P2_4=<span class="hljs-number">1</span>;P2_3=<span class="hljs-number">0</span>;P2_2=<span class="hljs-number">0</span>;<span class="hljs-keyword">break</span>;<br><span class="hljs-keyword">case</span> <span class="hljs-number">5</span>:P2_4=<span class="hljs-number">0</span>;P2_3=<span class="hljs-number">1</span>;P2_2=<span class="hljs-number">1</span>;<span class="hljs-keyword">break</span>;<br><span class="hljs-keyword">case</span> <span class="hljs-number">6</span>:P2_4=<span class="hljs-number">0</span>;P2_3=<span class="hljs-number">1</span>;P2_2=<span class="hljs-number">0</span>;<span class="hljs-keyword">break</span>;<br><span class="hljs-keyword">case</span> <span class="hljs-number">7</span>:P2_4=<span class="hljs-number">0</span>;P2_3=<span class="hljs-number">0</span>;P2_2=<span class="hljs-number">1</span>;<span class="hljs-keyword">break</span>;<br><span class="hljs-keyword">case</span> <span class="hljs-number">8</span>:P2_4=<span class="hljs-number">0</span>;P2_3=<span class="hljs-number">0</span>;P2_2=<span class="hljs-number">0</span>;<span class="hljs-keyword">break</span>;<br>&#125;<br>P0 = NixieTable[number];<br>&#125;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span>&#123;<br>Nixie(<span class="hljs-number">1</span>,<span class="hljs-number">1</span>);<br><span class="hljs-keyword">while</span>(<span class="hljs-number">1</span>)&#123;<br><br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230110215647695.png" alt="image-20230110215647695"></p><h4 id="数码管的动态显示-任意位置-多显示（动态扫描）">数码管的动态显示 任意位置 多显示（动态扫描）</h4><p>不断地扫描</p><p>不添加延时的话会出现这样的情况：</p><div id="dplayer2" class="dplayer hexo-tag-dplayer-mark" style="margin-bottom: 20px;"></div><script>(function(){var player = new DPlayer({"container":document.getElementById("dplayer2"),"autoplay":true,"hotkey":true,"preload":"metadata","video":{"url":"https://typoraxmy.oss-cn-shanghai.aliyuncs.com/06d005d8fa336e4df9f64d98ed3183a5.mp4"}});window.dplayers||(window.dplayers=[]);window.dplayers.push(player);})()</script> <p>故而数码管需要 <strong>消影</strong></p><p>位选—&gt;段选—&gt;位选—&gt;段选—&gt;位选—&gt;段选—&gt;位选—&gt;段选</p><p>前一个段选到下一个位选很短的时刻 上一个数据会窜到下一个数据上！！！（段没变 位变了）</p><p>所以要</p><p>位选—&gt;段选—&gt;<strong>清零</strong>—&gt;位选</p><p>但不能立马清零 立马清零数码管会变得比较暗</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;REGX52.H&gt;</span></span><br><br><span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> NixieTable[] = &#123;<span class="hljs-number">0x3F</span>,<span class="hljs-number">0x06</span>,<span class="hljs-number">0x5B</span>,<span class="hljs-number">0x4F</span>,<span class="hljs-number">0x66</span>,<span class="hljs-number">0x6D</span>,<span class="hljs-number">0x7D</span>,<span class="hljs-number">0x07</span>,<span class="hljs-number">0x7F</span>,<span class="hljs-number">0x6F</span>&#125;;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">Delay</span><span class="hljs-params">(<span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> xms)</span><span class="hljs-comment">//@12.000MHz</span><br>&#123;<br><span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> i, j;<br><span class="hljs-keyword">while</span>(xms--)&#123;<br>i = <span class="hljs-number">2</span>;<br>j = <span class="hljs-number">239</span>;<br><span class="hljs-keyword">do</span><br>&#123;<br><span class="hljs-keyword">while</span> (--j);<br>&#125; <span class="hljs-keyword">while</span> (--i);<br>&#125;<br>&#125;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">Nixie</span><span class="hljs-params">(<span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> location,number)</span>&#123;<br><span class="hljs-keyword">switch</span>(location)&#123;<br><span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:P2_4=<span class="hljs-number">1</span>;P2_3=<span class="hljs-number">1</span>;P2_2=<span class="hljs-number">1</span>;<span class="hljs-keyword">break</span>;<br><span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:P2_4=<span class="hljs-number">1</span>;P2_3=<span class="hljs-number">1</span>;P2_2=<span class="hljs-number">0</span>;<span class="hljs-keyword">break</span>;<br><span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:P2_4=<span class="hljs-number">1</span>;P2_3=<span class="hljs-number">0</span>;P2_2=<span class="hljs-number">1</span>;<span class="hljs-keyword">break</span>;<br><span class="hljs-keyword">case</span> <span class="hljs-number">4</span>:P2_4=<span class="hljs-number">1</span>;P2_3=<span class="hljs-number">0</span>;P2_2=<span class="hljs-number">0</span>;<span class="hljs-keyword">break</span>;<br><span class="hljs-keyword">case</span> <span class="hljs-number">5</span>:P2_4=<span class="hljs-number">0</span>;P2_3=<span class="hljs-number">1</span>;P2_2=<span class="hljs-number">1</span>;<span class="hljs-keyword">break</span>;<br><span class="hljs-keyword">case</span> <span class="hljs-number">6</span>:P2_4=<span class="hljs-number">0</span>;P2_3=<span class="hljs-number">1</span>;P2_2=<span class="hljs-number">0</span>;<span class="hljs-keyword">break</span>;<br><span class="hljs-keyword">case</span> <span class="hljs-number">7</span>:P2_4=<span class="hljs-number">0</span>;P2_3=<span class="hljs-number">0</span>;P2_2=<span class="hljs-number">1</span>;<span class="hljs-keyword">break</span>;<br><span class="hljs-keyword">case</span> <span class="hljs-number">8</span>:P2_4=<span class="hljs-number">0</span>;P2_3=<span class="hljs-number">0</span>;P2_2=<span class="hljs-number">0</span>;<span class="hljs-keyword">break</span>;<br>&#125;<br>P0 = NixieTable[number];<br>Delay(<span class="hljs-number">1</span>);<br>P0=<span class="hljs-number">0x00</span>;<br>&#125;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span>&#123;<br><br><span class="hljs-keyword">while</span>(<span class="hljs-number">1</span>)&#123;<br>Nixie(<span class="hljs-number">1</span>,<span class="hljs-number">1</span>);<br><span class="hljs-comment">//Delay(20);</span><br>Nixie(<span class="hljs-number">2</span>,<span class="hljs-number">2</span>);<br><span class="hljs-comment">//Delay(20);</span><br>Nixie(<span class="hljs-number">3</span>,<span class="hljs-number">3</span>);<br><span class="hljs-comment">//Delay(20);</span><br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230110221227515.png" alt="image-20230110221227515"></p><p>数码管驱动方式：</p><p><strong>单片机直接扫描</strong>：硬件设备简单，但会耗费大量的单片机CPU时间；</p><p><strong>专用驱动芯片</strong>：内部自带显存、扫描电路，单片机只需告诉它显示什么即可 GM1640</p><h3 id="1-11模块化编程">1.11模块化编程</h3><h4 id="模块化编程">模块化编程</h4><p>避免所有函数都放在main函数里</p><p>要将不同模块的代码放在不同的c文件里</p><p>在.h文件里提供外部可调用函数的声明</p><p>预编译：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">ifndef</span> __DELAY_H__</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> __DELAY_H__</span><br><br><span class="hljs-type">void</span> <span class="hljs-title function_">Delay</span><span class="hljs-params">(<span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> xms)</span>;<br><br><span class="hljs-meta">#<span class="hljs-keyword">endif</span></span><br><br></code></pre></td></tr></table></figure><p>•此外还有<code>#ifdef</code>,<code>#if</code>,<code>#else</code>,<code>#elif</code>,<code>#undef</code>等</p><p>代码模块化实例</p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230111221933504.png" alt="image-20230111221933504"></p><blockquote><p>include<file>优先到标准库中去搜索模块。</p><p>include&quot;file&quot;优先到自定义库中去搜索模块。</p></blockquote><p><code>main.c</code></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;REGX52.H&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;Delay.h&quot;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;Nixie.h&quot;</span></span><br><br><span class="hljs-type">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span>&#123;<br><span class="hljs-keyword">while</span>(<span class="hljs-number">1</span>)<br>&#123;<br>Nixie(<span class="hljs-number">1</span>,<span class="hljs-number">1</span>);<br>Nixie(<span class="hljs-number">2</span>,<span class="hljs-number">2</span>);<br>Nixie(<span class="hljs-number">3</span>,<span class="hljs-number">3</span>);<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><code>Delay.h</code></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">ifndef</span> __DELAY_H__</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> __DELAY_H__</span><br><br><span class="hljs-type">void</span> <span class="hljs-title function_">Delay</span><span class="hljs-params">(<span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> xms)</span>;<br><br><span class="hljs-meta">#<span class="hljs-keyword">endif</span></span><br></code></pre></td></tr></table></figure><p><code>Delay.c</code></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">void</span> <span class="hljs-title function_">Delay</span><span class="hljs-params">(<span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> xms)</span><span class="hljs-comment">//@12.000MHz</span><br>&#123;<br><span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> i, j;<br><span class="hljs-keyword">while</span>(xms--)&#123;<br>i = <span class="hljs-number">2</span>;<br>j = <span class="hljs-number">239</span>;<br><span class="hljs-keyword">do</span><br>&#123;<br><span class="hljs-keyword">while</span> (--j);<br>&#125; <span class="hljs-keyword">while</span> (--i);<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><code>Nixie.h</code></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">ifndef</span> __NIXIE_H__</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> __NIXIE_H__</span><br><br><span class="hljs-type">void</span> <span class="hljs-title function_">Nixie</span><span class="hljs-params">(<span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> location,number)</span>;<br><br><span class="hljs-meta">#<span class="hljs-keyword">endif</span></span><br></code></pre></td></tr></table></figure><p><code>Nixie.c</code></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;REGX52.H&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;Delay.h&quot;</span></span><br><br><span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> NixieTable[] = &#123;<span class="hljs-number">0x3F</span>,<span class="hljs-number">0x06</span>,<span class="hljs-number">0x5B</span>,<span class="hljs-number">0x4F</span>,<span class="hljs-number">0x66</span>,<span class="hljs-number">0x6D</span>,<span class="hljs-number">0x7D</span>,<span class="hljs-number">0x07</span>,<span class="hljs-number">0x7F</span>,<span class="hljs-number">0x6F</span>&#125;;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">Nixie</span><span class="hljs-params">(<span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> location,number)</span>&#123;<br><span class="hljs-keyword">switch</span>(location)&#123;<br><span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:P2_4=<span class="hljs-number">1</span>;P2_3=<span class="hljs-number">1</span>;P2_2=<span class="hljs-number">1</span>;<span class="hljs-keyword">break</span>;<br><span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:P2_4=<span class="hljs-number">1</span>;P2_3=<span class="hljs-number">1</span>;P2_2=<span class="hljs-number">0</span>;<span class="hljs-keyword">break</span>;<br><span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:P2_4=<span class="hljs-number">1</span>;P2_3=<span class="hljs-number">0</span>;P2_2=<span class="hljs-number">1</span>;<span class="hljs-keyword">break</span>;<br><span class="hljs-keyword">case</span> <span class="hljs-number">4</span>:P2_4=<span class="hljs-number">1</span>;P2_3=<span class="hljs-number">0</span>;P2_2=<span class="hljs-number">0</span>;<span class="hljs-keyword">break</span>;<br><span class="hljs-keyword">case</span> <span class="hljs-number">5</span>:P2_4=<span class="hljs-number">0</span>;P2_3=<span class="hljs-number">1</span>;P2_2=<span class="hljs-number">1</span>;<span class="hljs-keyword">break</span>;<br><span class="hljs-keyword">case</span> <span class="hljs-number">6</span>:P2_4=<span class="hljs-number">0</span>;P2_3=<span class="hljs-number">1</span>;P2_2=<span class="hljs-number">0</span>;<span class="hljs-keyword">break</span>;<br><span class="hljs-keyword">case</span> <span class="hljs-number">7</span>:P2_4=<span class="hljs-number">0</span>;P2_3=<span class="hljs-number">0</span>;P2_2=<span class="hljs-number">1</span>;<span class="hljs-keyword">break</span>;<br><span class="hljs-keyword">case</span> <span class="hljs-number">8</span>:P2_4=<span class="hljs-number">0</span>;P2_3=<span class="hljs-number">0</span>;P2_2=<span class="hljs-number">0</span>;<span class="hljs-keyword">break</span>;<br>&#125;<br>P0 = NixieTable[number];<br>Delay(<span class="hljs-number">1</span>);<br>P0=<span class="hljs-number">0x00</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>要注意继承问题  在数码管模块里也用到了<code>Delay</code>函数 所以要在模块里引用<code>Delay</code>的头文件</p><p>感觉每次调用要复制这些模块到同一个文件夹下面好麻烦</p><p>有空的时候要专门做一个自建库 然后修改C51的路径</p><h4 id="LCD1602调试">LCD1602调试</h4><p>连接好后 数码管会乱码</p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230111223140765.png" alt="image-20230111223140765"></p><blockquote><p>使用LCD1602液晶屏作为调试窗口，提供类似printf函数的功能，可实时观察单片机内部数据的变换情况，便于调试和演示。</p><p>只需要知道所提供函数的作用和使用方法</p></blockquote><p>有报错：</p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230111224227603.png" alt="image-20230111224227603"></p><p><code>requires ANSI-style prototype</code>搜了一下：</p><blockquote><p>需要要把调用的子函数放到main前面，或者在main函数前面先把需要调用的子函数定义声明一下。</p></blockquote><p>也不行</p><p>把文件里的函数名字复制过来就好了</p><p>然后自己再重新写也好了 好迷惑···</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;REGX52.H&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;LCD1602.h&quot;</span></span><br><br><span class="hljs-type">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span>&#123;<br>LCD_Init();<br>LCD_ShowChar(<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-string">&#x27;A&#x27;</span>);<br>LCD_ShowString(<span class="hljs-number">1</span>,<span class="hljs-number">3</span>,<span class="hljs-string">&quot;Hello&quot;</span>);<br>LCD_ShowNum(<span class="hljs-number">1</span>,<span class="hljs-number">9</span>,<span class="hljs-number">123</span>,<span class="hljs-number">3</span>);<br>LCD_ShowSignedNum(<span class="hljs-number">1</span>,<span class="hljs-number">13</span>,<span class="hljs-number">-66</span>,<span class="hljs-number">1</span>);<br>LCD_ShowHexNum(<span class="hljs-number">2</span>,<span class="hljs-number">1</span>,<span class="hljs-number">0xA8</span>,<span class="hljs-number">2</span>);<br>LCD_ShowBinNum(<span class="hljs-number">2</span>,<span class="hljs-number">4</span>,<span class="hljs-number">0xAA</span>,<span class="hljs-number">8</span>);<br><span class="hljs-keyword">while</span>(<span class="hljs-number">1</span>)&#123;<br><br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/a8b8007a5727ab7a0a59d73c9d4f779.jpg" alt="a8b8007a5727ab7a0a59d73c9d4f779"></p><p>方便地显示字符串/数字：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;REGX52.H&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;LCD1602.h&quot;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;Delay.h&quot;</span></span><br><br><span class="hljs-type">int</span> result =<span class="hljs-number">0</span>;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span>&#123;<br>LCD_Init();<br><span class="hljs-keyword">while</span>(<span class="hljs-number">1</span>)&#123;<br>result++;<br>Delay(<span class="hljs-number">500</span>);<br>LCD_ShowNum(<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,result,<span class="hljs-number">3</span>);<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><div id="dplayer3" class="dplayer hexo-tag-dplayer-mark" style="margin-bottom: 20px;"></div><script>(function(){var player = new DPlayer({"container":document.getElementById("dplayer3"),"autoplay":true,"hotkey":true,"preload":"metadata","video":{"url":"https://typoraxmy.oss-cn-shanghai.aliyuncs.com/a39a382bfcf654caa8504f6781ca31f9.mp4"}});window.dplayers||(window.dplayers=[]);window.dplayers.push(player);})()</script> <h3 id="1-12-矩阵键盘">1.12 矩阵键盘</h3><blockquote><p>数码管扫描（<strong>输出扫描</strong>）</p><p>原理：显示第1位→显示第2位→显示第3位→……，然后快速循环这个过程，最终实现所有数码管同时显示的效果</p><p>矩阵键盘扫描（<strong>输入扫描</strong>）</p><p>原理：读取第1行(列)→读取第2行(列) →读取第3行(列) → ……，然后快速循环这个过程，最终实现所有按键同时检测的效果</p><p>以上两种扫描方式的共性：<strong>节省I/O口</strong></p></blockquote><h4 id="读取按键显示">读取按键显示</h4><h5 id="扫描法">扫描法</h5><h6 id="逐行扫描">逐行扫描</h6><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230112152213216.png" alt="image-20230112152213216"></p><p>如果<code>P17,P16,P15,P14</code>全部给高电平1 无论按键按不按下 下面的都是高电平</p><p>而将这几个口连接低电平（GND），可以查看<code>P13,12,11,10</code>，如果是0的话说明按键被按下了</p><p>所以想要扫描第二行的话只需要将第二行<code>P16</code>置0，其他三行给1，然后判断<code>P13,12,11,10</code></p><p>相当于把键盘逐行扫描了一遍</p><p>⚠但逐行扫描的话，P15有可能会驱动五线四相步进电机（引脚冲突），导致无源蜂鸣器自己响应，如下图</p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230112152427114.png" alt="image-20230112152427114"></p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230112152510088.png" alt="image-20230112152510088"></p><p>故采用</p><h6 id="逐列扫描">逐列扫描</h6><p>即给<code>P13,12,11,10</code>进行赋值，读取<code>P17,P16,P15,P14</code></p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230112153239203.png" alt="image-20230112153239203"></p><p>单片机配置是准双向接口输出配置，当口线输出为1时驱动能力很弱，允许外部装置将其拉低，而当引脚输出为低时，它的驱动能力很强，可吸收相当大的电流。</p><p><code>P1，P2，P3</code>都是“弱上拉”，<code>P0</code>是一种开漏输出</p><blockquote><p>弱上拉:当输出高电平时，能够输出的电流很小，很容易被别的强下拉拉低</p><p>开漏输出:输出端相当于三极管的集电极. 高电平状态需要上拉电阻才行.</p><p>上拉：将不确定的信号，固定在高电平,电源到器件引脚上的电阻叫上拉电阻，作用是平时使用该引脚为高电平,上拉是对器件注入电流，即灌电流</p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230112154900369.png" alt="image-20230112154900369"></p><p>下拉:将不确定的信号，固定到地点平,地到器件引脚的电阻叫下拉电阻，作用是平时使该引脚为低电平,下拉是从器件输出电流，即拉电流</p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230112154915834.png" alt="image-20230112154915834"></p></blockquote><p><a href="https://zhuanlan.zhihu.com/p/533004907">参考博客</a></p><p>💡想在他编程之前创建自建库 呜呜好像要在一个project下 <a href="https://blog.csdn.net/mcu_rookie/article/details/122435480">类似</a> 下次再看看惹</p><p>up主的代码是一条条写下去的 类似这样</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;REGX52.H&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;Delay.h&quot;</span></span><br><br><span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> <span class="hljs-title function_">MatrixKey</span><span class="hljs-params">()</span>&#123;<br><span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> key=<span class="hljs-number">0</span>;<br><br>P1 = <span class="hljs-number">0xFF</span>;<br>P1_3 = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">if</span>(P1_7 ==<span class="hljs-number">0</span>)&#123;Delay(<span class="hljs-number">20</span>);<span class="hljs-keyword">while</span>(P1_7==<span class="hljs-number">0</span>);<span class="hljs-comment">/*检测松手*/</span>Delay(<span class="hljs-number">20</span>);key=<span class="hljs-number">1</span>;&#125;<br><span class="hljs-keyword">if</span>(P1_6==<span class="hljs-number">0</span>)&#123;Delay(<span class="hljs-number">20</span>);<span class="hljs-keyword">while</span>(P1_6==<span class="hljs-number">0</span>);<span class="hljs-comment">/*检测松手*/</span>Delay(<span class="hljs-number">20</span>);key=<span class="hljs-number">5</span>;&#125;<br><span class="hljs-keyword">if</span>(P1_5 ==<span class="hljs-number">0</span>)&#123;Delay(<span class="hljs-number">20</span>);<span class="hljs-keyword">while</span>(P1_5==<span class="hljs-number">0</span>);<span class="hljs-comment">/*检测松手*/</span>Delay(<span class="hljs-number">20</span>);key=<span class="hljs-number">9</span>;&#125;<br><span class="hljs-keyword">if</span>(P1_4 ==<span class="hljs-number">0</span>)&#123;Delay(<span class="hljs-number">20</span>);<span class="hljs-keyword">while</span>(P1_4==<span class="hljs-number">0</span>);<span class="hljs-comment">/*检测松手*/</span>Delay(<span class="hljs-number">20</span>);key=<span class="hljs-number">13</span>;&#125;<br><span class="hljs-comment">//···</span><br><br><span class="hljs-keyword">return</span> key;<br>&#125;<br></code></pre></td></tr></table></figure><p>感觉有点麻烦 想用循环 参考一个<a href="https://blog.csdn.net/weixin_44509533/article/details/107823449">博主的代码</a>进行修改和理解</p><h6 id="得到扫描法代码：">得到扫描法代码：</h6><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;REGX52.H&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;Delay.h&quot;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;intrins.h&quot;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> keyboard P1  <span class="hljs-comment">//四条行线四条列线所连接的IO口，指定标识符keyboard来代替表达式P1</span></span><br><br><span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> <span class="hljs-title function_">MatrixKey</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> row_scan_code=<span class="hljs-number">0x01</span>; <span class="hljs-comment">//行扫描码0000 0001</span><br><span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> col_scan_code=<span class="hljs-number">0xEF</span>;<span class="hljs-comment">//列扫描码 1110 1110 ;0000 0000</span><br><span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> keycode;  <span class="hljs-comment">//按键键值</span><br><span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> i,x,j;<br><span class="hljs-comment">//可以做一个消抖处理</span><br><span class="hljs-keyword">for</span>(i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">4</span>;i++)<span class="hljs-comment">//逐列扫描，将列线逐列拉低</span><br>&#123;<br>keycode=i+<span class="hljs-number">1</span>;<span class="hljs-comment">//对应关键列的第一行</span><br>keyboard=col_scan_code; <span class="hljs-comment">//P1_3=0-&gt;P1_2=0-&gt;P1_1=0-&gt;P1_0=0按列顺次拉低</span><br>x=keyboard; <span class="hljs-comment">//读取行线状态</span><br><span class="hljs-keyword">for</span>(j=<span class="hljs-number">0</span>;j&lt;<span class="hljs-number">4</span>;j++)<span class="hljs-comment">//逐行扫描</span><br>&#123;<br><span class="hljs-keyword">if</span>(!(x&amp;row_scan_code))<span class="hljs-comment">//说明对应行的按键按下，使行线被拉低</span><br>&#123;<br>keycode+=<span class="hljs-number">4</span>*j;<br>Delay(<span class="hljs-number">20</span>);<br><span class="hljs-comment">//如果按键还未释放，则仍有行线被拉至低电平</span><br><span class="hljs-keyword">while</span>((keyboard&amp;<span class="hljs-number">0x0f</span>)!=<span class="hljs-number">0x0f</span>);<span class="hljs-comment">//等待按键释放（释放的话低四位是F）</span><br>Delay(<span class="hljs-number">20</span>);<br>P1=<span class="hljs-number">0x0F</span>;     <span class="hljs-comment">//恢复原状态，为下次按键做准备</span><br><span class="hljs-keyword">return</span> keycode;     <span class="hljs-comment">//已检测到按键键码，返回</span><br>&#125;<br><span class="hljs-keyword">else</span><br>row_scan_code=_crol_(row_scan_code,<span class="hljs-number">1</span>);<span class="hljs-comment">//左移一位，逐行扫描，将行线逐列拉低</span><br>&#125;<br>col_scan_code=_crol_(col_scan_code,<span class="hljs-number">1</span>);<span class="hljs-comment">//左移一位，将下一列线拉低，准备扫描下一列</span><br>row_scan_code=<span class="hljs-number">0x01</span>;<span class="hljs-comment">//重置行扫描码，为下一行扫描作准备</span><br>&#125;<br>keycode=<span class="hljs-number">0</span>;<span class="hljs-comment">//没有按键按下，键值记为0</span><br><span class="hljs-keyword">return</span> keycode;<br>&#125;<br></code></pre></td></tr></table></figure><p><a href="https://gigiboo.github.io/2023/01/12/%E5%8D%95%E7%89%87%E6%9C%BA%E5%87%BD%E6%95%B0/"><code>_crol_</code>函数</a></p><p><strong>真实测试后</strong>跳转回来，博主的代码好像和我实际的东西是反的，如果从1开始编号，原始状态的列应该是<code>1111 0111</code>（<code>P1_3~P1_0</code>是低四位），而博主是 <code>1110 1111</code>，是先把<code>P1_4</code>置0了，不过回去看博主是三行四列的键盘，引脚是不一样的，上述代码只改动了行列的问题，未考虑到引脚引出的不同，大意了~重新修改了一下代码如下：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;REGX52.H&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;Delay.h&quot;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;intrins.h&quot;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> keyboard P1  <span class="hljs-comment">//四条行线四条列线所连接的IO口，指定标识符keyboard来代替表达式P1</span></span><br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment">  * @brief 矩阵键盘读取按键键码</span><br><span class="hljs-comment">  * @param 无</span><br><span class="hljs-comment">  * @retval keycode 按下按键的键码值</span><br><span class="hljs-comment">如果按键按下不放，程序会停留在此函数，松手的瞬间返回按键键码，没有按键按下时，返回0</span><br><span class="hljs-comment">  */</span><br><br><span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> <span class="hljs-title function_">MatrixKey</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> row_scan_code=<span class="hljs-number">0x80</span>; <span class="hljs-comment">//行扫描码1000 0000 </span><br><span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> col_scan_code=<span class="hljs-number">0xF7</span>;<span class="hljs-comment">//列扫描码 1111 0111 ;0000 0000;</span><br><span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> keycode;  <span class="hljs-comment">//按键键值</span><br><span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> i,x,j;<br><span class="hljs-comment">//可以做一个消抖处理</span><br><span class="hljs-keyword">for</span>(i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">4</span>;i++)<span class="hljs-comment">//逐列扫描，将列线逐列拉低</span><br>&#123;<br>keycode=i+<span class="hljs-number">1</span>;<span class="hljs-comment">//对应关键列的第一行</span><br>keyboard=col_scan_code; <span class="hljs-comment">//P1_3=0-&gt;P1_2=0-&gt;P1_1=0-&gt;P1_0=0按列顺次拉低</span><br>x=keyboard; <span class="hljs-comment">//读取行线状态</span><br><span class="hljs-keyword">for</span>(j=<span class="hljs-number">0</span>;j&lt;<span class="hljs-number">4</span>;j++)<span class="hljs-comment">//逐行扫描</span><br>&#123;<br><span class="hljs-keyword">if</span>(!(x&amp;row_scan_code))<span class="hljs-comment">//说明对应行的按键按下，使行线被拉低</span><br>&#123;<br>keycode+=<span class="hljs-number">4</span>*j;<br>Delay(<span class="hljs-number">20</span>);<br><span class="hljs-comment">//如果按键还未释放，则仍有行线被拉至低电平</span><br><span class="hljs-keyword">while</span>((keyboard&amp;<span class="hljs-number">0xF0</span>)!=<span class="hljs-number">0xF0</span>);<span class="hljs-comment">//等待按键释放（释放的话高四位是F）</span><br>Delay(<span class="hljs-number">20</span>);<br>P1=<span class="hljs-number">0xF0</span>;     <span class="hljs-comment">//恢复原状态，为下次按键做准备</span><br><span class="hljs-keyword">return</span> keycode;     <span class="hljs-comment">//已检测到按键键码，返回</span><br>&#125;<br><span class="hljs-keyword">else</span><br>row_scan_code=_cror_(row_scan_code,<span class="hljs-number">1</span>);<span class="hljs-comment">//右移一位，逐行扫描，将行线逐列拉低</span><br>&#125;<br>col_scan_code=_cror_(col_scan_code,<span class="hljs-number">1</span>);<span class="hljs-comment">//右移一位，将下一列线拉低，准备扫描下一列</span><br>row_scan_code=<span class="hljs-number">0x80</span>;<span class="hljs-comment">//重置行扫描码，为下一行扫描作准备</span><br>&#125;<br>keycode=<span class="hljs-number">0</span>;<span class="hljs-comment">//没有按键按下，键值记为0</span><br><span class="hljs-keyword">return</span> keycode;<br>&#125;<br></code></pre></td></tr></table></figure><div id="dplayer4" class="dplayer hexo-tag-dplayer-mark" style="margin-bottom: 20px;"></div><script>(function(){var player = new DPlayer({"container":document.getElementById("dplayer4"),"autoplay":true,"hotkey":true,"preload":"metadata","video":{"url":"https://typoraxmy.oss-cn-shanghai.aliyuncs.com/25fe7cf40bdd54d14aeb0075973ccb4a.mp4"}});window.dplayers||(window.dplayers=[]);window.dplayers.push(player);})()</script> <p>耶✌</p><h5 id="线反法">线反法</h5><p>原理：</p><blockquote><p>首先使P1口的高四位输出高电平，P1口低四位输出低电平，这时键盘的行线被拉高，列线被拉低。如果有按键按下，则某一条行线将被拉低，此时读取P1口高四位，读取到的将不再全为高电平，说明有按键按下。（在判断是否有按键按下这一点上，线反法与逐行逐列扫描法是一致的）根据读取到0值的I/O口所连接的行线，就可以判断出按下的按键位于哪一行。接下来使P1口的高四位输出低电平，P1口低四位输出高电平（即与上次输出的电平相反，因此称为线反法）。如果有按键按下，此时读取P1口低四位，读取到的将不再全为高电平，根据读取到0值的I/O口所连接的列线，就可以判断出按下的按键位于哪一列。综合按键所在的行线与列线，即可唯一确定按键所在位置，进而获取按键的键值。</p></blockquote><p>第一步：P1.0–P1.3输出为0（4行），P1.4–P1.7做输入（4列）。<br>第二步：读取P1.4–P1.7的数据并保存。<br>第三步：将第二步中保存的数据从P1.4–P1.7输出，此时P1.0–P1.3做输入。<br>第四步：读取P1的数据，若无按键按下，此时读取的数据为0xff，若有按键按下，P1.0–P1.3中必定有一个为0（对应着被按下按键的行），P1.4–P1.7中必定有一个为0（对应着被按下按键的列）。<br>第五步：依据按键数组查找被按下的按键号。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">//@brief:判断4*4矩阵键盘是否有键可靠按下，高4位口接行线，低四位口接列线</span><br><span class="hljs-comment">//@retval:当有键可靠按下时返回1-16的键值，否则返回0</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> keyboard P1</span><br><span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> <span class="hljs-title function_">Check_Keydown</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> KeyValue=<span class="hljs-number">0</span>;<br>keyboard=<span class="hljs-number">0x0f</span>;<br><span class="hljs-keyword">if</span>(keyboard!=<span class="hljs-number">0x0f</span>)<span class="hljs-comment">//如果按键按下</span><br>&#123;<br>delay_ms(<span class="hljs-number">10</span>);<span class="hljs-comment">//延时10ms消抖</span><br><span class="hljs-keyword">if</span>(keyboard!=<span class="hljs-number">0x0f</span>)<span class="hljs-comment">//按键确实按下</span><br>&#123;<br><span class="hljs-comment">//判断按键所在列，以所在列的第一行的按键键值赋给KeyValue</span><br>keyboard=<span class="hljs-number">0X0F</span>;<br><span class="hljs-keyword">switch</span>(keyboard)<br>&#123;<br><span class="hljs-keyword">case</span>(<span class="hljs-number">0X07</span>):KeyValue=<span class="hljs-number">1</span>;<span class="hljs-keyword">break</span>; <span class="hljs-comment">//第一列按下</span><br><span class="hljs-keyword">case</span>(<span class="hljs-number">0X0b</span>):KeyValue=<span class="hljs-number">2</span>;<span class="hljs-keyword">break</span>; <span class="hljs-comment">//第二列按下</span><br><span class="hljs-keyword">case</span>(<span class="hljs-number">0X0d</span>): KeyValue=<span class="hljs-number">3</span>;<span class="hljs-keyword">break</span>; <span class="hljs-comment">//第三列按下</span><br><span class="hljs-keyword">case</span>(<span class="hljs-number">0X0e</span>):KeyValue=<span class="hljs-number">4</span>;<span class="hljs-keyword">break</span>; <span class="hljs-comment">//第四列按下</span><br>&#125;<br><span class="hljs-comment">//判断按键所在行</span><br>keyboard=<span class="hljs-number">0XF0</span>;<br><span class="hljs-keyword">switch</span>(keyboard)<br>&#123;<br><span class="hljs-keyword">case</span>(<span class="hljs-number">0X70</span>):KeyValue=KeyValue;<span class="hljs-keyword">break</span>;  <span class="hljs-comment">//第一行按下</span><br><span class="hljs-keyword">case</span>(<span class="hljs-number">0Xb0</span>):KeyValue=KeyValue+<span class="hljs-number">4</span>;<span class="hljs-keyword">break</span>;  <span class="hljs-comment">//第二行按下</span><br><span class="hljs-keyword">case</span>(<span class="hljs-number">0Xd0</span>): KeyValue=KeyValue+<span class="hljs-number">8</span>;<span class="hljs-keyword">break</span>;  <span class="hljs-comment">//第三行按下</span><br><span class="hljs-keyword">case</span>(<span class="hljs-number">0Xe0</span>):KeyValue=KeyValue+<span class="hljs-number">12</span>;<span class="hljs-keyword">break</span>;  <span class="hljs-comment">//第四行按下</span><br>&#125;<br><span class="hljs-keyword">while</span>(keyboard!=<span class="hljs-number">0xf0</span>); <span class="hljs-comment">//按键松手后退出</span><br><span class="hljs-keyword">return</span> KeyValue;<br>&#125;<br><span class="hljs-keyword">else</span>  <span class="hljs-comment">//否则认为是信号干扰导致</span><br>&#123;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;  <span class="hljs-comment">//认为没有按键按下</span><br>&#125;<br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;  <span class="hljs-comment">//如果没有按键按下返回零</span><br>&#125;<br></code></pre></td></tr></table></figure><p>version2 <a href="https://blog.csdn.net/weixin_45849079/article/details/106888699">参考博主</a>：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;REGX51.H&gt;</span></span><br><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> SEGPORT P0</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> KEYPORT P1</span><br><br><span class="hljs-keyword">typedef</span> <span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> u8;<br><span class="hljs-keyword">typedef</span> <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> u16;<br><br><span class="hljs-comment">//数码管显示按键号，段码</span><br><span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> code LEDCODE[]=&#123;<span class="hljs-number">0x3f</span>,<span class="hljs-number">0x06</span>,<span class="hljs-number">0x5b</span>,<span class="hljs-number">0x4f</span>,<span class="hljs-number">0x66</span>,<span class="hljs-number">0x6d</span>,<span class="hljs-number">0x7d</span>,<span class="hljs-number">0x07</span>,<span class="hljs-number">0x7f</span>,<span class="hljs-number">0x6f</span>,<span class="hljs-number">0x77</span>,<span class="hljs-number">0x7c</span>,<span class="hljs-number">0x39</span>,<span class="hljs-number">0x5e</span>,<span class="hljs-number">0x79</span>,<span class="hljs-number">0x71</span>,<span class="hljs-number">0x40</span>&#125;;<br><span class="hljs-comment">//查找按键号的数组，行和列与电路图一致</span><br><span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> KEYCODE[]=<br>&#123;<span class="hljs-number">0XEE</span>,<span class="hljs-number">0XDE</span>,<span class="hljs-number">0XBE</span>,<span class="hljs-number">0X7E</span>,<br> <span class="hljs-number">0XED</span>,<span class="hljs-number">0XDD</span>,<span class="hljs-number">0XBD</span>,<span class="hljs-number">0X7D</span>,<br> <span class="hljs-number">0XEB</span>,<span class="hljs-number">0XDB</span>,<span class="hljs-number">0XBB</span>,<span class="hljs-number">0X7B</span>,<br> <span class="hljs-number">0XE7</span>,<span class="hljs-number">0XD7</span>,<span class="hljs-number">0XB7</span>,<span class="hljs-number">0X77</span>&#125;;<br><br><span class="hljs-comment">//函数声明</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">delayxms</span><span class="hljs-params">(u16 s)</span>;  <span class="hljs-comment">//延时函数</span><br>u8 <span class="hljs-title function_">KEY_Scan</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span>;     <span class="hljs-comment">//按键扫描</span><br><br><span class="hljs-comment">//主函数</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">main</span> <span class="hljs-params">(<span class="hljs-type">void</span>)</span><br>&#123;<br> <span class="hljs-keyword">while</span>(<span class="hljs-number">1</span>)<br> &#123;<br>  SEGPORT=~LEDCODE[KEY_Scan()];<br> &#125;<br>&#125;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">delayxms</span><span class="hljs-params">(u16 s)</span><br>&#123;<br> u16 i,j;<br> <span class="hljs-keyword">for</span>(i=<span class="hljs-number">0</span>;i&lt;s;i++)<br> &#123; <br>  <span class="hljs-keyword">for</span>(j=<span class="hljs-number">0</span>;j&lt;<span class="hljs-number">120</span>;j++)<br>  &#123;&#125;<br> &#125;<br>&#125;<br><br>u8 <span class="hljs-title function_">KEY_Scan</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span><br>&#123;<br> u8 temp,num;<br> KEYPORT=<span class="hljs-number">0xf0</span>;  <span class="hljs-comment">//P1.0--P1.3输出0，P1.4--P1.7输出为1，为输入做准备</span><br> temp=KEYPORT;  <span class="hljs-comment">//读入P1的值</span><br> temp&amp;=<span class="hljs-number">0xf0</span>;    <span class="hljs-comment">//保留P1.4--P1.7的数据</span><br> <span class="hljs-keyword">if</span>(temp!=<span class="hljs-number">0xf0</span>) <span class="hljs-comment">//若P1.4--P1.7输入不全为1，代表有按键被按下</span><br> &#123;<br>  delayxms(<span class="hljs-number">5</span>);  <span class="hljs-comment">//延时消抖</span><br>  KEYPORT=<span class="hljs-number">0xf0</span>; <span class="hljs-comment">//再次判断是否真有按键按下</span><br>  temp=KEYPORT; <span class="hljs-comment">//读入P1的值</span><br>  temp&amp;=<span class="hljs-number">0xf0</span>;   <span class="hljs-comment">//保留P1.4--P1.7的数据</span><br>  <span class="hljs-keyword">if</span>(temp!=<span class="hljs-number">0xf0</span>)  <span class="hljs-comment">//真有按键按下</span><br>  &#123;<br>   temp|=<span class="hljs-number">0x0f</span>;    <br>   KEYPORT=temp; <span class="hljs-comment">//将读取的P1.4--P1.7数据从P1.4--P1.7输出，此时P1.0--P1.3做输入</span><br>   temp=KEYPORT; <span class="hljs-comment">//再次读取P1的值，上述原理中的第四步</span><br>   <span class="hljs-keyword">for</span>(num=<span class="hljs-number">0</span>;num&lt;<span class="hljs-number">16</span>;num++)  <span class="hljs-comment">//查找按键号，</span><br>   &#123;<br>    <span class="hljs-keyword">if</span>(temp==KEYCODE[num])<br>     <span class="hljs-keyword">break</span>;<br>   &#125;<br>   <span class="hljs-keyword">return</span> num;  <span class="hljs-comment">//对应按键号</span><br>  &#125;<br>  <span class="hljs-keyword">return</span> <span class="hljs-number">16</span>;   <span class="hljs-comment">//表示无按键按下</span><br> &#125;<br> <span class="hljs-keyword">else</span><br>  <span class="hljs-keyword">return</span> <span class="hljs-number">16</span>;<br>&#125; <br></code></pre></td></tr></table></figure><p>version3 <a href="https://www.cnblogs.com/hughdong/p/6879891.html">参考博主</a>：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;reg52.h&gt;</span></span><br><span class="hljs-keyword">typedef</span> <span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> uchar;<br><span class="hljs-keyword">typedef</span> <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> uint;<br>uchar code KEY_TABLE[] =<br>&#123;<br>    <span class="hljs-number">0xEE</span>, <span class="hljs-number">0xDE</span>, <span class="hljs-number">0xBE</span>, <span class="hljs-number">0x7E</span>,<br>    <span class="hljs-number">0xED</span>, <span class="hljs-number">0xDD</span>, <span class="hljs-number">0xBD</span>, <span class="hljs-number">0x7D</span>,<br>    <span class="hljs-number">0xEB</span>, <span class="hljs-number">0xDB</span>, <span class="hljs-number">0xBB</span>, <span class="hljs-number">0x7B</span>,<br>    <span class="hljs-number">0xE7</span>, <span class="hljs-number">0xD7</span>, <span class="hljs-number">0xB7</span>, <span class="hljs-number">0x77</span><br>&#125;;<br>uchar code TABLE[] =<br>&#123;<br>    <span class="hljs-number">0x3F</span>, <span class="hljs-number">0x06</span>, <span class="hljs-number">0x5B</span>, <span class="hljs-number">0x4F</span>,<br>    <span class="hljs-number">0x66</span>, <span class="hljs-number">0x6D</span>, <span class="hljs-number">0x7D</span>, <span class="hljs-number">0x07</span>,<br>    <span class="hljs-number">0x7F</span>, <span class="hljs-number">0x6F</span>, <span class="hljs-number">0x77</span>, <span class="hljs-number">0x7C</span>,<br>    <span class="hljs-number">0x39</span>, <span class="hljs-number">0x5E</span>, <span class="hljs-number">0x79</span>, <span class="hljs-number">0x71</span>,<br>&#125;;<br><span class="hljs-type">void</span> <span class="hljs-title function_">Delay</span><span class="hljs-params">(uchar m)</span><br>&#123;<br>    --m;<br>&#125;<br><span class="hljs-type">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>    uchar temp, key, i;<br>    <span class="hljs-keyword">while</span>(<span class="hljs-number">1</span>)<br>    &#123;<br>        P3 = <span class="hljs-number">0xF0</span>;<br>        <span class="hljs-keyword">if</span> (P3 != <span class="hljs-number">0xF0</span>)<br>        &#123;<br>            Delay(<span class="hljs-number">2000</span>);<br>            <span class="hljs-keyword">if</span> (P3 != <span class="hljs-number">0xF0</span>)<br>            &#123;<br>                temp = P3;<br>                P3 = <span class="hljs-number">0x0F</span>;<br>                key = temp | P3;<br>                <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">16</span>; ++i)<br>                    <span class="hljs-keyword">if</span> (key == KEY_TABLE[i])<br>                        <span class="hljs-keyword">break</span>;<br>                P2 = TABLE[i];<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>实现形式有很多 有空的时候对比一下这三个方案 今天单片机花了很久的时间 就先用<a href="#%E5%BE%97%E5%88%B0%E6%89%AB%E6%8F%8F%E6%B3%95%E4%BB%A3%E7%A0%81%EF%BC%9A">扫描法</a>继续推进吧~</p><p><code>main.c</code></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;REGX52.H&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;Delay.h&quot;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;LCD1602.h&quot;</span></span><br><span class="hljs-meta">#inlcude <span class="hljs-string">&quot;MatrixKey.h&quot;</span></span><br><br><span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> keynumber;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span>&#123;<br>LCD_Init();<br><span class="hljs-keyword">while</span>(<span class="hljs-number">1</span>)&#123;<br>keynumber = MatrixKey();<br><span class="hljs-keyword">if</span>(keynumber)&#123;<br>LCD_ShowNum(<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,keynumber,<span class="hljs-number">2</span>);<br>&#125;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>！！得要有<code>if(keynumber)</code>的判断</p><p>如果没有的话：1.会显示00 2.按下按键后松开由于进入下一次循环过快会立马刷新为00 无法看清01 会感觉一直是00 所以要判断！！</p><h4 id="电子密码锁">电子密码锁</h4><p>~矩阵键盘的应用</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;REGX52.H&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;Delay.h&quot;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;LCD1602.h&quot;</span></span><br><span class="hljs-meta">#inlcude <span class="hljs-string">&quot;MatrixKey.h&quot;</span></span><br><br><span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> keynumber;<br><span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> password,count;<br><span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> truenumber = <span class="hljs-number">3060</span>;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment">  * S1-S9为对应数字</span><br><span class="hljs-comment">  * S10为对应数字0 </span><br><span class="hljs-comment">  * S11为确认键，S12为取消键</span><br><span class="hljs-comment">  */</span><br><br><span class="hljs-type">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span>&#123;<br>LCD_Init();<br>LCD_ShowString(<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-string">&quot;Password:&quot;</span>);<br><span class="hljs-keyword">while</span>(<span class="hljs-number">1</span>)&#123;<br>keynumber = MatrixKey();<br><span class="hljs-comment">//由于while的存在 可以接二连三地往后更新密码 不用担心按键下一次要执行是否会清零的问题</span><br><span class="hljs-keyword">if</span>(keynumber)&#123;  <span class="hljs-comment">//输入密码</span><br><span class="hljs-keyword">if</span>(keynumber&lt;=<span class="hljs-number">10</span>)&#123;<br><span class="hljs-keyword">if</span>(count&lt;<span class="hljs-number">4</span>)&#123;  <span class="hljs-comment">//防止超过int范围</span><br>password = password*<span class="hljs-number">10</span>+keynumber%<span class="hljs-number">10</span>;  <br>count++;<br>&#125;<br><span class="hljs-keyword">else</span>&#123;  <span class="hljs-comment">//计次达到4也可以始终读取！</span><br><span class="hljs-keyword">if</span>(password&gt;=<span class="hljs-number">1000</span>)&#123;<br>password = password%(password/<span class="hljs-number">1000</span>*<span class="hljs-number">1000</span>)*<span class="hljs-number">10</span>+keynumber%<span class="hljs-number">10</span>;<br>&#125;<br><span class="hljs-keyword">else</span>&#123;<br>password = password*<span class="hljs-number">10</span>+keynumber%<span class="hljs-number">10</span>;  <br>&#125;<br>&#125;<br>LCD_ShowNum(<span class="hljs-number">2</span>,<span class="hljs-number">1</span>,password,<span class="hljs-number">4</span>);  <span class="hljs-comment">//更新显示</span><br>&#125;<br><span class="hljs-keyword">if</span>(keynumber==<span class="hljs-number">11</span>)&#123;  <span class="hljs-comment">//确认</span><br><span class="hljs-keyword">if</span>(password == truenumber)&#123;<br>LCD_ShowString(<span class="hljs-number">1</span>,<span class="hljs-number">11</span>,<span class="hljs-string">&quot;   OK!&quot;</span>);<br>&#125;<br><span class="hljs-keyword">else</span>&#123;<br>LCD_ShowString(<span class="hljs-number">1</span>,<span class="hljs-number">11</span>,<span class="hljs-string">&quot;Wrong!&quot;</span>);<br>password = <span class="hljs-number">0</span>;<br>count = <span class="hljs-number">0</span>;<br>LCD_ShowNum(<span class="hljs-number">2</span>,<span class="hljs-number">1</span>,password,<span class="hljs-number">4</span>);  <span class="hljs-comment">//更新显示</span><br>&#125;<br>&#125;<br><span class="hljs-keyword">if</span>(keynumber==<span class="hljs-number">12</span>)&#123;  <span class="hljs-comment">//一键清零</span><br>password = <span class="hljs-number">0</span>;<br>count = <span class="hljs-number">0</span>;<br>LCD_ShowNum(<span class="hljs-number">2</span>,<span class="hljs-number">1</span>,password,<span class="hljs-number">4</span>);  <span class="hljs-comment">//更新显示</span><br>&#125;<br>&#125;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>由于while的存在 可以接二连三地往后更新密码 不用担心按键下一次要执行是否会清零的问题</p><p>但是按到第六位左右会超过int的范围 于是要有预防措施 添加<code>count</code>变量来计次 在up主的功能上多加了一个计次超过4也可以始终不断读取的功能（那这样好像S12就没有用了哦hhh 作为一键清零吧~）</p><p>基础上加一个撤销的功能 只删除一个数字 比较简单就不写下去了~</p><p>有一个bug 密码不能为0</p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/726f76a3a3b9f54837f4be4c8769209.jpg" alt="726f76a3a3b9f54837f4be4c8769209"></p><div id="dplayer5" class="dplayer hexo-tag-dplayer-mark" style="margin-bottom: 20px;"></div><script>(function(){var player = new DPlayer({"container":document.getElementById("dplayer5"),"autoplay":true,"hotkey":true,"preload":"metadata","video":{"url":"https://typoraxmy.oss-cn-shanghai.aliyuncs.com/9bdf16b92f358a0e8de849a5cf0e20ca.mp4"}});window.dplayers||(window.dplayers=[]);window.dplayers.push(player);})()</script> <h4 id="今日总结：">今日总结：</h4><p>好家伙！一个矩阵键盘写的字比之前几天加起来的都多！三千多个字 也可能因为代码贴的太多了hhh</p><p>一个功能的代码实现可以多样化 耐心尝试与探索 仔细理解 遇到不会的即使搜索相关帖子解决 可以有很大收获</p><p>美中不足今天花了好多时间几乎下午三四点开始今天单片机的学习 除了晚饭和饭后散步 一直搞到现在十点</p><p>但是今天学习大家有趣的代码以及一些方便的函数 真的会很开心 主动性吸收知识真的很取悦自己</p><h3 id="1-14-定时器">1.14 定时器</h3><p>独立按键与流水灯的联动！ 直接加在一起的话会有很长时间的delay延迟 用定时器使其灵敏</p><p>之前都是单片机控制的L口外部实现的，而定时器属于单片机的内部资源，其电路的连接和运转均在单片机内部完成</p><blockquote><p>（1）用于计时系统，可实现软件计时，或者使程序每隔一固定时间完成一项操作<br>（2）替代长时间的Delay，提高CPU的运行效率和处理速度（原来的Delay会耗CPU 效率低）</p></blockquote><h5 id="定时器内部工作原理">定时器内部工作原理</h5><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230114193718207.png" alt="image-20230114193718207"></p><blockquote><p><code>STC89C52</code>的T0和T1四种工作模式：</p><p>模式0：13位定时器/计数器</p><p><strong>模式1：16位定时器/计数器（常用）</strong></p><p>模式2：8位自动重装模式</p><p>模式3：两个8位计数器</p></blockquote><p>以模式1为例</p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230114200130072.png" alt="image-20230114200130072"></p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230114201934901.png" alt="image-20230114201934901"></p><h5 id="中断系统">中断系统</h5><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230114203251888.png" alt="image-20230114203251888"></p><h6 id="流程">流程</h6><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230114203555716.png" alt="image-20230114203555716"></p><h6 id="内部结构图">内部结构图</h6><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230114204532170.png" alt="image-20230114204532170"></p><p>PT0为1 走高优先级 PT0为0 走低优先级</p><p>单片机通过<strong>配置寄存器</strong>来控制内部线路的连接—&gt;完善不同的功能</p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230114213718274.png" alt="image-20230114213718274"></p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230114213755711.png" alt="image-20230114213755711"></p><h4 id="中断程序设置">中断程序设置</h4><p>应用定时器0</p><h5 id="先配置工作模式寄存器TMOD：">先配置工作模式寄存器TMOD：</h5><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230114214905474.png" alt="image-20230114214905474"></p><p>结合流程图👇中的门电路可以看出<code>GATE</code>给<code>0</code>是为了让<code>INT1</code>单独控制 <code>C/T</code>给<code>0</code>是为了工作在计时器模式<code> M1M0</code>给<code>0、1</code>是为了工作在工作模式<code>1</code>（16位）</p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230114215013184.png" alt="image-20230114215013184"></p><h5 id="接下来配置TCON">接下来配置<code>TCON</code></h5><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230114215801600.png" alt="image-20230114215801600"></p><p>由于<code>gate</code>给了<code>0</code> 所以<code>IE0</code> 和<code>IT0</code>不用配置了</p><blockquote><p>不可位寻址寄存器只能整体赋值，可位寻址寄存器可以对其中某一位单独赋值</p></blockquote><h3 id="1-17-定时器（2）">1.17 定时器（2）</h3><p>摸鱼了两天+昨天出去玩 停了三天才继续上次的内容，年前应该是跟不完up主的内容了，看大纲轴真的可以很清晰地看出摸鱼的日子，SAD，不要太摆了惹~</p><h5 id="接下来配置TH0和TL0">接下来配置<code>TH0</code>和<code>TL0</code></h5><p>选了12分频原默认值是：每隔<code>1us</code>+1 计数到最大值（<code>65535</code>）后中断 总定时间为<code>65535us</code></p><p>想要实现的目标：每隔1s发生中断，上面的默认达不到1s，所以要不断地累计中断</p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230114220358917.png" alt="image-20230114220358917"></p><h5 id="配置中断路径">配置中断路径</h5><p><a href="#%E5%86%85%E9%83%A8%E7%BB%93%E6%9E%84%E5%9B%BE">具体内部结构图</a></p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230117092124919.png" alt="image-20230117092124919"></p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230117092036540.png" alt="image-20230117092036540"></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs c">ET0=<span class="hljs-number">1</span>;<br>EA=<span class="hljs-number">1</span>;<br>PT0=<span class="hljs-number">0</span>;<br></code></pre></td></tr></table></figure><h5 id="中断后的程序">中断后的程序</h5><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230117092623227.png" alt="image-20230117092623227"></p><h4 id="test中断程序">test中断程序</h4><h5 id="以1ms中断为例子">以1ms中断为例子</h5><p>实现手段：赋初值</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;REGX52.H&gt;</span></span><br><br><span class="hljs-comment">/*配置寄存器*/</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">timer0_Init</span><span class="hljs-params">()</span>&#123;<br><span class="hljs-comment">/*配置TMOD*/</span><br>TMOD=<span class="hljs-number">0x01</span>;  <span class="hljs-comment">//0000 0001</span><br><span class="hljs-comment">/*配置TCON*/</span><br><span class="hljs-comment">/*要求中断要使TF0=1，即TCON_5=1*/</span><br><span class="hljs-comment">/*TR=0时禁止计数，即TCON_4=0*/</span><br>TF0=<span class="hljs-number">0</span>;<br>TR0=<span class="hljs-number">1</span>;<span class="hljs-comment">//控制是否计数</span><br><span class="hljs-comment">/*隔1ms中断*/</span><br>TH0=<span class="hljs-number">64535</span>/<span class="hljs-number">256</span>;<br>TL0=<span class="hljs-number">64535</span>%<span class="hljs-number">256</span>;<br><span class="hljs-comment">/*配置中断系统*/</span><br>ET0=<span class="hljs-number">1</span>;<br>EA=<span class="hljs-number">1</span>;<br>PT0=<span class="hljs-number">0</span>;<span class="hljs-comment">//默认等于0 低优先级</span><br>&#125;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span>&#123;<br>timer0_Init();<br><span class="hljs-keyword">while</span>(<span class="hljs-number">1</span>)&#123;<br><br>&#125;<br>&#125;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">Timer0_Rountine</span><span class="hljs-params">()</span> interrupt 1&#123;<br>P2_0=<span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/IMG_2089.JPG" alt="IMG_2089"></p><h5 id="以1s为目标">以1s为目标</h5><p>实现手段：赋初值+循环</p><p>注意：计数器溢出后会<code>TH0</code>和<code>TL0</code>会变成0，而不是原来给的初值，所以进入中断要重新赋初值</p><p><code>TMOD=0x01;</code>会把定时器1的状态默认刷新为<code>0000</code>，所以要改成<code>TMOD&amp;=0xF0;TMOD|=0X01;</code>，注意不能直接<code>TMOD&amp;=0xF1;</code>如果原来最低位为0的话就不能实现功能</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;REGX52.H&gt;</span></span><br><br><span class="hljs-comment">/*配置寄存器*/</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">timer0_Init</span><span class="hljs-params">()</span>&#123;  <span class="hljs-comment">//1ms @12.000Mhz</span><br><br><span class="hljs-comment">/*配置TMOD*/</span><br>TMOD &amp;= <span class="hljs-number">0xF0</span>; <span class="hljs-comment">//保持高四位，低四位清零</span><br>TMOD |= <span class="hljs-number">0X01</span>;<br><span class="hljs-comment">/*配置TCON*/</span><br><span class="hljs-comment">/*要求中断要使TF0=1，即TCON_5=1*/</span><br><span class="hljs-comment">/*TR=0时禁止计数，即TCON_4=0*/</span><br>TF0 = <span class="hljs-number">0</span>;<br>TR0 = <span class="hljs-number">1</span>;<span class="hljs-comment">//控制是否计数</span><br><span class="hljs-comment">/*隔1ms中断*/</span><br>TH0 = <span class="hljs-number">64535</span>/<span class="hljs-number">256</span>;<br>TL0 = <span class="hljs-number">64535</span>%<span class="hljs-number">256</span>+<span class="hljs-number">1</span>;<br><span class="hljs-comment">/*配置中断系统*/</span><br>ET0 = <span class="hljs-number">1</span>;<br>EA = <span class="hljs-number">1</span>;<br>PT0 = <span class="hljs-number">0</span>;<span class="hljs-comment">//默认等于0 低优先级</span><br>&#125;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span>&#123;<br>timer0_Init();<br><span class="hljs-keyword">while</span>(<span class="hljs-number">1</span>)&#123;<br><br>&#125;<br>&#125;<br><br><span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> count;<br><span class="hljs-type">void</span> <span class="hljs-title function_">Timer0_Rountine</span><span class="hljs-params">()</span> interrupt 1&#123;<br>TH0 = <span class="hljs-number">64535</span>/<span class="hljs-number">256</span>;<br>TL0 = <span class="hljs-number">64535</span>%<span class="hljs-number">256</span>;<br>count++;<br><span class="hljs-keyword">if</span>(count&gt;=<span class="hljs-number">1000</span>)&#123;<br>count = <span class="hljs-number">0</span>;<br>P2_0 = ~P2_0;<span class="hljs-comment">//会以间隔1s闪烁</span><br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>软件里也有现成的代码配置：</p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230117095057767.png" alt="image-20230117095057767"></p><p>但是中断系统配置要自己写一下：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs c">ET0 = <span class="hljs-number">1</span>;<br>EA = <span class="hljs-number">1</span>;<br>PT0 = <span class="hljs-number">0</span>;<br></code></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;REGX52.H&gt;</span></span><br><br><span class="hljs-comment">/*配置寄存器*/</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">timer0_Init</span><span class="hljs-params">()</span>&#123;<br><br><span class="hljs-comment">//AUXR &amp;= 0x7F;//定时器时钟12T模式 已经有默认了不需要设置</span><br>TMOD &amp;= <span class="hljs-number">0xF0</span>;<span class="hljs-comment">//设置定时器模式</span><br>TMOD |= <span class="hljs-number">0x01</span>;<span class="hljs-comment">//设置定时器模式</span><br>TL0 = <span class="hljs-number">0x18</span>;<span class="hljs-comment">//设置定时初值</span><br>TH0 = <span class="hljs-number">0xFC</span>;<span class="hljs-comment">//设置定时初值</span><br>TF0 = <span class="hljs-number">0</span>;<span class="hljs-comment">//清除TF0标志</span><br>TR0 = <span class="hljs-number">1</span>;<span class="hljs-comment">//定时器0开始计时</span><br><br><span class="hljs-comment">/*配置中断系统*/</span><br>ET0 = <span class="hljs-number">1</span>;<br>EA = <span class="hljs-number">1</span>;<br>PT0 = <span class="hljs-number">0</span>;<span class="hljs-comment">//默认等于0 低优先级</span><br>&#125;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span>&#123;<br>timer0_Init();<br><span class="hljs-keyword">while</span>(<span class="hljs-number">1</span>)&#123;<br><br>&#125;<br>&#125;<br><br><span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> count;<br><span class="hljs-type">void</span> <span class="hljs-title function_">Timer0_Rountine</span><span class="hljs-params">()</span> interrupt 1&#123;<br>TH0 = <span class="hljs-number">0xFC</span>;<br>TL0 = <span class="hljs-number">0x18</span>;<br>count++;<br><span class="hljs-keyword">if</span>(count&gt;=<span class="hljs-number">1000</span>)&#123;<br>count = <span class="hljs-number">0</span>;<br>P2_0 = ~P2_0;<span class="hljs-comment">//会以间隔1s闪烁</span><br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><h5 id="将1s中断程序模块化">将1s中断程序模块化</h5><p><code>Timer0.c</code></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;REGX52.H&gt;</span></span><br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment">  * @brief  定时器0初始化，1ms 12.000Mhz</span><br><span class="hljs-comment">  * @param  无 </span><br><span class="hljs-comment">  * @retval  无</span><br><span class="hljs-comment">  */</span><br><br><span class="hljs-type">void</span> <span class="hljs-title function_">timer0_Init</span><span class="hljs-params">()</span>&#123;<br><br><span class="hljs-comment">//AUXR &amp;= 0x7F;//定时器时钟12T模式</span><br>TMOD &amp;= <span class="hljs-number">0xF0</span>;<span class="hljs-comment">//设置定时器模式</span><br>TMOD |= <span class="hljs-number">0x01</span>;<span class="hljs-comment">//设置定时器模式</span><br>TL0 = <span class="hljs-number">0x18</span>;<span class="hljs-comment">//设置定时初值</span><br>TH0 = <span class="hljs-number">0xFC</span>;<span class="hljs-comment">//设置定时初值</span><br>TF0 = <span class="hljs-number">0</span>;<span class="hljs-comment">//清除TF0标志</span><br>TR0 = <span class="hljs-number">1</span>;<span class="hljs-comment">//定时器0开始计时</span><br><br><span class="hljs-comment">/*配置中断系统*/</span><br>ET0 = <span class="hljs-number">1</span>;<br>EA = <span class="hljs-number">1</span>;<br>PT0 = <span class="hljs-number">0</span>;<span class="hljs-comment">//默认等于0 低优先级</span><br>&#125;<br><br><span class="hljs-comment">/*定时器中断模板 一般放在main函数中 不易模块化</span><br><span class="hljs-comment">void Timer0_Rountine() interrupt 1&#123;</span><br><span class="hljs-comment">static unsigned int count;</span><br><span class="hljs-comment">TH0 = 0xFC;</span><br><span class="hljs-comment">TL0 = 0x18;</span><br><span class="hljs-comment">count++;</span><br><span class="hljs-comment">if(count&gt;=1000)&#123;</span><br><span class="hljs-comment">count = 0;</span><br><span class="hljs-comment">&#125;</span><br><span class="hljs-comment">&#125;</span><br><span class="hljs-comment">*/</span><br></code></pre></td></tr></table></figure><p><code>Timer0.h</code></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">ifndef</span> __Timer0_H__</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> __Timer0_H__</span><br><br><span class="hljs-type">void</span> <span class="hljs-title function_">timer0_Init</span><span class="hljs-params">()</span>;<br><br><span class="hljs-meta">#<span class="hljs-keyword">endif</span></span><br></code></pre></td></tr></table></figure><p><code>main.c</code></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;REGX52.H&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;Timer0.h&quot;</span></span><br><br><span class="hljs-type">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span>&#123;<br>timer0_Init();<br><span class="hljs-keyword">while</span>(<span class="hljs-number">1</span>)&#123;<br><br>&#125;<br>&#125;<br><br><br><span class="hljs-type">void</span> <span class="hljs-title function_">Timer0_Rountine</span><span class="hljs-params">()</span> interrupt 1&#123;<br><span class="hljs-type">static</span> <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> count;<br>TH0 = <span class="hljs-number">0xFC</span>;<br>TL0 = <span class="hljs-number">0x18</span>;<br>count++;<br><span class="hljs-keyword">if</span>(count&gt;=<span class="hljs-number">1000</span>)&#123;<br>count = <span class="hljs-number">0</span>;<br>P2_0 = ~P2_0;<span class="hljs-comment">//会以间隔1s闪烁</span><br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="按键控制LED流水灯模式">按键控制LED流水灯模式</h4><p>获取独立按键的模块化编程：</p><p><code>Key.c</code></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;REGX52.H&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;Delay.h&quot;</span></span><br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment">  * @brief 获取独立按键键码</span><br><span class="hljs-comment">  * @param 无</span><br><span class="hljs-comment">  * @retval 按键键码0~4，无按键按下时返回值为0</span><br><span class="hljs-comment">  */</span><br><br><span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> <span class="hljs-title function_">key</span><span class="hljs-params">()</span>&#123;<br><span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> keynumber=<span class="hljs-number">0</span>;<br><span class="hljs-keyword">if</span>(P3_1==<span class="hljs-number">0</span>)&#123;Delay(<span class="hljs-number">20</span>);<span class="hljs-keyword">while</span>(P3_1==<span class="hljs-number">0</span>);Delay(<span class="hljs-number">20</span>);keynumber=<span class="hljs-number">1</span>;&#125;<br><span class="hljs-keyword">if</span>(P3_0==<span class="hljs-number">0</span>)&#123;Delay(<span class="hljs-number">20</span>);<span class="hljs-keyword">while</span>(P3_0==<span class="hljs-number">0</span>);Delay(<span class="hljs-number">20</span>);keynumber=<span class="hljs-number">2</span>;&#125;<br><span class="hljs-keyword">if</span>(P3_2==<span class="hljs-number">0</span>)&#123;Delay(<span class="hljs-number">20</span>);<span class="hljs-keyword">while</span>(P3_2==<span class="hljs-number">0</span>);Delay(<span class="hljs-number">20</span>);keynumber=<span class="hljs-number">3</span>;&#125;<br><span class="hljs-keyword">if</span>(P3_3==<span class="hljs-number">0</span>)&#123;Delay(<span class="hljs-number">20</span>);<span class="hljs-keyword">while</span>(P3_3==<span class="hljs-number">0</span>);Delay(<span class="hljs-number">20</span>);keynumber=<span class="hljs-number">4</span>;&#125;<br><span class="hljs-keyword">return</span> keynumber;<br>&#125;<br></code></pre></td></tr></table></figure><p><code>Key.h</code></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">ifndef</span> __Key_H__</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> __Key_H__</span><br><br><span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> <span class="hljs-title function_">key</span><span class="hljs-params">()</span>;<br><br><span class="hljs-meta">#<span class="hljs-keyword">endif</span></span><br></code></pre></td></tr></table></figure><p>写完模块最好立即测试一下</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;REGX52.H&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;Timer0.h&quot;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;Key.h&quot;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;INTRINS.H&gt;</span></span><br><br><span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> keynum,ledmode;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span>&#123;<br>P2 = <span class="hljs-number">0xFE</span>;<br>timer0_Init();<br><span class="hljs-keyword">while</span>(<span class="hljs-number">1</span>)&#123;<br>keynum = key();<br><span class="hljs-keyword">if</span>(keynum==<span class="hljs-number">1</span>)&#123;<br>ledmode++;<br><span class="hljs-keyword">if</span>(ledmode&gt;=<span class="hljs-number">2</span>)ledmode = <span class="hljs-number">0</span>;<br>&#125;<br>&#125;<br>&#125;<br><br><br><span class="hljs-type">void</span> <span class="hljs-title function_">Timer0_Rountine</span><span class="hljs-params">()</span> interrupt 1&#123;<br><span class="hljs-type">static</span> <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> count;<br>TH0 = <span class="hljs-number">0xFC</span>;<br>TL0 = <span class="hljs-number">0x18</span>;<br>count++;<br><span class="hljs-keyword">if</span>(count&gt;=<span class="hljs-number">500</span>)&#123;<br>count = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">if</span>(ledmode==<span class="hljs-number">0</span>)<br>P2=_crol_(P2,<span class="hljs-number">1</span>);<br><span class="hljs-keyword">else</span><br>P2=_cror_(P2,<span class="hljs-number">1</span>);<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><div id="dplayer6" class="dplayer hexo-tag-dplayer-mark" style="margin-bottom: 20px;"></div><script>(function(){var player = new DPlayer({"container":document.getElementById("dplayer6"),"autoplay":true,"hotkey":true,"preload":"metadata","video":{"url":"https://typoraxmy.oss-cn-shanghai.aliyuncs.com/e953e1340c299756311f62a055a8240c.mp4"}});window.dplayers||(window.dplayers=[]);window.dplayers.push(player);})()</script> <h4 id="定时器时钟">定时器时钟</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;REGX52.H&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;Delay.h&quot;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;LCD1602.h&quot;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;Timer0.h&quot;</span></span><br><br><span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> Sec,Min,Hour;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span>&#123;<br>LCD_Init();<br>Timer0_Init();<br>LCD_ShowString(<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-string">&quot;Clock:&quot;</span>);<br>LCD_ShowString(<span class="hljs-number">2</span>,<span class="hljs-number">1</span>,<span class="hljs-string">&quot;  :  :&quot;</span>);<br><br><span class="hljs-keyword">while</span>(<span class="hljs-number">1</span>)&#123;<br>LCD_ShowNum(<span class="hljs-number">2</span>,<span class="hljs-number">1</span>,Hour,<span class="hljs-number">2</span>);<br>LCD_ShowNum(<span class="hljs-number">2</span>,<span class="hljs-number">4</span>,Min,<span class="hljs-number">2</span>);<br>LCD_ShowNum(<span class="hljs-number">2</span>,<span class="hljs-number">7</span>,Sec,<span class="hljs-number">2</span>);<br>&#125;<br>&#125;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">Timer0_Rountine</span><span class="hljs-params">()</span> interrupt 1&#123;<br><span class="hljs-type">static</span> <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> count;<br>TH0 = <span class="hljs-number">0xFC</span>;<br>TL0 = <span class="hljs-number">0x18</span>;<br>count++;<br><span class="hljs-keyword">if</span>(count&gt;=<span class="hljs-number">1000</span>)&#123;<br>count = <span class="hljs-number">0</span>;<br>Sec++;<br><span class="hljs-keyword">if</span>(Sec&gt;=<span class="hljs-number">60</span>)<br>&#123;<br>Sec = <span class="hljs-number">0</span>;<br>Min++;<br><span class="hljs-keyword">if</span>(Min&gt;=<span class="hljs-number">60</span>)<br>&#123;<br>Min = <span class="hljs-number">0</span>;<br>Hour++;<br><span class="hljs-keyword">if</span>(Hour&gt;=<span class="hljs-number">24</span>)&#123;<br>Hour = <span class="hljs-number">0</span>;<br>&#125;<br>&#125;<br>&#125;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><div id="dplayer7" class="dplayer hexo-tag-dplayer-mark" style="margin-bottom: 20px;"></div><script>(function(){var player = new DPlayer({"container":document.getElementById("dplayer7"),"autoplay":true,"hotkey":true,"preload":"metadata","video":{"url":"https://typoraxmy.oss-cn-shanghai.aliyuncs.com/6b34a9a62ab11c9dd7488bcb4dc02961.mp4"}});window.dplayers||(window.dplayers=[]);window.dplayers.push(player);})()</script> <p>其他的事情：</p><p>关于中断系统up主讲的比较少 要另外找视频再学一下</p><p>不能再摸鱼了 剩下还有10个章节 春节前是看不完了 争取在二月前看完哇！</p><h3 id="1-18-串口">1.18 串口</h3><blockquote><p>串口是一种应用十分广泛的<strong>通讯接口</strong>，串口成本低、容易使用、通信线路简单，可实现两个设备的<strong>互相通信</strong>。</p><p>单片机的串口可以使单片机与单片机、单片机与电脑、单片机与各式各样的模块互相通信，极大的扩展了单片机的应用范围，增强了单片机系统的硬件实力。</p><p>51单片机<strong>内部自带UART</strong>（Universal Asynchronous Receiver Transmitter，<strong>通用异步收发器</strong>），可实现单片机的串口通信。</p></blockquote><p>单片机-电脑使用usb转换接口</p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230118110540374.png" alt="image-20230118110540374"></p><p>电平标准：人为规定的电压与数据的对应关系</p><blockquote><p>TTL电平：+5V表示1，0V表示0 （单片机）</p><p>RS232电平：-3-15V表示1，+3~+15V表示0</p><p>RS485电平：两线压差+2+6V表示1，-2~-6V表示0（差分信号）</p></blockquote><table><thead><tr><th><strong>名称</strong></th><th><strong>引脚定义</strong></th><th><strong>通信方式</strong></th><th><strong>特点</strong></th></tr></thead><tbody><tr><td><strong>UART</strong></td><td>TXD、RXD</td><td><strong>全双工、异步</strong></td><td><strong>点对点</strong>通信</td></tr><tr><td>I²C</td><td><u>SCL</u>、SDA</td><td>半双工、<u>同步</u></td><td>可挂载多个设备</td></tr><tr><td>SPI</td><td><u>SCLK</u>、MOSI、MISO、CS</td><td>全双工、<u>同步</u></td><td>可挂载多个设备</td></tr><tr><td>1-Wire</td><td>DQ</td><td>半双工、异步</td><td>可挂载多个设备</td></tr></tbody></table><p>I²C    ：单片机写入读出依靠的通信口</p><h5 id="通信方式：">通信方式：</h5><ol><li></li></ol><ul><li>全双工：通信双方可以在<strong>同一时刻</strong>互相传输数据</li><li>半双工：通信双方可以互相传输数据，但必须<strong>分时</strong>复用<u>一根</u>数据线</li><li>单工：通信只能有一方发送到另一方，不能反向传输（例如：遥控器）</li></ul><ol start="2"><li></li></ol><ul><li>异步：通信双方<strong>各自约定</strong>通信速率（双方要自己计时）</li><li>同步：通信双方<strong>靠一根时钟线</strong>来约定通信速率</li></ul><ol start="3"><li></li></ol><ul><li>总线：<u>连接各个设备</u>的数据传输线路（类似于一条马路，把路边各住户连接起来，使住户可以相互交流）</li></ul><p>单片机的UART</p><p>只有一个，四种工作模式</p><p>与电脑的通信接口：</p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230118151951283.png" alt="image-20230118151951283"></p><p>RXD、TXD（串口）和P3口（IO口）共用</p><p>MCU发送信号到usb自动下载电路 转化为usb信号传给电脑（串口通信）</p><h5 id="串口参数及时序图">串口参数及时序图</h5><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230118153108056.png" alt="image-20230118153108056"></p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230118160904942.png" alt="image-20230118160904942"></p><p>到中断后：</p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230118161202525.png" alt="image-20230118161202525"></p><h5 id="串口相关寄存器">串口相关寄存器</h5><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230118161705814.png" alt="image-20230118161705814"></p><p>SMOD和SMOD0是属于串口的</p><h4 id="串口向电脑发送数据">串口向电脑发送数据</h4><h5 id="配置控制寄存器SCON">配置控制寄存器SCON</h5><p>应用模式一</p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230118162843820.png" alt="image-20230118162843820"></p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230118162954177.png" alt="image-20230118162954177"></p><h5 id="配置PCON">配置PCON</h5><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230118191441248.png" alt="image-20230118191441248"></p><p>up主说中断不用配置？不太明白欸</p><p>似乎是说中断默认打开，相当于已经配置好了，不用自己配置</p><h5 id="选择波特率">选择波特率</h5><p>串口只能用定时器<strong>1</strong>，且是<strong>8位自动重装载定时器</strong></p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230118192549066.png" alt="image-20230118192549066"></p><p>用软件的波特率计算器</p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230118194647648.png" alt="image-20230118194647648"></p><p>要选波特率倍速，波特率加倍是因为分频了</p><h5 id="程序">程序</h5><p>要发送信息到单片机，需要写信息到缓存SBUF</p><p>但<strong>连续发会出错</strong>，所以要通过发送控制器的标志位<code>TI</code>检测</p><p>当串行在停止位开始发送时由内部硬件自动置位1，必须由软件来复位</p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230118160904942.png" alt="image-20230118160904942"></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;REGX52.H&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;Delay.h&quot;</span></span><br><br><span class="hljs-type">void</span> <span class="hljs-title function_">UART_Init</span><span class="hljs-params">()</span>&#123;<span class="hljs-comment">//4800bps@12.000MHz</span><br><span class="hljs-comment">/*配置串口部分*/</span><br>SCON = <span class="hljs-number">0x40</span>;<br>PCON |= <span class="hljs-number">0x80</span>;<br><span class="hljs-comment">/*配置定时器部分*/</span><br>TMOD &amp;= <span class="hljs-number">0x0F</span>;<span class="hljs-comment">//设置定时器模式</span><br>TMOD |= <span class="hljs-number">0x20</span>;<span class="hljs-comment">//设置定时器模式</span><br>TL1 = <span class="hljs-number">0xF3</span>;<span class="hljs-comment">//设定定时初值</span><br>TH1 = <span class="hljs-number">0xF3</span>;<span class="hljs-comment">//设定定时器重装值</span><br>ET1 = <span class="hljs-number">0</span>;        <span class="hljs-comment">//禁止定时器1中断</span><br><span class="hljs-comment">//TF0 = 0;//清除TF0标志</span><br><span class="hljs-comment">//TR0 = 1;//定时器0开始计时</span><br>TR1 = <span class="hljs-number">1</span>;<span class="hljs-comment">//启动定时器1</span><br><br>&#125;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">UART_SendByte</span><span class="hljs-params">(<span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> Byte)</span>&#123;<br>SBUF = Byte; <span class="hljs-comment">//写入缓冲区</span><br><span class="hljs-keyword">while</span>(TI==<span class="hljs-number">0</span>);<span class="hljs-comment">//判断是否等于1</span><br>TI = <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span>&#123;<br>UART_Init();<br>UART_SendByte(<span class="hljs-number">0x66</span>);<br><span class="hljs-keyword">while</span>(<span class="hljs-number">1</span>)&#123;<br><br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>打开单片机，发现一直是00，原来是软件的波特率没有改，要改成4800</p><p>按照原来的9600的话，发出去一个数据会被采集成两个数据</p><p>但是又E6和66交错，可能是因为我的<strong>单片机晶振是11.0596</strong>，修改定时器</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c">TL1 = <span class="hljs-number">0xF4</span>;<span class="hljs-comment">//设定定时初值</span><br>TH1 = <span class="hljs-number">0xF4</span>;<span class="hljs-comment">//设定定时器重装值</span><br></code></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;REGX52.H&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;Delay.h&quot;</span></span><br><br><span class="hljs-type">void</span> <span class="hljs-title function_">UART_Init</span><span class="hljs-params">()</span>&#123;<span class="hljs-comment">//4800bps@12.000MHz</span><br><span class="hljs-comment">/*配置串口部分*/</span><br>SCON = <span class="hljs-number">0x40</span>;<br>PCON |= <span class="hljs-number">0x80</span>;<br><span class="hljs-comment">/*配置定时器部分*/</span><br>TMOD &amp;= <span class="hljs-number">0x0F</span>;<span class="hljs-comment">//设置定时器模式</span><br>TMOD |= <span class="hljs-number">0x20</span>;<span class="hljs-comment">//设置定时器模式</span><br>TL1 = <span class="hljs-number">0xF4</span>;<span class="hljs-comment">//设定定时初值</span><br>TH1 = <span class="hljs-number">0xF4</span>;<span class="hljs-comment">//设定定时器重装值</span><br>ET1 = <span class="hljs-number">0</span>;        <span class="hljs-comment">//禁止定时器1中断</span><br><span class="hljs-comment">//TF0 = 0;//清除TF0标志</span><br><span class="hljs-comment">//TR0 = 1;//定时器0开始计时</span><br>TR1 = <span class="hljs-number">1</span>;<span class="hljs-comment">//启动定时器1</span><br><br>&#125;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">UART_SendByte</span><span class="hljs-params">(<span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> Byte)</span>&#123;<br>SBUF = Byte; <span class="hljs-comment">//写入缓冲区</span><br><span class="hljs-keyword">while</span>(TI==<span class="hljs-number">0</span>);<span class="hljs-comment">//判断是否等于1</span><br>TI = <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span>&#123;<br>UART_Init();<br>UART_SendByte(<span class="hljs-number">0x11</span>);<br><span class="hljs-keyword">while</span>(<span class="hljs-number">1</span>)&#123;<br><br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>如果把<code>UART_SendByte(0x11);</code>放到while里可能晶振会有误差，可以用以下delay</p><h5 id="只发送不接收">只发送不接收</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span>&#123;<br>UART_Init();<br><span class="hljs-keyword">while</span>(<span class="hljs-number">1</span>)&#123;<br>UART_SendByte(Sec);<br>Sec++;<br>Delay(<span class="hljs-number">1000</span>);<br><br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230118201728456.png" alt="image-20230118201728456"></p><h5 id="将串口模块化">将串口模块化</h5><p><code>UART.h</code></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">ifndef</span> __UART_H__</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> __UART_H__</span><br><br><span class="hljs-type">void</span> <span class="hljs-title function_">UART_Init</span><span class="hljs-params">()</span>;<br><span class="hljs-type">void</span> <span class="hljs-title function_">UART_SendByte</span><span class="hljs-params">(<span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> Byte)</span>;<br><br><span class="hljs-meta">#<span class="hljs-keyword">endif</span></span><br></code></pre></td></tr></table></figure><p><code>UART.c</code></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;REGX52.H&gt;</span></span><br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment">  * @brief 串口初始化</span><br><span class="hljs-comment">  * @param 无</span><br><span class="hljs-comment">  * @retval 无</span><br><span class="hljs-comment">  */</span><br><br><span class="hljs-type">void</span> <span class="hljs-title function_">UART_Init</span><span class="hljs-params">()</span>&#123;<span class="hljs-comment">//4800bps@11.0596MHz</span><br><span class="hljs-comment">/*配置串口部分*/</span><br>SCON = <span class="hljs-number">0x40</span>;<br>PCON |= <span class="hljs-number">0x80</span>;<br><span class="hljs-comment">/*配置定时器部分*/</span><br>TMOD &amp;= <span class="hljs-number">0x0F</span>;<span class="hljs-comment">//设置定时器模式</span><br>TMOD |= <span class="hljs-number">0x20</span>;<span class="hljs-comment">//设置定时器模式</span><br>TL1 = <span class="hljs-number">0xF4</span>;<span class="hljs-comment">//设定定时初值</span><br>TH1 = <span class="hljs-number">0xF4</span>;<span class="hljs-comment">//设定定时器重装值</span><br>ET1 = <span class="hljs-number">0</span>;        <span class="hljs-comment">//禁止定时器1中断</span><br>TR1 = <span class="hljs-number">1</span>;<span class="hljs-comment">//启动定时器1</span><br><br>&#125;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment">  * @brief 串口发送一个字节数据</span><br><span class="hljs-comment">  * @param Byte 要发送的一个字节数据</span><br><span class="hljs-comment">  * @retval 无</span><br><span class="hljs-comment">  */</span><br><br><span class="hljs-type">void</span> <span class="hljs-title function_">UART_SendByte</span><span class="hljs-params">(<span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> Byte)</span>&#123;<br>SBUF = Byte; <span class="hljs-comment">//写入缓冲区</span><br><span class="hljs-keyword">while</span>(TI==<span class="hljs-number">0</span>);<span class="hljs-comment">//判断是否等于1</span><br>TI = <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure><h4 id="电脑控制LED流水灯">电脑控制LED流水灯</h4><p>由于不知道电脑发送信号的时间，所以单片接收需要中断系统，在中断系统中进行数据处理与提取</p><p><code>SCON</code>中一个<code>REN</code>（接收位），置1</p><p>还要打开串口的中断</p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230118205620282.png" alt="image-20230118205620282"></p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230118205901441.png" alt="image-20230118205901441"></p><p>防止单片机发送数据的时候进入中断，要先做一下测试</p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230118210736914.png" alt="image-20230118210736914"></p><p>将单片机的信息发送回电脑</p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/image-20230118212713998.png" alt="image-20230118212713998"></p><p><code>UART.c</code></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;REGX52.H&gt;</span></span><br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment">  * @brief 串口初始化</span><br><span class="hljs-comment">  * @param 无</span><br><span class="hljs-comment">  * @retval 无</span><br><span class="hljs-comment">  */</span><br><br><span class="hljs-type">void</span> <span class="hljs-title function_">UART_Init</span><span class="hljs-params">()</span>&#123;<span class="hljs-comment">//4800bps@11.0596MHz</span><br><span class="hljs-comment">/*配置串口部分*/</span><br>SCON = <span class="hljs-number">0x50</span>;<br>PCON |= <span class="hljs-number">0x80</span>;<br><span class="hljs-comment">/*配置定时器部分*/</span><br>TMOD &amp;= <span class="hljs-number">0x0F</span>;<span class="hljs-comment">//设置定时器模式</span><br>TMOD |= <span class="hljs-number">0x20</span>;<span class="hljs-comment">//设置定时器模式</span><br>TL1 = <span class="hljs-number">0xF4</span>;<span class="hljs-comment">//设定定时初值</span><br>TH1 = <span class="hljs-number">0xF4</span>;<span class="hljs-comment">//设定定时器重装值</span><br>ET1 = <span class="hljs-number">0</span>;        <span class="hljs-comment">//禁止定时器1中断</span><br>TR1 = <span class="hljs-number">1</span>;<span class="hljs-comment">//启动定时器1</span><br><span class="hljs-comment">/*配置中断系统*/</span><br>EA = <span class="hljs-number">1</span>;<br>ES = <span class="hljs-number">1</span>;<br>&#125;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment">  * @brief 串口发送一个字节数据</span><br><span class="hljs-comment">  * @param Byte 要发送的一个字节数据</span><br><span class="hljs-comment">  * @retval 无</span><br><span class="hljs-comment">  */</span><br><br><span class="hljs-type">void</span> <span class="hljs-title function_">UART_SendByte</span><span class="hljs-params">(<span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> Byte)</span>&#123;<br>SBUF = Byte; <span class="hljs-comment">//写入缓冲区</span><br><span class="hljs-keyword">while</span>(TI==<span class="hljs-number">0</span>);<span class="hljs-comment">//判断是否等于1</span><br>TI = <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-comment">/*串口中断函数模板</span><br><span class="hljs-comment">void UART_Routine() interrupt 4&#123;</span><br><span class="hljs-comment">if(RI==1)//防止单片机发送数据的时候进入中断</span><br><span class="hljs-comment">&#123;</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">RI = 0;</span><br><span class="hljs-comment">&#125;</span><br><span class="hljs-comment">&#125;</span><br><span class="hljs-comment">*/</span><br></code></pre></td></tr></table></figure><p><code>main.c</code></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;REGX52.H&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;Delay.h&quot;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;UART.h&quot;</span></span><br><br><span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> Sec;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span>&#123;<br>UART_Init();<br><span class="hljs-keyword">while</span>(<span class="hljs-number">1</span>)&#123;<br><br>&#125;<br>&#125;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">UART_Routine</span><span class="hljs-params">()</span> interrupt 4&#123;<br><span class="hljs-keyword">if</span>(RI==<span class="hljs-number">1</span>)<span class="hljs-comment">//防止单片机发送数据的时候进入中断</span><br>&#123;<br>RI = <span class="hljs-number">0</span>;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="计算波特率">计算波特率</h4><p>发现选择11.0596MHz后</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c">TL1 = <span class="hljs-number">0xF4</span>;<span class="hljs-comment">//设定定时初值</span><br>TH1 = <span class="hljs-number">0xF4</span>;<span class="hljs-comment">//设定定时器重装值</span><br></code></pre></td></tr></table></figure><p><code>0xF4</code>是<code>244</code>，每隔<code>256</code>溢出一次，计数值位12，每计数12就溢出一次（每隔12us）</p><p>所以定时器的溢出率为1/12us=0.08333Mhz</p><p>真正到发送控制器（SMOD为1）的频率为0.08333/16=0.005208Mhz=5208hz</p><p>8.33/5200约等于0.16%的误差</p><p>如果不选倍数</p><p>真正到发送控制器（SMOD为1）的频率为0.08333/2/16=0.002604Mhz=2604hz</p><p>也可以让UART发送以编码形式呈现（要转化为ASCII码）</p><p>例如发送<code>UART_SendByte(0x41)</code>以编码形式呈现就是<code>A</code></p><p>也可以直接发字符<code>UART_SendByte('A')</code></p><p>但是如果发送A的时候选的是HEX编码 则是不可见的（在ASCII码中0x0a是不可见的）</p><p>（因为这里是8位重整模式，一次给寄存器赋值最高只能存储8位二进制数据，而8位二进制数据正好对应一个字符，所以只能一个一个发送字符）</p><p>嗯发现哪止定时器，串口也是很迷糊的，说是郭天祥老师讲的也不错，到时候可以查漏补缺一下┭┮﹏┭┮</p>]]></content>
    
    
    <categories>
      
      <category>嵌入式</category>
      
      <category>单片机</category>
      
    </categories>
    
    
    <tags>
      
      <tag>51单片机</tag>
      
      <tag>Keil</tag>
      
      <tag>C语言</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>单片机遇到的便捷函数</title>
    <link href="/2023/01/12/%E5%8D%95%E7%89%87%E6%9C%BA%E5%87%BD%E6%95%B0/"/>
    <url>/2023/01/12/%E5%8D%95%E7%89%87%E6%9C%BA%E5%87%BD%E6%95%B0/</url>
    
    <content type="html"><![CDATA[<h1>单片机遇到的便捷函数</h1><h4 id="crol-函数："><code>_crol_</code>函数：</h4><p>头文件：<code>intrins.h</code></p><p>原型：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-keyword">extern</span> <span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> _crol_   (<span class="hljs-type">unsigned</span> <span class="hljs-type">char</span>, <span class="hljs-type">unsigned</span> <span class="hljs-type">char</span>);第一个参数为要进行[移位]<br></code></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;intrins.h&gt;</span></span><br><br><span class="hljs-type">void</span> <span class="hljs-title function_">test_crol</span> <span class="hljs-params">(<span class="hljs-type">void</span>)</span> &#123;<br>  <span class="hljs-type">char</span> a;<br>  <span class="hljs-type">char</span> b;<br><br>  a = <span class="hljs-number">0xA5</span>; <span class="hljs-comment">//  1010 0101 -&gt;0010 1101</span><br>  b = _crol_(a,<span class="hljs-number">3</span>); <span class="hljs-comment">/* b now is 0x2D */</span><br>&#125;<br><br></code></pre></td></tr></table></figure><p>带进位位左移一位 相当于汇编里的RLC</p><p>区别于&gt;&gt;1位不带进位位左移一位 相当于汇编里的RLA</p><p>同理 <code>_cror_</code>为右移</p><p>可以应用于<strong>改进流水灯代码</strong>以及<strong>矩阵键盘扫描</strong></p><p>先码一下一些参考链接：</p><p><a href="https://blog.csdn.net/Lisiluan/article/details/104225877">1</a></p><p><a href="https://www.cnblogs.com/yfish/p/10858286.html">2</a></p><p><a href="https://www.cnblogs.com/dreamboat/archive/2012/06/16/2552263.html">3</a></p><h4 id="一些位操作">一些位操作</h4><h5 id="将command的低四位取反后赋值给P0口的低四位，并且不改变P0口的高四位">将command的低四位<a href="https://so.csdn.net/so/search?q=%E5%8F%96%E5%8F%8D&amp;spm=1001.2101.3001.7020">取反</a>后赋值给P0口的低四位，并且不改变P0口的高四位</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c">P0 = (P0 | <span class="hljs-number">0x0F</span>) &amp; (~command | <span class="hljs-number">0xF0</span>)<br></code></pre></td></tr></table></figure><p><a href="https://blog.csdn.net/m0_47329175/article/details/112931721">参考博客</a></p><p>持续记录中···</p>]]></content>
    
    
    <categories>
      
      <category>嵌入式</category>
      
      <category>单片机</category>
      
    </categories>
    
    
    <tags>
      
      <tag>51单片机</tag>
      
      <tag>Keil</tag>
      
      <tag>C语言</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python</title>
    <link href="/2022/11/05/python/"/>
    <url>/2022/11/05/python/</url>
    
    <content type="html"><![CDATA[<h2 id="基础知识学习">基础知识学习</h2><h3 id="变量和简单数据类型">变量和简单数据类型</h3><h4 id="字符串">字符串</h4><h5 id="修改字符串的大小写">修改字符串的大小写</h5><p><code>name.title()</code>首字母大写</p><p><code>name.upper()</code>全大</p><p><code>name.lower()</code>全小</p><h5 id="在字符串中使用变量">在字符串中使用变量</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">first_name = <span class="hljs-string">&#x27;ada&#x27;</span><br>last_name = <span class="hljs-string">&#x27;lovelace&#x27;</span><br>full_name = <span class="hljs-string">f&quot;<span class="hljs-subst">&#123;first_name&#125;</span><span class="hljs-subst">&#123;last_name&#125;</span>&quot;</span><br><span class="hljs-built_in">print</span>(full_name)<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python">name = <span class="hljs-string">&quot;alice and judy&quot;</span><br>hobby = <span class="hljs-string">&quot;like playing basketball&quot;</span><br>full_sen. =<span class="hljs-string">f&quot;<span class="hljs-subst">&#123;name.title()&#125;</span><span class="hljs-subst">&#123;hobby&#125;</span>&quot;</span><br>message = <span class="hljs-string">f&quot;hey, do u knoe <span class="hljs-subst">&#123;full_sen&#125;</span>!&quot;</span><br><span class="hljs-built_in">print</span> (message)<br></code></pre></td></tr></table></figure><p>用f来创建消息，并赋给变量</p><h5 id="删除空白">删除空白</h5><p>常用于在存储用户输入前对其进行清理</p><p><code>lstrip()</code>首</p><p><code>rstrip()</code>尾</p><p><code>strip()</code>首尾</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;test.1&quot;</span>)<br>name = <span class="hljs-string">&quot;hello eric&quot;</span><br>sent = <span class="hljs-string">f&quot;<span class="hljs-subst">&#123;name.title()&#125;</span>,would u like to learn some Python today?&quot;</span><br><span class="hljs-built_in">print</span>(sent)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;\n&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;test.2&quot;</span>)<br>celebrity = <span class="hljs-string">&quot;albert einstein&quot;</span><br>sentence_ce = <span class="hljs-string">f&#x27;<span class="hljs-subst">&#123;celebrity.title()&#125;</span> once said, &quot;A person who never made a mistake necer tried anything new.&quot;&#x27;</span><br><span class="hljs-built_in">print</span>(sentence_ce)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;\n&#x27;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;test.3&quot;</span>)<br>famous_person = <span class="hljs-string">&#x27;al es&#x27;</span><br>famous_person = famous_person.title()<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;original:&#x27;<span class="hljs-subst">&#123;famous_person&#125;</span>&#x27;&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;original:&#x27;<span class="hljs-subst">&#123;famous_person.lstrip()&#125;</span>&#x27;&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;original:&#x27;<span class="hljs-subst">&#123;famous_person.restrip()&#125;</span>&#x27;&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;original:&#x27;<span class="hljs-subst">&#123;famous_person.strip()&#125;</span>&#x27;&quot;</span>)<br></code></pre></td></tr></table></figure><h3 id="列表">列表</h3><h5 id="homework">homework</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python">names = [<span class="hljs-string">&#x27;sun yang&#x27;</span>,<span class="hljs-string">&#x27;wang xinheng&#x27;</span>]<br><span class="hljs-built_in">print</span>(name[<span class="hljs-number">0</span>].title())<br><br>message = <span class="hljs-string">f&quot;hello, <span class="hljs-subst">&#123;name[<span class="hljs-number">0</span>].title()&#125;</span>&quot;</span><br><span class="hljs-built_in">print</span>(message)<br><br>commute = [<span class="hljs-string">&#x27;car&#x27;</span>,<span class="hljs-string">&#x27;bicycle&#x27;</span>,<span class="hljs-string">&#x27;motorcycle&#x27;</span>]<br>message_second = <span class="hljs-string">f&quot;I would like to own a Honda <span class="hljs-subst">&#123;commute[<span class="hljs-number">2</span>]&#125;</span>&quot;</span><br><span class="hljs-built_in">print</span>(message_second)<br></code></pre></td></tr></table></figure><h4 id="修改添加和删除">修改添加和删除</h4><h5 id="修改">修改</h5><h5 id="添加">添加</h5><p><code>append()</code>在末尾</p><p><code>insert(location,'')</code>插入</p><h5 id="删除">删除</h5><p>无后续访问 使用del <code>del motorcycles[0]</code></p><p>有后续访问 使用pop <code>pop(0)</code></p><p>指定值删除 <code>remove()</code></p><h4 id="组织列表">组织列表</h4><h5 id="永久排序">永久排序</h5><p>方法</p><p><code>cars.sort()</code></p><p><code>cars.sort(reverse = True)</code></p><h5 id="临时排序">临时排序</h5><p>函数</p><p><code>sorted(cars)</code></p><p><code>sorted(cars,reverse = True)</code></p><h5 id="倒着打印">倒着打印</h5><p>方法</p><p><code>cars.reverse()</code></p><h5 id="确定列表长度">确定列表长度</h5><p>函数</p><p><code>len(cars)</code></p><h3 id="操作列表">操作列表</h3><h5 id="homework-2">homework</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python">pizzas = [<span class="hljs-string">&#x27;meat&#x27;</span>,<span class="hljs-string">&#x27;cheese&#x27;</span>,<span class="hljs-string">&#x27;mushroom&#x27;</span>]<br><span class="hljs-keyword">for</span> pizza <span class="hljs-keyword">in</span> pizzas:<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;I like <span class="hljs-subst">&#123;pizza&#125;</span> pizza.&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;I like <span class="hljs-subst">&#123;pizza&#125;</span> pizza very much.&quot;</span>)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;I really love pizza&quot;</span>)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;\n&quot;</span>)<br>animals = [<span class="hljs-string">&#x27;cat&#x27;</span>,<span class="hljs-string">&#x27;dog&#x27;</span>,<span class="hljs-string">&#x27;rabbit&#x27;</span>]<br><span class="hljs-keyword">for</span> animal <span class="hljs-keyword">in</span> animals:<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;A <span class="hljs-subst">&#123;animal&#125;</span> would make a great pet.&quot;</span>)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot; xxx&quot;</span>)<br></code></pre></td></tr></table></figure><h4 id="创建数值列表">创建数值列表</h4><h5 id="创建数字列表">创建数字列表</h5><p><code>numbers = list(range(1,6))</code></p><p>有步长</p><p><code>numbers = list(range(2,11,2))</code></p><p>计算前10个整数的平方</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python">square = []<br><span class="hljs-keyword">for</span> value <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>,<span class="hljs-number">11</span>)<br>square.append(value**<span class="hljs-number">2</span>)<br><br><span class="hljs-built_in">print</span>(value)<br></code></pre></td></tr></table></figure><p>列表解析</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">square = [value**<span class="hljs-number">2</span> <span class="hljs-keyword">for</span> value <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>,<span class="hljs-number">11</span>)]<br><span class="hljs-built_in">print</span>(square)<br></code></pre></td></tr></table></figure><p>描述性+表达式</p><p>对数字列表执行简单的统计计算</p><p><code>min(digits)</code></p><p><code>max(digits)</code></p><p><code>sum(digits)</code></p><h4 id="使用列表的一部分">使用列表的一部分</h4><h5 id="切片与遍历">切片与遍历</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">players = [<span class="hljs-string">&#x27;hey&#x27;</span>,<span class="hljs-string">&#x27;jude&#x27;</span>,<span class="hljs-string">&#x27;jack&#x27;</span>,<span class="hljs-string">&#x27;eli&#x27;</span>]<br><span class="hljs-built_in">print</span>(players[-<span class="hljs-number">3</span>::<span class="hljs-number">2</span>])<br></code></pre></td></tr></table></figure><p>仍然是左闭右开</p><p><code>players[:4]</code>从列表开始</p><p><code>players[2:]</code>终止于列表结尾</p><p><code>players[-3:]</code>最后三名队员</p><p><code>players[-3::2]</code>每隔两个元素提取一个</p><p>遍历：</p><p><code>for player in players[:3]</code>遍历前三名队员</p><h5 id="复制列表">复制列表</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">myfoods = [<span class="hljs-string">&#x27;pizza &#x27;</span>,<span class="hljs-string">&#x27;falafel&#x27;</span>,<span class="hljs-string">&#x27;carrot cake&#x27;</span>]<br>friendfoods = myfoods[:]<br>myfoods.append(<span class="hljs-string">&#x27;cannoli&#x27;</span>)<br>friendfoods.append(<span class="hljs-string">&#x27;ice cream&#x27;</span>)<br></code></pre></td></tr></table></figure><p><code>friend_foods=my_foods</code></p><p>两个列表关联 ，添加新元素会同时出现</p><h4 id="元组">元组</h4><p>不可改变的列表</p><p><code>dimension = (200,50)</code></p><p>只包含一个元素的元组 <code>dimension(200,)</code></p><h4 id="If-语句">If 语句</h4><h5 id="homework-3">homework</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python">message = <span class="hljs-string">&#x27;hello&#x27;</span><br>message2 = <span class="hljs-string">&#x27;HELLO&#x27;</span><br><span class="hljs-keyword">if</span> message.upper() == message2:<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Upper is true&quot;</span>)<br><br><span class="hljs-keyword">if</span> message2.lower() == message:<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Lower is true&quot;</span>)<br><br><span class="hljs-built_in">print</span>(message2&gt;message)<br><br>number = [<span class="hljs-number">0</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>]<br>number2 = [<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>]<br><span class="hljs-built_in">print</span>(number[<span class="hljs-number">0</span>]==number2[<span class="hljs-number">0</span>])<br><span class="hljs-keyword">if</span> <span class="hljs-number">0</span> <span class="hljs-keyword">in</span> number:<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;0 in it&quot;</span>)<br><span class="hljs-keyword">else</span>:<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;0 not in it&quot;</span>)<br></code></pre></td></tr></table></figure><p>elif</p><h4 id="处理列表">处理列表</h4><h5 id="确定列表是否为空">确定列表是否为空</h5><h5 id="使用多列表">使用多列表</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python">current_users=[<span class="hljs-string">&#x27;admin&#x27;</span>,<span class="hljs-string">&#x27;jack&#x27;</span>,<span class="hljs-string">&#x27;john&#x27;</span>,<span class="hljs-string">&#x27;amy&#x27;</span>,<span class="hljs-string">&#x27;lucy&#x27;</span>]<br>new_users=[<span class="hljs-string">&#x27;admin&#x27;</span>,<span class="hljs-string">&#x27;jack&#x27;</span>,<span class="hljs-string">&#x27;HAH&#x27;</span>,<span class="hljs-string">&#x27;QUeen&#x27;</span>,<span class="hljs-string">&#x27;King&#x27;</span>]<br><span class="hljs-comment">#创建副本包含所有的首字母大写</span><br>new_current_users = [user.title() <span class="hljs-keyword">for</span> user <span class="hljs-keyword">in</span> current_users]<br><br>sequences = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>,<span class="hljs-number">10</span>))<br></code></pre></td></tr></table></figure><h3 id="字典">字典</h3><h4 id="使用字典">使用字典</h4><h5 id="访问字典中的值">访问字典中的值</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">alien_0 = &#123;<span class="hljs-string">&#x27;color&#x27;</span>:<span class="hljs-string">&#x27;green&#x27;</span>,<span class="hljs-string">&#x27;age&#x27;</span>:<span class="hljs-string">&#x27;1&#x27;</span>&#125;<br><span class="hljs-built_in">print</span>(alien_0[<span class="hljs-string">&#x27;color&#x27;</span>])<br></code></pre></td></tr></table></figure><p>键-值</p><h5 id="添加键值">添加键值</h5><p>直接添加</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">alien_0[<span class="hljs-string">&#x27;x_position&#x27;</span>] = <span class="hljs-number">0</span><br>alien_0[<span class="hljs-string">&#x27;y_position&#x27;</span>] = <span class="hljs-number">0</span><br></code></pre></td></tr></table></figure><p>创建空键值然后添加</p><h5 id="修改值">修改值</h5><p>直接修改</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">alien_0[<span class="hljs-string">&#x27;color&#x27;</span>] = <span class="hljs-string">&#x27;yellow&#x27;</span><br></code></pre></td></tr></table></figure><h5 id="删除键值对">删除键值对</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">del</span> alien_0[<span class="hljs-string">&#x27;points&#x27;</span>]<br></code></pre></td></tr></table></figure><h5 id="有类似对象组成的字典">有类似对象组成的字典</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python">favorite_languages = &#123;<br><span class="hljs-string">&#x27;jen&#x27;</span>:<span class="hljs-string">&#x27;python&#x27;</span>,<br><span class="hljs-string">&#x27;sarah&#x27;</span>:<span class="hljs-string">&#x27;c&#x27;</span>,<br>&#125;<br><br>language = favorite_language[<span class="hljs-string">&#x27;sarah&#x27;</span>].title()<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;She likes <span class="hljs-subst">&#123;language&#125;</span>.&quot;</span>)<br></code></pre></td></tr></table></figure><h5 id="用get-来访问值">用get()来访问值</h5><p>在指定的键不存在时返回一个默认值</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">alien_0 = &#123;<span class="hljs-string">&#x27;color&#x27;</span>:<span class="hljs-string">&#x27;green&#x27;</span>,<span class="hljs-string">&#x27;speed&#x27;</span>:<span class="hljs-string">&#x27;medium&#x27;</span>&#125;<br><br>point_value = alien_0.get(<span class="hljs-string">&#x27;poionts&#x27;</span>,<span class="hljs-string">&#x27;no point vlaue assigned&#x27;</span>)<br><span class="hljs-built_in">print</span>(point_value)<br></code></pre></td></tr></table></figure><p>also can be:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">alien_0 = &#123;<span class="hljs-string">&#x27;color&#x27;</span>:<span class="hljs-string">&#x27;green&#x27;</span>,<span class="hljs-string">&#x27;speed&#x27;</span>:<span class="hljs-string">&#x27;medium&#x27;</span>&#125;<br>message = <span class="hljs-string">&#x27;no point vlaue assigned&#x27;</span><br>point_value = alien_0.get(<span class="hljs-string">&#x27;poionts&#x27;</span>,message)<br><span class="hljs-built_in">print</span>(point_value)<br></code></pre></td></tr></table></figure><h4 id="遍历字典">遍历字典</h4><p><code>.items()</code>遍历所有的键值对</p><p><code>.keys()</code>遍历所有的键</p><p><code>.values()</code>遍历所有的值</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python">favorite_language = &#123;<br><span class="hljs-string">&#x27;jen&#x27;</span>:<span class="hljs-string">&#x27;python&#x27;</span>,<br><span class="hljs-string">&#x27;sarah&#x27;</span>:<span class="hljs-string">&#x27;c&#x27;</span>,<br><span class="hljs-string">&#x27;edward&#x27;</span>:<span class="hljs-string">&#x27;ruby&#x27;</span>,<br><span class="hljs-string">&#x27;phil&#x27;</span>:<span class="hljs-string">&#x27;python&#x27;</span>,<br>&#125;<br><br><span class="hljs-keyword">for</span> name,language <span class="hljs-keyword">in</span> favorite_languages.items():<br>  <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;<span class="hljs-subst">&#123;name.title()&#125;</span>&#x27;s favorite langauge is <span class="hljs-subst">&#123;language.title()&#125;</span>&quot;</span>)<br></code></pre></td></tr></table></figure><p>为了剔除重复项 用set集合</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">for</span> language <span class="hljs-keyword">in</span> <span class="hljs-built_in">set</span>(favorite_language.values):<br><span class="hljs-built_in">print</span>(language.title())<br></code></pre></td></tr></table></figure><h4 id="嵌套">嵌套</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python">aliens = []<br><br><span class="hljs-keyword">for</span> alien_number <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">30</span>):<br>new_alien = &#123;<span class="hljs-string">&#x27;color&#x27;</span>:<span class="hljs-string">&#x27;green&#x27;</span>,<span class="hljs-string">&#x27;points&#x27;</span>:<span class="hljs-number">5</span>,<span class="hljs-string">&#x27;speed&#x27;</span>:<span class="hljs-string">&#x27;slow&#x27;</span>&#125;<br>aliens.append(new_alien)<br><br><span class="hljs-keyword">for</span> alien <span class="hljs-keyword">in</span> alien[:<span class="hljs-number">3</span>]:<br><span class="hljs-keyword">if</span> alien[<span class="hljs-string">&#x27;color&#x27;</span>] == <span class="hljs-string">&#x27;green&#x27;</span><br>alien[<span class="hljs-string">&#x27;color&#x27;</span>]  == <span class="hljs-string">&#x27;yellow&#x27;</span><br><br><span class="hljs-keyword">for</span> alien <span class="hljs-keyword">in</span> aliens[:<span class="hljs-number">5</span>]:<br><span class="hljs-built_in">print</span>(alien)<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python">pizza = &#123;<br><span class="hljs-string">&#x27;crust&#x27;</span>:<span class="hljs-string">&#x27;thick&#x27;</span>,<br><span class="hljs-string">&#x27;topping&#x27;</span>:[<span class="hljs-string">&#x27;mushroom&#x27;</span>,<span class="hljs-string">&#x27;extra cheese&#x27;</span>],<br>&#125;<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;you ordered a <span class="hljs-subst">&#123;pizza[<span class="hljs-string">&#x27;crust&#x27;</span>]&#125;</span>-crust pizaa&quot;</span><br><span class="hljs-string">&quot;withfollowing toppings:&quot;</span>)<br><br><span class="hljs-keyword">for</span> topping <span class="hljs-keyword">in</span> pizza[<span class="hljs-string">&#x27;toppings&#x27;</span>]:<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;\t&quot;</span>+topping)<br></code></pre></td></tr></table></figure><p>讲一个键关联到多个值的时候，可以在字典中嵌套一个列表</p><p>字典嵌套字典</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs python">users = &#123;<br><span class="hljs-string">&#x27;aeinstein&#x27;</span>:&#123;<br><span class="hljs-string">&#x27;first&#x27;</span>:<span class="hljs-string">&#x27;al&#x27;</span>,<br><span class="hljs-string">&#x27;last&#x27;</span>:<span class="hljs-string">&#x27;ein&#x27;</span>,<br><span class="hljs-string">&#x27;location&#x27;</span>:<span class="hljs-string">&#x27;princeton&#x27;</span><br>&#125;<br><span class="hljs-string">&#x27;mucrie&#x27;</span>:&#123;<br><span class="hljs-string">&#x27;first&#x27;</span>:<span class="hljs-string">&#x27;ma&#x27;</span>,<br><span class="hljs-string">&#x27;last&#x27;</span>:<span class="hljs-string">&#x27;curie&#x27;</span>,<br><span class="hljs-string">&#x27;locatin&#x27;</span>:<span class="hljs-string">&#x27;paris&#x27;</span><br>&#125;<br>&#125;<br><br><span class="hljs-keyword">for</span> username, user_info <span class="hljs-keyword">in</span> users.items():<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;<span class="hljs-subst">&#123;username&#125;</span>&quot;</span>)<br>full_name = <span class="hljs-string">f&quot;<span class="hljs-subst">&#123;user_info[<span class="hljs-string">&#x27;first&#x27;</span>]&#125;</span><span class="hljs-subst">&#123;user_info[<span class="hljs-string">&#x27;last&#x27;</span>]&#125;</span></span><br><span class="hljs-string">location = user_info[&#x27;location&#x27;]</span><br><span class="hljs-string"></span><br></code></pre></td></tr></table></figure><h3 id="用户输入">用户输入</h3><p><code>message = input&#123;&quot;prompt:&quot;&#125;</code></p><p>int数值输入</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">height = <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;how are u&quot;</span>)<br>height = <span class="hljs-built_in">int</span>(height)<br></code></pre></td></tr></table></figure><h4 id="循环">循环</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python">active = <span class="hljs-literal">True</span><br><br><span class="hljs-keyword">while</span> active:<br>topping = <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;please input ur toppings:&quot;</span>)<br><span class="hljs-keyword">if</span> topping == <span class="hljs-string">&#x27;quit&#x27;</span>:<br>active = <span class="hljs-literal">False</span><br><span class="hljs-keyword">else</span>:<br><span class="hljs-built_in">print</span>( )<br></code></pre></td></tr></table></figure><p>处理列表和字典</p><figure class="highlight nsis"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs nsis">while <span class="hljs-literal">user</span>:<br>current_user = <span class="hljs-literal">user</span>.<span class="hljs-keyword">pop</span>()<br><br></code></pre></td></tr></table></figure><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs routeros">pets = [<span class="hljs-string">&#x27;dog&#x27;</span>,<span class="hljs-string">&#x27;cat&#x27;</span>,<span class="hljs-string">&#x27;goldfish&#x27;</span>]<br><br><span class="hljs-keyword">while</span> <span class="hljs-string">&#x27;cat&#x27;</span> <span class="hljs-keyword">in</span> pets:<br>pets.<span class="hljs-built_in">remove</span>(<span class="hljs-string">&#x27;cat&#x27;</span>)<br></code></pre></td></tr></table></figure><h3 id="函数">函数</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">dislay_message</span>():<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;I learned xxx&quot;</span>)<br><br>display_message()<br></code></pre></td></tr></table></figure><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs reasonml">def make<span class="hljs-constructor">_shirt(<span class="hljs-params">size</span>,<span class="hljs-params">message</span>)</span>:<br>printt(..)<br><br>make<span class="hljs-constructor">_shirt(&#x27;<span class="hljs-params">large</span>&#x27;,<span class="hljs-params">message</span>=&#x27;<span class="hljs-params">o</span> &#x27;)</span><br></code></pre></td></tr></table></figure><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs reasonml">def describe<span class="hljs-constructor">_city(<span class="hljs-params">city</span>,<span class="hljs-params">contru</span>=&#x27;China&#x27;)</span><br><br>describe<span class="hljs-constructor">_city(&#x27;<span class="hljs-params">shanghai</span>&#x27;)</span><br>describe<span class="hljs-constructor">_city(&#x27;<span class="hljs-params">hangzhou</span>&#x27;,&#x27;<span class="hljs-params">china</span>&#x27;)</span><br></code></pre></td></tr></table></figure><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs ruby"><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_fommatted_name</span>(<span class="hljs-params">first_name,last_name,middle_name=<span class="hljs-string">&#x27;&#x27;</span></span>):<br><span class="hljs-keyword">if</span> <span class="hljs-symbol">middle_name:</span><br>fll<span class="hljs-string">``</span><span class="hljs-string">``</span><span class="hljs-string">`</span><br><span class="hljs-string"></span><br><span class="hljs-string">return full_name.title()</span><br></code></pre></td></tr></table></figure><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-attr">middle_name</span>=<span class="hljs-string">&#x27;&#x27;</span><br><span class="hljs-attr">age</span>=None<br><br></code></pre></td></tr></table></figure><p>输入</p><p>怎么输出字典</p><p>怎么输出列表</p>]]></content>
    
    
    <categories>
      
      <category>编程语言类</category>
      
    </categories>
    
    
    <tags>
      
      <tag>基础</tag>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>《图神经网络导论》基础阅读笔记</title>
    <link href="/2022/10/27/basic/"/>
    <url>/2022/10/27/basic/</url>
    
    <content type="html"><![CDATA[<h3 id="引论">引论</h3><p>Graph neural network（GNN）图神经网络</p><p>Convolutional neural network （CNN）卷积神经网络 ：关键特点【局部连接、共享权重（开销更低）、多层结构（实现层次化模式）】</p><h3 id="数学和图论基础">数学和图论基础</h3><h4 id="线性代数">线性代数</h4><h5 id="基本概念">基本概念</h5><p>范数：衡量向量的长度</p><p>一范数-曼哈顿范数、二范数-欧式范数</p><p class="katex-block "><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.16em" columnalign="left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi mathvariant="normal">∥</mi><mi>x</mi><msub><mi mathvariant="normal">∥</mi><mi>p</mi></msub><mo>:</mo><mo>=</mo><mroot><mrow><msup><mrow><mo fence="true">∣</mo><msub><mi>x</mi><mn>1</mn></msub><mo fence="true">∣</mo></mrow><mi>p</mi></msup><mo>+</mo><mo>⋯</mo><mo>+</mo><msup><mrow><mo fence="true">∣</mo><msub><mi>x</mi><mi>n</mi></msub><mo fence="true">∣</mo></mrow><mi>p</mi></msup></mrow><mi>p</mi></mroot><mo separator="true">,</mo><mi>p</mi><mo>≥</mo><mn>1</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi mathvariant="normal">∥</mi><mi>x</mi><msub><mi mathvariant="normal">∥</mi><mn>1</mn></msub><mo>=</mo><mrow><mo fence="true">∣</mo><msub><mi>x</mi><mn>1</mn></msub><mo fence="true">∣</mo></mrow><mo>+</mo><mo>⋯</mo><mo>+</mo><mrow><mo fence="true">∣</mo><msub><mi>x</mi><mi>n</mi></msub><mo fence="true">∣</mo></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi mathvariant="normal">∥</mi><mi>x</mi><msub><mi mathvariant="normal">∥</mi><mn>2</mn></msub><mo>=</mo><msqrt><mrow><msup><mrow><mo fence="true">∣</mo><msub><mi>x</mi><mn>1</mn></msub><mo fence="true">∣</mo></mrow><mn>2</mn></msup><mo>+</mo><mo>⋯</mo><mo>+</mo><msup><mrow><mo fence="true">∣</mo><msub><mi>x</mi><mi>n</mi></msub><mo fence="true">∣</mo></mrow><mn>2</mn></msup></mrow></msqrt><mo>=</mo><msqrt><mrow><msup><mi>x</mi><mi>H</mi></msup><mi>x</mi></mrow></msqrt></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi mathvariant="normal">∥</mi><mi>x</mi><msub><mi mathvariant="normal">∥</mi><mi mathvariant="normal">∞</mi></msub><mo>=</mo><msub><mrow><mi>max</mi><mo>⁡</mo></mrow><mrow><mn>1</mn><mo>≤</mo><mi>i</mi><mo>≤</mo><mi>n</mi></mrow></msub><mrow><mo fence="true">∣</mo><msub><mi>x</mi><mi>i</mi></msub><mo fence="true">∣</mo></mrow></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{array}{l}\|x\|_{p}: = \sqrt[p]{\left|x_{1}\right|^{p}+\cdots+\left|x_{n}\right|^{p}}, p \geq 1 \\\|x\|_{1} = \left|x_{1}\right|+\cdots+\left|x_{n}\right| \\\|x\|_{2} = \sqrt{\left|x_{1}\right|^{2}+\cdots+\left|x_{n}\right|^{2}} = \sqrt{x^{H} x} \\\|x\|_{\infty} = \max _{1 \leq i \leq n}\left|x_{i}\right|\end{array}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:5.5621em;vertical-align:-2.5311em;"></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.0311em;"><span style="top:-5.4059em;"><span class="pstrut" style="height:3.337em;"></span><span class="mord"><span class="mord">∥</span><span class="mord mathnormal">x</span><span class="mord"><span class="mord">∥</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord sqrt"><span class="root"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6259em;"><span style="top:-2.9106em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size6 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span></span></span></span></span></span></span></span><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9621em;"><span class="svg-align" style="top:-3.2em;"><span class="pstrut" style="height:3.2em;"></span><span class="mord" style="padding-left:1em;"><span class="minner"><span class="minner"><span class="mopen delimcenter" style="top:0em;">∣</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">∣</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8043em;"><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="minner"><span class="minner"><span class="mopen delimcenter" style="top:0em;">∣</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">∣</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8043em;"><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span></span></span></span></span></span></span></span></span></span></span><span style="top:-2.9221em;"><span class="pstrut" style="height:3.2em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.28em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='1.28em' viewBox='0 0 400000 1296' preserveAspectRatio='xMinYMin slice'><path d='M263,681c0.7,0,18,39.7,52,119c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120c340,-704.7,510.7,-1060.3,512,-1067l0 -0c4.7,-7.3,11,-11,19,-11H40000v40H1012.3s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60zM1001 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2779em;"><span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">p</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">1</span></span></span><span style="top:-4.2059em;"><span class="pstrut" style="height:3.337em;"></span><span class="mord"><span class="mord">∥</span><span class="mord mathnormal">x</span><span class="mord"><span class="mord">∥</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">∣</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">∣</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">∣</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">∣</span></span></span></span><span style="top:-2.5089em;"><span class="pstrut" style="height:3.337em;"></span><span class="mord"><span class="mord">∥</span><span class="mord mathnormal">x</span><span class="mord"><span class="mord">∥</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.337em;"><span class="svg-align" style="top:-3.8em;"><span class="pstrut" style="height:3.8em;"></span><span class="mord" style="padding-left:1em;"><span class="minner"><span class="minner"><span class="mopen delimcenter" style="top:0em;">∣</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">∣</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.954em;"><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="minner"><span class="minner"><span class="mopen delimcenter" style="top:0em;">∣</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">∣</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.954em;"><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.297em;"><span class="pstrut" style="height:3.8em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.88em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='1.88em' viewBox='0 0 400000 1944' preserveAspectRatio='xMinYMin slice'><path d='M983 90l0 -0c4,-6.7,10,-10,18,-10 H400000v40H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5c53.7,-170.3,84.5,-266.8,92.5,-289.5zM1001 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.503em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9687em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7673em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.08125em;">H</span></span></span></span></span></span></span></span></span><span class="mord mathnormal">x</span></span></span><span style="top:-2.9287em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429c69,-144,104.5,-217.7,106.5,-221l0 -0c5.3,-9.3,12,-14,20,-14H400000v40H845.2724s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47zM834 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.0713em;"><span></span></span></span></span></span></span></span><span style="top:-1.1659em;"><span class="pstrut" style="height:3.337em;"></span><span class="mord"><span class="mord">∥</span><span class="mord mathnormal">x</span><span class="mord"><span class="mord">∥</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">∞</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mop"><span class="mop">max</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mrel mtight">≤</span><span class="mord mathnormal mtight">i</span><span class="mrel mtight">≤</span><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2452em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">∣</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">∣</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.5311em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span></span></span></span></span></p><p>阿达马积：</p><p>对于矩阵<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mtext> </mtext><mi>ϵ</mi><mtext> </mtext><msup><mi mathvariant="double-struck">R</mi><mrow><mi>m</mi><mo>×</mo><mi>n</mi></mrow></msup></mrow><annotation encoding="application/x-tex">A\,\epsilon\, \mathbb{R}^{m\times n}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7713em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">ϵ</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathbb">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7713em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span><span class="mbin mtight">×</span><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span></span></span></span>和<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi><mtext> </mtext><mi>ϵ</mi><mtext> </mtext><msup><mi mathvariant="double-struck">R</mi><mrow><mi>m</mi><mo>×</mo><mi>n</mi></mrow></msup></mrow><annotation encoding="application/x-tex">B\,\epsilon\, \mathbb{R}^{m\times n}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7713em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">ϵ</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathbb">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7713em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span><span class="mbin mtight">×</span><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span></span></span></span>，阿达马积<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><mtext> </mtext><mi>ϵ</mi><mtext> </mtext><msup><mi mathvariant="double-struck">R</mi><mrow><mi>m</mi><mo>×</mo><mi>n</mi></mrow></msup></mrow><annotation encoding="application/x-tex">C\,\epsilon\, \mathbb{R}^{m\times n}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7713em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">ϵ</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathbb">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7713em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span><span class="mbin mtight">×</span><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span></span></span></span>为：</p><p class="katex-block "><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>C</mi><mtext> </mtext><mi>ϵ</mi><mtext> </mtext><msup><mi mathvariant="double-struck">R</mi><mrow><mi>m</mi><mo>×</mo><mi>n</mi></mrow></msup><mo>=</mo><msub><mi>A</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><msub><mi>B</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub></mrow><annotation encoding="application/x-tex">C\,\epsilon\, \mathbb{R}^{m\times n} = A_{ij}B_{ij}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8213em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">ϵ</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathbb">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span><span class="mbin mtight">×</span><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">ij</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0502em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">ij</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span></span></p><p>矩阵维度不一致</p><p class="katex-block "><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mi>x</mi><mo>⋅</mo><mi>y</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="left left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mn>1</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">⋯</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mi>n</mi></msub></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="left left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>y</mi><mn>1</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">⋯</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>y</mi><mi>n</mi></msub></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="left left left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>x</mi><mn>1</mn></msub><msub><mi>y</mi><mn>1</mn></msub></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">⋯</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>x</mi><mi>n</mi></msub><msub><mi>y</mi><mi>n</mi></msub></mrow></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mi>x</mi><mo>⋅</mo><mi>y</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="left left left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mn>1</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">⋯</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mi>n</mi></msub></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>y</mi><mn>1</mn></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">⋯</mo></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>y</mi><mi>m</mi></msub></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="left left left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>x</mi><mn>1</mn></msub><msub><mi>y</mi><mn>1</mn></msub></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">⋯</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>x</mi><mi>n</mi></msub><msub><mi>y</mi><mn>1</mn></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">⋯</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">⋯</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">⋯</mo></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>x</mi><mn>1</mn></msub><msub><mi>y</mi><mi>m</mi></msub></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">⋯</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>x</mi><mi>n</mi></msub><msub><mi>y</mi><mi>m</mi></msub></mrow></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mi>x</mi><mo>⋅</mo><mi>y</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="left left left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mn>11</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">⋯</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mrow><mn>1</mn><mi>n</mi></mrow></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">⋯</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">⋯</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">⋯</mo></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mrow><mi>m</mi><mn>1</mn></mrow></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">⋯</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mrow><mi>m</mi><mi>n</mi></mrow></msub></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>y</mi><mn>11</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">⋯</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>y</mi><mrow><mn>1</mn><mi>n</mi></mrow></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">⋯</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">⋯</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">⋯</mo></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>y</mi><mrow><mi>m</mi><mn>1</mn></mrow></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">⋯</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mi>n</mi></msub></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>x</mi><mn>11</mn></msub><msub><mi>y</mi><mn>11</mn></msub></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">⋯</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>x</mi><mrow><mn>1</mn><mi>n</mi></mrow></msub><msub><mi>y</mi><mrow><mn>1</mn><mi>n</mi></mrow></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">⋯</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">⋯</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">⋯</mo></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>x</mi><mrow><mi>m</mi><mn>1</mn></mrow></msub><msub><mi>y</mi><mrow><mi>m</mi><mn>1</mn></mrow></msub></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">⋯</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>x</mi><mrow><mi>m</mi><mi>n</mi></mrow></msub><msub><mi>y</mi><mrow><mi>n</mi><mi>n</mi></mrow></msub></mrow></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{aligned}x \cdot y &amp;=\left[\begin{array}{lll}x_{1} &amp; \cdots &amp; x_{n}\end{array}\right]\left[\begin{array}{lll}y_{1} &amp; \cdots &amp; y_{n}\end{array}\right] \\&amp;=\left[\begin{array}{llll}x_{1} y_{1} &amp; \cdots &amp; x_{n} y_{n}\end{array}\right] \\x \cdot y &amp;=\left[\begin{array}{llll}x_{1} &amp; \cdots &amp; x_{n}\end{array}\right]\left[\begin{array}{c}y_{1} \\\cdots \\y_{m}\end{array}\right] \\&amp;=\left[\begin{array}{llll}x_{1} y_{1} &amp; \cdots &amp; x_{n} y_{1} \\\cdots &amp; \cdots &amp; \cdots \\x_{1} y_{m} &amp; \cdots &amp; x_{n} y_{m}\end{array}\right] \\x \cdot y &amp;=\left[\begin{array}{llll}x_{11} &amp; \cdots &amp; x_{1 n} \\\cdots &amp; \cdots &amp; \cdots \\x_{m 1} &amp; \cdots &amp; x_{m n}\end{array}\right]\left[\begin{array}{ccc}y_{11} &amp; \cdots &amp; y_{1 n} \\\cdots &amp; \cdots &amp; \cdots \\y_{m 1} &amp; \cdots &amp; x_{n}\end{array}\right] \\&amp;=\left[\begin{array}{cccc}x_{11} y_{11} &amp; \cdots &amp; x_{1 n} y_{1 n} \\\cdots &amp; &amp; \cdots &amp; \cdots \\x_{m 1} y_{m 1} &amp; \cdots &amp; x_{m n} y_{n n}\end{array}\right]\end{aligned}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:18.6201em;vertical-align:-9.06em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:9.56em;"><span style="top:-12.76em;"><span class="pstrut" style="height:4.05em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span><span style="top:-11.25em;"><span class="pstrut" style="height:4.05em;"></span><span class="mord"></span></span><span style="top:-8.54em;"><span class="pstrut" style="height:4.05em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span><span style="top:-4.64em;"><span class="pstrut" style="height:4.05em;"></span><span class="mord"></span></span><span style="top:-0.74em;"><span class="pstrut" style="height:4.05em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span><span style="top:3.16em;"><span class="pstrut" style="height:4.05em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:9.06em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:9.56em;"><span style="top:-12.76em;"><span class="pstrut" style="height:4.05em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">[</span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.85em;"><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.35em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.85em;"><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="minner">⋯</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.35em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.85em;"><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.35em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">]</span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">[</span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.85em;"><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.35em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.85em;"><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="minner">⋯</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.35em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.85em;"><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.35em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">]</span></span></span></span></span><span style="top:-11.25em;"><span class="pstrut" style="height:4.05em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">[</span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.85em;"><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.35em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.85em;"><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="minner">⋯</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.35em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.85em;"><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.35em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">]</span></span></span></span></span><span style="top:-8.54em;"><span class="pstrut" style="height:4.05em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">[</span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.85em;"><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.35em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.85em;"><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="minner">⋯</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.35em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.85em;"><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.35em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">]</span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='3.600em' viewBox='0 0 667 3600'><path d='M403 1759 V84 H666 V0 H319 V1759 v0 v1759 h347 v-84H403z M403 1759 V0 H319 V1759 v0 v1759 h84z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="minner">⋯</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='3.600em' viewBox='0 0 667 3600'><path d='M347 1759 V0 H0 V84 H263 V1759 v0 v1759 H0 v84 H347zM347 1759 V0 H263 V1759 v0 v1759 h84z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-4.64em;"><span class="pstrut" style="height:4.05em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='3.600em' viewBox='0 0 667 3600'><path d='M403 1759 V84 H666 V0 H319 V1759 v0 v1759 h347 v-84H403z M403 1759 V0 H319 V1759 v0 v1759 h84z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="minner">⋯</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="minner">⋯</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="minner">⋯</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="minner">⋯</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="minner">⋯</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='3.600em' viewBox='0 0 667 3600'><path d='M347 1759 V0 H0 V84 H263 V1759 v0 v1759 H0 v84 H347zM347 1759 V0 H263 V1759 v0 v1759 h84z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-0.74em;"><span class="pstrut" style="height:4.05em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='3.600em' viewBox='0 0 667 3600'><path d='M403 1759 V84 H666 V0 H319 V1759 v0 v1759 h347 v-84H403z M403 1759 V0 H319 V1759 v0 v1759 h84z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">11</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="minner">⋯</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="minner">⋯</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="minner">⋯</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="minner">⋯</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="minner">⋯</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">mn</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='3.600em' viewBox='0 0 667 3600'><path d='M347 1759 V0 H0 V84 H263 V1759 v0 v1759 H0 v84 H347zM347 1759 V0 H263 V1759 v0 v1759 h84z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='3.600em' viewBox='0 0 667 3600'><path d='M403 1759 V84 H666 V0 H319 V1759 v0 v1759 h347 v-84H403z M403 1759 V0 H319 V1759 v0 v1759 h84z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">11</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="minner">⋯</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="minner">⋯</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="minner">⋯</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="minner">⋯</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="minner">⋯</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='3.600em' viewBox='0 0 667 3600'><path d='M347 1759 V0 H0 V84 H263 V1759 v0 v1759 H0 v84 H347zM347 1759 V0 H263 V1759 v0 v1759 h84z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span></span></span><span style="top:3.16em;"><span class="pstrut" style="height:4.05em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='3.600em' viewBox='0 0 667 3600'><path d='M403 1759 V84 H666 V0 H319 V1759 v0 v1759 h347 v-84H403z M403 1759 V0 H319 V1759 v0 v1759 h84z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">11</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">11</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="minner">⋯</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="minner">⋯</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="minner">⋯</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="minner">⋯</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">mn</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">nn</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.85em;"><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="minner">⋯</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.35em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='3.600em' viewBox='0 0 667 3600'><path d='M347 1759 V0 H0 V84 H263 V1759 v0 v1759 H0 v84 H347zM347 1759 V0 H263 V1759 v0 v1759 h84z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:9.06em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><p>参考博客：<a href="https://blog.csdn.net/rosefun96/article/details/104002386">https://blog.csdn.net/rosefun96/article/details/104002386</a></p><h5 id="特征分解">特征分解</h5><p class="katex-block "><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>A</mi><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="left left left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>v</mi><mn>1</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>v</mi><mn>2</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">⋯</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>v</mi><mi>n</mi></msub></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="left left left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>v</mi><mn>1</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>v</mi><mn>2</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">⋯</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>v</mi><mi>n</mi></msub></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="left left left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>λ</mi><mn>1</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>λ</mi><mn>2</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">⋱</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>λ</mi><mi>n</mi></msub></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">A\left[\begin{array}{llll}v_{1} &amp; v_{2} &amp; \cdots &amp; v_{n}\end{array}\right]=\left[\begin{array}{llll}v_{1} &amp; v_{2} &amp; \cdots &amp; v_{n}\end{array}\right]\left[\begin{array}{llll}\lambda_{1} &amp; &amp; &amp; \\&amp; \lambda_{2} &amp; &amp; \\&amp; &amp; \ddots &amp; \\&amp; &amp; &amp; \lambda_{n}\end{array}\right]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2em;vertical-align:-0.35em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">[</span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.85em;"><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.35em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.85em;"><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.35em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.85em;"><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="minner">⋯</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.35em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.85em;"><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.35em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">]</span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:4.8em;vertical-align:-2.15em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">[</span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.85em;"><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.35em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.85em;"><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.35em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.85em;"><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="minner">⋯</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.35em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.85em;"><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.35em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">]</span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.667em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='4.800em' viewBox='0 0 667 4800'><path d='M403 1759 V84 H666 V0 H319 V1759 v1200 v1759 h347 v-84H403z M403 1759 V0 H319 V1759 v1200 v1759 h84z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="minner">⋱</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.667em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='4.800em' viewBox='0 0 667 4800'><path d='M347 1759 V0 H0 V84 H263 V1759 v1200 v1759 H0 v84 H347zM347 1759 V0 H263 V1759 v1200 v1759 h84z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><p class="katex-block "><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>A</mi><mo>=</mo><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></munderover><msub><mi>λ</mi><mi>i</mi></msub><msub><mi>v</mi><mi>i</mi></msub><msubsup><mi>v</mi><mi>i</mi><mi>T</mi></msubsup></mrow><annotation encoding="application/x-tex">A = \sum_{i=1}^{n}\lambda _{ i}v_{i}v_{i}^{T}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.9291em;vertical-align:-1.2777em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6514em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.453em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span></span></span></span></p><p>特征分解只能用于特定的矩阵</p><h5 id="奇异值分解">奇异值分解</h5><h4 id="概率论">概率论</h4><h5 id="基本概念和公式">基本概念和公式</h5><p>条件概率</p><p>贝叶斯公式</p><p>链式法则（多变量条件概率）</p><p><strong>期望</strong>：对于某个函数在一个特定概率分布<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span>下的平均值</p><p class="katex-block "><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi mathvariant="double-struck">E</mi><mrow><mo fence="true">[</mo><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo fence="true">]</mo></mrow><mo>=</mo><munderover><mo>∑</mo><mi>x</mi><mrow></mrow></munderover><mi>P</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mathbb{E} \left [ f(x) \right ] =\sum_{x}^{} P(x)f(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathbb">E</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">[</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mclose delimcenter" style="top:0em;">]</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.6em;vertical-align:-1.25em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.35em;"><span style="top:-1.9em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.25em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span></span></p><p>衡量<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span>在期望周围散布情况：<strong>方差</strong></p><p class="katex-block "><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>V</mi><mi>a</mi><mi>r</mi><mo stretchy="false">(</mo><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo>=</mo><mi mathvariant="double-struck">E</mi><mrow><mo fence="true">[</mo><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo fence="true">]</mo></mrow><mo>−</mo><mi mathvariant="double-struck">E</mi><msup><mrow><mo fence="true">[</mo><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo fence="true">]</mo></mrow><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">Var(f(x)) = \mathbb{E} \left [ f(x)^{2} \right ]-\mathbb{E} \left [ f(x)^{2} \right ]^{2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">Va</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">))</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.2141em;vertical-align:-0.35em;"></span><span class="mord mathbb">E</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">[</span></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">]</span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.4181em;vertical-align:-0.35em;"></span><span class="mord mathbb">E</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">[</span></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">]</span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.0681em;"><span style="top:-3.317em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span></span></p><p>方差开根号称为“<strong>标准差</strong>”</p><p><strong>协方差</strong>：描述两个变量共同变化的关联程度</p><p class="katex-block "><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>V</mi><mi>a</mi><mi>r</mi><mo stretchy="false">(</mo><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo>=</mo><mi mathvariant="double-struck">E</mi><mrow><mo fence="true">[</mo><mo stretchy="false">(</mo><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>−</mo><mi mathvariant="double-struck">E</mi><mrow><mo fence="true">[</mo><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo fence="true">]</mo></mrow><mo stretchy="false">)</mo><mo stretchy="false">(</mo><mi>g</mi><mo stretchy="false">(</mo><mi>y</mi><mo stretchy="false">)</mo><mo>−</mo><mi mathvariant="double-struck">E</mi><mrow><mo fence="true">[</mo><mi>g</mi><mo stretchy="false">(</mo><mi>y</mi><mo stretchy="false">)</mo><mo fence="true">]</mo></mrow><mo stretchy="false">)</mo><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">Var(f(x)) = \mathbb{E} \left [ (f(x)-\mathbb{E} \left [ f(x) \right ])(g(y)-\mathbb{E} \left [ g(y) \right ]) \right ]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">Va</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">))</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathbb">E</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">[</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathbb">E</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">[</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mclose delimcenter" style="top:0em;">]</span></span><span class="mclose">)</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathbb">E</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">[</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mclose delimcenter" style="top:0em;">]</span></span><span class="mclose">)</span><span class="mclose delimcenter" style="top:0em;">]</span></span></span></span></span></span></p><h5 id="概率分布">概率分布</h5><p>正态分布：</p><p class="katex-block "><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mn>1</mn><mrow><msqrt><mrow><mn>2</mn><mi>π</mi></mrow></msqrt><mi>σ</mi></mrow></mfrac><mi>exp</mi><mo>⁡</mo><mrow><mo fence="true">(</mo><mo>−</mo><mfrac><mrow><mo stretchy="false">(</mo><mi>x</mi><mo>−</mo><mi>μ</mi><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow><mrow><mn>2</mn><msup><mi>σ</mi><mn>2</mn></msup></mrow></mfrac><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">f(x)=\frac{1}{\sqrt{2 \pi} \sigma} \exp \left(-\frac{(x-\mu)^{2}}{2 \sigma^{2}}\right)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.4411em;vertical-align:-0.95em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.2028em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9072em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.03588em;">π</span></span></span><span style="top:-2.8672em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429c69,-144,104.5,-217.7,106.5,-221l0 -0c5.3,-9.3,12,-14,20,-14H400000v40H845.2724s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47zM834 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1328em;"><span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.93em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">exp</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mord">−</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4911em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">μ</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span></span></span></span></span></p><p>二项分布：</p><p class="katex-block "><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>P</mi><mo stretchy="false">{</mo><mi>X</mi><mo>=</mo><mi>k</mi><mo stretchy="false">}</mo><mo>=</mo><mrow><mo fence="true">(</mo><mtable rowspacing="0.16em" columnalign="left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>k</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>n</mi></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow><msup><mi>p</mi><mi>k</mi></msup><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>p</mi><msup><mo stretchy="false">)</mo><mrow><mi>n</mi><mo>−</mo><mi>k</mi></mrow></msup></mrow><annotation encoding="application/x-tex">P\{X=k\}=\left(\begin{array}{l}k \\n\end{array}\right) p^{k}(1-p)^{n-k}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">{</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mclose">}</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8991em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.1491em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8991em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span></span></span></span></span></span></span></span></span></p><p>拉普拉斯分布：</p><p class="katex-block "><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mn>1</mn><mrow><mn>2</mn><mi>b</mi></mrow></mfrac><mi>exp</mi><mo>⁡</mo><mrow><mo fence="true">(</mo><mo>−</mo><mfrac><mrow><mi mathvariant="normal">∣</mi><mi>x</mi><mo>−</mo><mi>μ</mi><mi mathvariant="normal">∣</mi></mrow><mi>b</mi></mfrac><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">f(x)=\frac{1}{2b}  \exp \left(-\frac{|x-\mu|}{b}\right)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span><span class="mord mathnormal">b</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">exp</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mord">−</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">b</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">∣</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">μ</span><span class="mord">∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span></span></span></span></span></p><h4 id="图论">图论</h4><p class="katex-block "><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>G</mi><mo>=</mo><mo stretchy="false">(</mo><mi>V</mi><mo separator="true">,</mo><mi>E</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">G=(V,E)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">G</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mclose">)</span></span></span></span></span></p><p>邻接矩阵</p><p class="katex-block "><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>A</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.16em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo fence="true">(</mo><mrow><mo fence="true">(</mo><msub><mi>v</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>v</mi><mi>j</mi></msub><mo fence="true">)</mo></mrow><mo>∈</mo><mi>E</mi><mtext> and </mtext><mi>i</mi><mo mathvariant="normal">≠</mo><mi>j</mi><mo fence="true">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo stretchy="false">(</mo><mtext> otherwise </mtext><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">A_{i j}=\left\{\begin{array}{ll}1 &amp; \left(\left(v_{i}, v_{j}\right) \in E \text { and } i \neq j\right) \\0 &amp; (\text { otherwise })\end{array}\right.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">ij</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">{</span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mord text"><span class="mord"> and </span></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mord"><span class="mrel"></span></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose delimcenter" style="top:0em;">)</span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord text"><span class="mord"> otherwise </span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>度矩阵</p><p class="katex-block "><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>D</mi><mrow><mi>i</mi><mi>i</mi></mrow></msub><mo>=</mo><mi>d</mi><mo stretchy="false">(</mo><msub><mi>v</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">D_{ii}=d(v_{i})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">ii</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></p><p><strong>拉普拉斯矩阵</strong></p><p class="katex-block "><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>L</mi><mo>=</mo><mi>D</mi><mo>−</mo><mi>A</mi></mrow><annotation encoding="application/x-tex">L=D - A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">L</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span></span></p><p class="katex-block "><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>L</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.16em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>d</mi><mrow><mo fence="true">(</mo><msub><mi>v</mi><mi>i</mi></msub><mo fence="true">)</mo></mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo stretchy="false">(</mo><mi mathvariant="normal">i</mi><mo>=</mo><mi mathvariant="normal">j</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>−</mo><mn>1</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo fence="true">(</mo><mrow><mo fence="true">(</mo><msub><mi>v</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>v</mi><mi>j</mi></msub><mo fence="true">)</mo></mrow><mo>∈</mo><mi>E</mi><mtext> and </mtext><mi>i</mi><mo mathvariant="normal">≠</mo><mi>j</mi><mo fence="true">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo stretchy="false">(</mo><mtext> otherwise </mtext><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">L_{i j}=\left\{\begin{array}{ll}d\left(v_{i}\right) &amp; (\mathrm{i}=\mathrm{j}) \\-1 &amp; \left(\left(v_{i}, v_{j}\right) \in E \text { and } i \neq j\right) \\0 &amp; (\text { otherwise })\end{array}\right.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">ij</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-2.5em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎩</span></span></span><span style="top:-2.492em;"><span class="pstrut" style="height:3.15em;"></span><span style="height:0.016em;width:0.8889em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.8889em' height='0.016em' style='width:0.8889em' viewBox='0 0 888.89 16' preserveAspectRatio='xMinYMin'><path d='M384 0 H504 V16 H384z M384 0 H504 V16 H384z'/></svg></span></span><span style="top:-3.15em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎨</span></span></span><span style="top:-4.292em;"><span class="pstrut" style="height:3.15em;"></span><span style="height:0.016em;width:0.8889em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.8889em' height='0.016em' style='width:0.8889em' viewBox='0 0 888.89 16' preserveAspectRatio='xMinYMin'><path d='M384 0 H504 V16 H384z M384 0 H504 V16 H384z'/></svg></span></span><span style="top:-4.3em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎧</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">d</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">−</span><span class="mord">1</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord mathrm">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathrm">j</span><span class="mclose">)</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mord text"><span class="mord"> and </span></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mord"><span class="mrel"></span></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose delimcenter" style="top:0em;">)</span></span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord text"><span class="mord"> otherwise </span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/IMG_1561.PNG" alt="IMG_1561"></p><p><strong>对称归一化拉普拉斯矩阵</strong></p><p class="katex-block "><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msup><mi>L</mi><mrow><mi>s</mi><mi>y</mi><mi>m</mi></mrow></msup><mo>=</mo><msup><mi>D</mi><mrow><mo>−</mo><mfrac><mn>1</mn><mn>2</mn></mfrac></mrow></msup><mi>L</mi><msup><mi>D</mi><mrow><mo>−</mo><mfrac><mn>1</mn><mn>2</mn></mfrac></mrow></msup><mspace linebreak="newline"></mspace><mo>=</mo><mi>I</mi><mo>−</mo><msup><mi>D</mi><mrow><mo>−</mo><mfrac><mn>1</mn><mn>2</mn></mfrac></mrow></msup><mi>A</mi><msup><mi>D</mi><mrow><mo>−</mo><mfrac><mn>1</mn><mn>2</mn></mfrac></mrow></msup></mrow><annotation encoding="application/x-tex">L^{sym}=D^{-\frac{1}{2}}LD^{-\frac{1}{2}}\\=I-D^{-\frac{1}{2}}AD^{-\frac{1}{2}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7144em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7144em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">sy</span><span class="mord mathnormal mtight">m</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.004em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.004em;"><span style="top:-3.413em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8443em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.2255em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span></span></span></span></span><span class="mord mathnormal">L</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.004em;"><span style="top:-3.413em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8443em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.2255em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span></span></span></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.004em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.004em;"><span style="top:-3.413em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8443em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.2255em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span></span></span></span></span><span class="mord mathnormal">A</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.004em;"><span style="top:-3.413em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8443em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.2255em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p><p>矩阵元素：</p><p class="katex-block "><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msubsup><mi>L</mi><mrow><mi>i</mi><mi>j</mi></mrow><mrow><mi mathvariant="normal">s</mi><mi mathvariant="normal">y</mi><mi mathvariant="normal">m</mi></mrow></msubsup><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.16em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo fence="true">(</mo><mi>i</mi><mo>=</mo><mi>j</mi><mtext> 且 </mtext><mi>d</mi><mrow><mo fence="true">(</mo><msub><mi>v</mi><mi>i</mi></msub><mo fence="true">)</mo></mrow><mo mathvariant="normal">≠</mo><mn>0</mn><mo fence="true">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>−</mo><mfrac><mn>1</mn><msqrt><mrow><mi>d</mi><mrow><mo fence="true">(</mo><msub><mi>v</mi><mi>i</mi></msub><mo fence="true">)</mo></mrow><mi>d</mi><mrow><mo fence="true">(</mo><msub><mi>v</mi><mi>j</mi></msub><mo fence="true">)</mo></mrow></mrow></msqrt></mfrac></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo fence="true">(</mo><mrow><mo fence="true">(</mo><msub><mi>v</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>v</mi><mi>j</mi></msub><mo fence="true">)</mo></mrow><mo>∈</mo><mi>E</mi><mtext> and </mtext><mi>i</mi><mo mathvariant="normal">≠</mo><mi>j</mi><mo fence="true">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo stretchy="false">(</mo><mtext> otherwise </mtext><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">L_{i j}^{\mathrm{sym}}=\left\{\begin{array}{ll}1 &amp; \left(i=j \text { 且 } d\left(v_{i}\right) \neq 0\right) \\-\frac{1}{\sqrt{d\left(v_{i}\right) d\left(v_{j}\right)}} &amp; \left(\left(v_{i}, v_{j}\right) \in E \text { and } i \neq j\right) \\0 &amp; (\text { otherwise })\end{array}\right.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1953em;vertical-align:-0.413em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7823em;"><span style="top:-2.4231em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">ij</span></span></span></span><span style="top:-3.1809em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">sym</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.413em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:4.2em;vertical-align:-1.85em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.35em;"><span style="top:-2.2em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎩</span></span></span><span style="top:-2.192em;"><span class="pstrut" style="height:3.15em;"></span><span style="height:0.316em;width:0.8889em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.8889em' height='0.316em' style='width:0.8889em' viewBox='0 0 888.89 316' preserveAspectRatio='xMinYMin'><path d='M384 0 H504 V316 H384z M384 0 H504 V316 H384z'/></svg></span></span><span style="top:-3.15em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎨</span></span></span><span style="top:-4.292em;"><span class="pstrut" style="height:3.15em;"></span><span style="height:0.316em;width:0.8889em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.8889em' height='0.316em' style='width:0.8889em' viewBox='0 0 888.89 316' preserveAspectRatio='xMinYMin'><path d='M384 0 H504 V316 H384z M384 0 H504 V316 H384z'/></svg></span></span><span style="top:-4.6em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎧</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.85em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.2874em;"><span style="top:-4.4474em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.2422em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">−</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.4753em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord sqrt mtight"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.021em;"><span class="svg-align" style="top:-3.4286em;"><span class="pstrut" style="height:3.4286em;"></span><span class="mord mtight" style="padding-left:1.19em;"><span class="mord mathnormal mtight">d</span><span class="minner mtight"><span class="mopen mtight delimcenter" style="top:0em;"><span class="mtight">(</span></span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3281em;"><span style="top:-2.357em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mclose mtight delimcenter" style="top:0em;"><span class="mtight">)</span></span></span><span class="mord mathnormal mtight">d</span><span class="minner mtight"><span class="mopen mtight delimcenter" style="top:0em;"><span class="mtight">(</span></span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3281em;"><span style="top:-2.357em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2819em;"><span></span></span></span></span></span></span><span class="mclose mtight delimcenter" style="top:0em;"><span class="mtight">)</span></span></span></span></span><span style="top:-2.993em;"><span class="pstrut" style="height:3.4286em;"></span><span class="hide-tail mtight" style="min-width:0.853em;height:1.5429em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='1.5429em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429c69,-144,104.5,-217.7,106.5,-221l0 -0c5.3,-9.3,12,-14,20,-14H400000v40H845.2724s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47zM834 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4356em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8296em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-1.5726em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.7874em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.2874em;"><span style="top:-4.4474em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mord text"><span class="mord"> </span><span class="mord cjk_fallback">且</span><span class="mord"> </span></span><span class="mord mathnormal">d</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mord"><span class="mrel"></span></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0</span><span class="mclose delimcenter" style="top:0em;">)</span></span></span></span><span style="top:-3.2422em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mord text"><span class="mord"> and </span></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mord"><span class="mrel"></span></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose delimcenter" style="top:0em;">)</span></span></span></span><span style="top:-1.5726em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord text"><span class="mord"> otherwise </span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.7874em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>随机游走归一化拉普拉斯矩阵</p><p class="katex-block "><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msup><mi>L</mi><mrow><mi>r</mi><mi>w</mi></mrow></msup><mo>=</mo><msup><mi>D</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mi>L</mi><mo>=</mo><mi>I</mi><mo>−</mo><msup><mi>D</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mi>A</mi></mrow><annotation encoding="application/x-tex">L^{rw}=D^{-1}L=I-D^{-1}A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7144em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7144em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8641em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mord mathnormal">L</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8641em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mord mathnormal">A</span></span></span></span></span></p><p>矩阵元素：</p><p class="katex-block "><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msubsup><mi>L</mi><mrow><mi>i</mi><mi>j</mi></mrow><mrow><mi mathvariant="normal">T</mi><mi mathvariant="normal">W</mi></mrow></msubsup><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.16em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo fence="true">(</mo><mi>i</mi><mo>=</mo><mi>j</mi><mtext> and </mtext><mi>d</mi><mrow><mo fence="true">(</mo><msub><mi>v</mi><mi>i</mi></msub><mo fence="true">)</mo></mrow><mo mathvariant="normal">≠</mo><mn>0</mn><mo fence="true">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>−</mo><mfrac><mn>1</mn><mrow><mi>d</mi><mrow><mo fence="true">(</mo><msub><mi>v</mi><mi>i</mi></msub><mo fence="true">)</mo></mrow></mrow></mfrac></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo fence="true">(</mo><mrow><mo fence="true">(</mo><msub><mi>v</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>v</mi><mi>j</mi></msub><mo fence="true">)</mo></mrow><mo>∈</mo><mi>E</mi><mtext> and </mtext><mi>i</mi><mo mathvariant="normal">≠</mo><mi>j</mi><mo fence="true">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo stretchy="false">(</mo><mtext> otherwise </mtext><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">L_{i j}^{\mathrm{TW}}=\left\{\begin{array}{ll}1 &amp; \left(i=j \text { and } d\left(v_{i}\right) \neq 0\right) \\-\frac{1}{d\left(v_{i}\right)} &amp; \left(\left(v_{i}, v_{j}\right) \in E \text { and } i \neq j\right) \\0 &amp; (\text { otherwise })\end{array}\right.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2744em;vertical-align:-0.3831em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.453em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">ij</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight" style="margin-right:0.01389em;">TW</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3831em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.7651em;vertical-align:-1.6326em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-2.5em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎩</span></span></span><span style="top:-2.492em;"><span class="pstrut" style="height:3.15em;"></span><span style="height:0.016em;width:0.8889em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.8889em' height='0.016em' style='width:0.8889em' viewBox='0 0 888.89 16' preserveAspectRatio='xMinYMin'><path d='M384 0 H504 V16 H384z M384 0 H504 V16 H384z'/></svg></span></span><span style="top:-3.15em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎨</span></span></span><span style="top:-4.292em;"><span class="pstrut" style="height:3.15em;"></span><span style="height:0.016em;width:0.8889em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.8889em' height='0.016em' style='width:0.8889em' viewBox='0 0 888.89 16' preserveAspectRatio='xMinYMin'><path d='M384 0 H504 V16 H384z M384 0 H504 V16 H384z'/></svg></span></span><span style="top:-4.3em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎧</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.1326em;"><span style="top:-4.2926em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.0874em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">−</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">d</span><span class="minner mtight"><span class="mopen mtight delimcenter" style="top:0em;"><span class="mtight">(</span></span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3281em;"><span style="top:-2.357em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mclose mtight delimcenter" style="top:0em;"><span class="mtight">)</span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.52em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-1.7274em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.6326em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.1326em;"><span style="top:-4.2926em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mord text"><span class="mord"> and </span></span><span class="mord mathnormal">d</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mord"><span class="mrel"></span></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0</span><span class="mclose delimcenter" style="top:0em;">)</span></span></span></span><span style="top:-3.0874em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mord text"><span class="mord"> and </span></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mord"><span class="mrel"></span></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose delimcenter" style="top:0em;">)</span></span></span></span><span style="top:-1.7274em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord text"><span class="mord"> otherwise </span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.6326em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>关联矩阵：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi><mo>∈</mo><msup><mi mathvariant="double-struck">R</mi><mrow><mi>m</mi><mo>×</mo><mi>n</mi></mrow></msup></mrow><annotation encoding="application/x-tex">M \in \mathbb{R}^{m\times n}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7224em;vertical-align:-0.0391em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7713em;"></span><span class="mord"><span class="mord mathbb">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7713em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span><span class="mbin mtight">×</span><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span></span></span></span></p><p>对于有向图</p><p class="katex-block "><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>M</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.16em" columnalign="center left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo fence="true">(</mo><mi mathvariant="normal">∃</mi><mi>k</mi><mtext> s.t </mtext><msub><mi>e</mi><mi>j</mi></msub><mo>=</mo><mrow><mo fence="true">(</mo><msub><mi>v</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>v</mi><mi>k</mi></msub><mo fence="true">)</mo></mrow><mo fence="true">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>−</mo><mn>1</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo fence="true">(</mo><mi mathvariant="normal">∃</mi><mi>k</mi><mtext> s.t </mtext><msub><mi>e</mi><mi>j</mi></msub><mo>=</mo><mrow><mo fence="true">(</mo><msub><mi>v</mi><mi>k</mi></msub><mo separator="true">,</mo><msub><mi>v</mi><mi>i</mi></msub><mo fence="true">)</mo></mrow><mo fence="true">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo stretchy="false">(</mo><mtext> otherwise </mtext><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">M_{i j}=\left\{\begin{array}{cl}1 &amp; \left(\exists k \text { s.t } e_{j}=\left(v_{i}, v_{k}\right)\right) \\-1 &amp; \left(\exists k \text { s.t } e_{j}=\left(v_{k}, v_{i}\right)\right) \\0 &amp; (\text { otherwise })\end{array}\right.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">ij</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-2.5em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎩</span></span></span><span style="top:-2.492em;"><span class="pstrut" style="height:3.15em;"></span><span style="height:0.016em;width:0.8889em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.8889em' height='0.016em' style='width:0.8889em' viewBox='0 0 888.89 16' preserveAspectRatio='xMinYMin'><path d='M384 0 H504 V16 H384z M384 0 H504 V16 H384z'/></svg></span></span><span style="top:-3.15em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎨</span></span></span><span style="top:-4.292em;"><span class="pstrut" style="height:3.15em;"></span><span style="height:0.016em;width:0.8889em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.8889em' height='0.016em' style='width:0.8889em' viewBox='0 0 888.89 16' preserveAspectRatio='xMinYMin'><path d='M384 0 H504 V16 H384z M384 0 H504 V16 H384z'/></svg></span></span><span style="top:-4.3em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎧</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">−</span><span class="mord">1</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord">∃</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mord text"><span class="mord"> s.t </span></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mclose delimcenter" style="top:0em;">)</span></span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord">∃</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mord text"><span class="mord"> s.t </span></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mclose delimcenter" style="top:0em;">)</span></span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord text"><span class="mord"> otherwise </span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>无向图</p><p class="katex-block "><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>M</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.16em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo fence="true">(</mo><mi mathvariant="normal">∃</mi><mi>k</mi><mtext> s.t </mtext><msub><mi>e</mi><mi>j</mi></msub><mo>=</mo><mrow><mo fence="true">(</mo><msub><mi>v</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>v</mi><mi>k</mi></msub><mo fence="true">)</mo></mrow><mo fence="true">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo stretchy="false">(</mo><mtext> otherwise </mtext><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">M_{i j}=\left\{\begin{array}{ll}1 &amp; \left(\exists k \text { s.t } e_{j}=\left(v_{i}, v_{k}\right)\right) \\0 &amp; (\text { otherwise })\end{array}\right.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">ij</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">{</span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord">∃</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mord text"><span class="mord"> s.t </span></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mclose delimcenter" style="top:0em;">)</span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord text"><span class="mord"> otherwise </span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>]]></content>
    
    
    <categories>
      
      <category>图</category>
      
    </categories>
    
    
    <tags>
      
      <tag>基础</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>解决Mac把大文档拷贝到u盘发生意外错误</title>
    <link href="/2022/08/06/mac/"/>
    <url>/2022/08/06/mac/</url>
    
    <content type="html"><![CDATA[<h3 id="起因">起因</h3><p>在查看本地大文件的时候发现一些下载麻烦的镜像还没处理，为了之后更新电脑时下载软件更为方便，故而选择保存镜像，由于电脑内存告急，遂意将其转移到U盘中，但多次拖移大文件均显示 “<strong>发生意外错误</strong>” ，上网查询后得以解决。</p><h3 id="缘由">缘由</h3><p>绝大多数的U盘的默认出厂格式为格式为<code>FAT32</code>，这种格式不支持4GB以上的内存，需要将其改为 <code>ExFAT</code>格式</p><h3 id="解决措施">解决措施</h3><ol><li>备份好原U盘中的文件资料</li><li>打开 “磁盘工具”</li><li>选择要更改格式的磁盘进行“抹掉”</li><li>在格式一栏中选择 <code>ExFAT</code>格式</li><li>“抹掉”</li></ol><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/%E6%88%AA%E5%B1%8F2022-08-06%20%E4%B8%8B%E5%8D%884.48.49.png" alt="截屏2022-08-06 下午4.48.49"></p>]]></content>
    
    
    <categories>
      
      <category>Mac</category>
      
    </categories>
    
    
    <tags>
      
      <tag>问题</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>MacTex配置+TexStudio</title>
    <link href="/2022/08/02/mactex/"/>
    <url>/2022/08/02/mactex/</url>
    
    <content type="html"><![CDATA[<p>在知乎上看到各个东西的区别：</p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/v2-edc8b8e21fb68b550bc60628535e4611_720w-20220802193443449.jpg" alt="img"></p><blockquote><p>简单的讲，发行版可以认为是一个软件平台，它一般集成了编译器和一些常见的宏包。在软件平台上编辑好latex的代码后，就通过编译器编译得到PDF。latex代码一般都有调用宏包的部分代码。编辑器一般在发行版中也会自带一个，当然，你也可以下载自己喜欢的。</p><p><a href="https://zhuanlan.zhihu.com/p/113193793">链接</a></p></blockquote><p>在知乎搜了很多帖子之后决定用MacTex+TexStudio（来代替MacTex自带的Texshop）嗯由于vscode实在是有点大，平常也不用vscode作为ide···</p><p><a href="https://www.zhihu.com/question/19954023/answer/2292486841">关于编译器的选择</a></p><p><a href="https://zhuanlan.zhihu.com/p/166523064">看到的用vscode配置的文章</a></p><p>之后学会了latex的使用后或许会权衡试一下mactex+sublime text （轻量级好重要！</p><h3 id="安装">安装</h3><h4 id="MacTex安装">MacTex安装</h4><p>参考<a href="https://link.zhihu.com/?target=https%3A//liam.page/texlive/">TeX Live 下载及安装说明 | 始终 (liam.page)</a></p><p><a href="http://tug.org/cgi-bin/mactex-download/MacTeX.pkg">官方站点</a></p><p><a href="https://mirrors.sjtug.sjtu.edu.cn/ctan/systems/mac/mactex/MacTeX.pkg">上交大镜像</a>选择离自己最近的镜像即可</p><p>或者使用<code>homebrew</code>安装</p><h4 id="MacTex升级">MacTex升级</h4><p>可通过脚本升级 <a href="https://www.tug.org/texlive/upgrade.html">详见</a></p><h4 id="texstudio安装">texstudio安装</h4><p><a href="https://sourceforge.net/projects/texstudio/">官方站点</a></p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/%E6%88%AA%E5%B1%8F2022-08-02%20%E4%B8%8B%E5%8D%886.36.10.png" alt="截屏2022-08-02 下午6.36.10"></p><ul><li>LaTeXiT - mac上编辑公式的好帮手，<code>Command＋T</code>可以预览公式效果。</li><li>BibTeX - 参考文献引用管理</li><li>TeX Live Utility - 管理包的</li><li>TeXShop - 编辑器</li></ul><h3 id="Texshop设置">Texshop设置</h3><h4 id="在Texshop中使用中文">在Texshop中使用中文</h4><p><a href="https://liam.page/2014/11/02/latex-mactex-chinese-support/">参考博客！</a></p><h3 id="Texstudio设置">Texstudio设置</h3><h4 id="更改显示语言">更改显示语言</h4><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/%E6%88%AA%E5%B1%8F2022-08-03%20%E4%B8%8A%E5%8D%8810.25.26.png" alt="截屏2022-08-03 上午10.25.26"></p><h4 id="自动补全">自动补全</h4><p>仍然在 <code>preference</code>中 后续将根据使用的宏包进行补全</p><h4 id="在Texstudio中使用中文">在Texstudio中使用中文</h4><p>在<code>TeXStudio-&gt;Preferences-&gt;Build</code>中将<code>Default Compiler</code>改成 <code>XeLaTeX</code></p><p>为了支持生成pdf时中文自动换行，需要使用 <code>xeCJK</code> 宏包</p><p>在.tex文件的开头加上：</p><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs latex"><span class="hljs-keyword">\usepackage</span>&#123;xeCJK&#125;<br><span class="hljs-keyword">\setCJKmainfont</span>&#123;...&#125; <span class="hljs-comment">%设置中文字体</span><br><span class="hljs-keyword">\setmainfont</span>&#123;...&#125; <span class="hljs-comment">%设置英文字体</span><br></code></pre></td></tr></table></figure><p>e.g 宋体是 <code>STSong</code></p><h4 id="预览设置">预览设置</h4><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/%E6%88%AA%E5%B1%8F2022-08-02%20%E4%B8%8B%E5%8D%887.24.24.png" alt="截屏2022-08-02 下午7.24.24"></p><p>编辑文字时需要预览，选定要预览的部分，<code>ALT+P</code>即可，或使用右键菜单栏</p><p>小tip：可以选中一个空行按快捷键，在选定的行内输入公式或编辑Tikz图形</p><h4 id="一些快捷键和小技巧">一些快捷键和小技巧</h4><p>多行注释：<code>command“ + “T”</code></p><p>去掉注释：<code>command“ + “U”</code></p><p>其他：</p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/3AB68271-222E-46FD-A850-82C2C71B36F8.jpeg" alt="3AB68271-222E-46FD-A850-82C2C71B36F8"></p><h3 id="一些实用工具">一些实用工具</h3><ul><li><a href="http://detexify.kirelabs.org/classify.html">Detexify</a>是 一个有趣的网站，可以识别你手写的符号，并提供相应的 LATEX 命令。</li><li><a href="https://mathpix.com/">Snip</a>是一个实用的 软件，可以将截图的公式结果识别为相应的 LATEX 命令。</li></ul><h3 id="在线编辑器">在线编辑器</h3><p><a href="https://www.overleaf.com/project">overleaf</a></p><h3 id="码一下一些可能有用的博客">码一下一些可能有用的博客</h3><p><a href="https://www.zhihu.com/question/23565739/answer/51511029">在latex写作中管理参考文献</a></p>]]></content>
    
    
    <categories>
      
      <category>Latex</category>
      
    </categories>
    
    
    <tags>
      
      <tag>APP</tag>
      
      <tag>配置</tag>
      
      <tag>Latex</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Jupyter notebook</title>
    <link href="/2022/08/02/Jupyterbok/"/>
    <url>/2022/08/02/Jupyterbok/</url>
    
    <content type="html"><![CDATA[<h2 id="安装">安装</h2><p>本来因为安装了Anaconda 想用 <code>conda install jupyter notebook</code></p><p>但是报错说conda不能找到 根据知乎的教程使用 <code>pip</code>命令进行了安装</p><h5 id="将pip升级">将pip升级</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">pip3 install --upgrade pip<br></code></pre></td></tr></table></figure><h5 id="安装Jupyter-Notebook">安装Jupyter Notebook</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">pip3 install jupyter<br></code></pre></td></tr></table></figure><h5 id="查看jupyter官方文档">查看jupyter官方文档</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">jupyter notebook --help<br></code></pre></td></tr></table></figure><h5 id="启动">启动</h5><p>直接输入 <code>jupyter notebook</code></p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/%E6%88%AA%E5%B1%8F2022-07-27%20%E4%B8%8B%E5%8D%884.25.16.png" alt="截屏2022-07-27 下午4.25.16"></p><h5 id="关于设置文件存放位置">关于设置文件存放位置</h5><p>默认是在/User/mac的目录下 要重新对文件进行配置</p><p><a href="https://zhuanlan.zhihu.com/p/33105153"><strong>参考文档</strong></a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">jupyter notebook --generate-config<br></code></pre></td></tr></table></figure><p>Step1:</p><h6 id="创建文件夹-目录">创建文件夹/目录</h6><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">mkdir &lt;directory_name&gt;<br>cd &lt;directory_name&gt;<br>pwd #显示路径后复制<br></code></pre></td></tr></table></figure><p>Step2:</p><h6 id="获取配置文件所在路径">获取配置文件所在路径</h6><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">jupyter notebook --generate-config<br></code></pre></td></tr></table></figure><p>Step3:</p><h6 id="配置文件">配置文件</h6><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">vim ~/.jupyter/jupyter_notebook_config.py<br></code></pre></td></tr></table></figure><p>进入到配置文件后查找关键词</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">/c.NotebookApp.notebook_dir<br></code></pre></td></tr></table></figure><p>回车找到目标词</p><p>编辑配置文件：将创建的文件夹路径粘贴过来并删除注释语句符号#</p><p>保存配置文件</p><h2 id="拓展功能">拓展功能</h2><h3 id="1-关联Jupyter-Notebook和conda的环境和包——“nb-conda”"><strong>1. 关联Jupyter Notebook和conda的环境和包——“nb_conda”</strong></h3><h4 id="安装-2"><strong>安装</strong></h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">conda install nb_conda<br></code></pre></td></tr></table></figure><p>执行上述命令能够将conda创建的环境与Jupyter Notebook相关联，便于在Jupyter Notebook的使用中，在不同的环境下创建笔记本进行工作。</p><h4 id="使用"><strong>使用</strong></h4><ul><li>可以在Conda类目下对conda环境和包进行一系列操作。</li></ul><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/v2-75db6aec2cf08a29014679435675f17d_720w-20220728104748504.jpg" alt="img">Conda页面注解图</p><ul><li>可以在笔记本内的“Kernel”类目里的“Change kernel”切换内核。</li></ul><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/v2-6a926273202380b5fd5e51dff7941dfd_720w-20220728104748628.jpg" alt="img">切换内核</p><h4 id="卸载"><strong>卸载</strong></h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">canda remove nb_conda<br></code></pre></td></tr></table></figure><p>执行上述命令即可卸载nb_conda包。</p><h3 id="2-Markdown生成目录">2.Markdown生成目录</h3><ul><li>不同于有道云笔记的Markdown编译器，Jupyter Notebook无法为Markdown文档通过特定语法添加目录，因此需要通过安装扩展来实现目录的添加。</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">conda install -c conda-forge jupyter_contrib_nbextensions<br></code></pre></td></tr></table></figure><ul><li>执行上述命令后，启动Jupyter Notebook，你会发现导航栏多了“Nbextensions”的类目，点击“Nbextensions”，勾选“Table of Contents ⑵”</li></ul><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/v2-a7a2f4b1f06aed21df09b6e3b957e191_720w-20220728105638251.jpg" alt="img">Nbextensions页面</p><ul><li>之后再在Jupyter Notebook中使用Markdown，点击下图的图标即可使用啦。</li></ul><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/v2-dd9b3a1f62c89570a47c7f6d24bf01a1_720w-20220728105638307.jpg" alt="img">目录</p><h3 id="3-加载本地Python文件"><strong>3. 加载本地Python文件</strong></h3><h4 id="使用场景"><strong>使用场景</strong></h4><p>想在Jupyter Notebook中加载本地的Python文件并执行文件代码。</p><h4 id="方法"><strong>方法</strong></h4><p>执行以下命令：</p><figure class="highlight haml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs haml"><span class="hljs-tag">%<span class="hljs-selector-tag">load</span></span> Python文件的绝对路径<br></code></pre></td></tr></table></figure><h4 id="注意"><strong>注意</strong></h4><ol><li>Python文件的后缀为“.py”。</li><li>“%load”后跟的是Python文件的<strong>绝对路径</strong>。</li><li>输入命令后，可以按<code>CTRL 回车</code>来执行命令。第一次执行，是将本地的Python文件内容加载到单元格内。此时，Jupyter Notebook会自动将“%load”命令注释掉（即在前边加井号“#”），以便在执行已加载的文件代码时不重复执行该命令；第二次执行，则是执行已加载文件的代码。</li></ol><h3 id="4-直接运行本地Python文件"><strong>4. 直接运行本地Python文件</strong></h3><h4 id="使用场景-2"><strong>使用场景</strong></h4><p>不想在Jupyter Notebook的单元格中加载本地Python文件，想要直接运行。</p><h4 id="方法-2"><strong>方法</strong></h4><p>执行命令：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">%</span><span class="language-bash">run Python文件的绝对路径</span><br></code></pre></td></tr></table></figure><p>或</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">!python3 Python文件的绝对路径<br></code></pre></td></tr></table></figure><p>或</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">!python Python文件的绝对路径<br></code></pre></td></tr></table></figure><h4 id="注意-2"><strong>注意</strong></h4><ol><li>Python文件的后缀为“.py”。</li><li>“%run”后跟的是Python文件的<strong>绝对路径</strong>。</li><li>“!python3”用于执行Python 3.x版本的代码。</li><li>“!python”用于执行Python 2.x版本的代码。</li><li>“!python3”和“!python”属于 <code>!shell命令</code> 语法的使用，即在Jupyter Notebook中执行shell命令的语法。</li><li>输入命令后，可以按 <code>control return</code> 来执行命令，执行过程中将不显示本地Python文件的内容，直接显示运行结果。</li></ol><h2 id="关于其他的问题">关于其他的问题</h2><h3 id="1-command-cannot-found-conda">1.command cannot found conda</h3><p><a href="https://stitch.blog.csdn.net/article/details/120691823?spm=1001.2101.3001.6650.1&amp;utm_medium=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~default-1-120691823-blog-105113637.pc_relevant_multi_platform_whitelistv1&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~default-1-120691823-blog-105113637.pc_relevant_multi_platform_whitelistv1&amp;utm_relevant_index=2">帮助文档</a></p><h4 id="问题出现原因：">问题出现原因：</h4><p>终端中zsh的可访问的程序一般放在/bin, /usr/bin, /usr/local/bin，~/bin目录下；而最新安装的会默认安装在/Users/username下或者/Users/username/opt下，导致环境变量没有写入到终端配置文件。</p><h4 id="解决方案：">解决方案：</h4><p>在export ZSH的路径下把字的的anaconda的安装路径加入</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">export PATH=&quot;Users/mac/opt/anaconda3/bin:$PATH&quot;<br></code></pre></td></tr></table></figure><h3 id="一些网上看到的小技巧">一些网上看到的小技巧</h3><h3 id="1-输出矢量图">1.输出矢量图</h3><p>只要多加一行配置，就能够让 Matplotlib 在 Jupyter Notebook 上面输出矢量图：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell">import matplotlib<br>import matplotlib.pyplot as plt<br><span class="hljs-meta prompt_">%</span><span class="language-bash">matplotlib inline</span><br><span class="hljs-meta prompt_">%</span><span class="language-bash">config InlineBackend.figure_format = <span class="hljs-string">&#x27;svg&#x27;</span></span><br></code></pre></td></tr></table></figure><p>上面的最后一行指定了输出的格式是 svg，这样浏览器就能为你渲染矢量图了。</p><p>savefig 只要指定文件名后缀是 .pdf 或者 .eps 就能生成能方便地插入 latex 的图片了！</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">plt.savefig(&#x27;tmp.pdf&#x27;, bbox_inches=&#x27;tight&#x27;)<br>plt.show()<br></code></pre></td></tr></table></figure><h3 id="2-Qgrid">2.<strong>Qgrid</strong></h3><p>Qgrid也是一个Jupyter的小部件，不过它主要用于数据帧，装上之后，就可以像操作Excel里的筛选功能一样，方便的处理数据。</p><p><strong>安装方法</strong></p><p>用pip安装：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell">pip install qgrid<br>jupyter nbextension enable --py --sys-prefix qgrid<br><span class="hljs-meta prompt_"># </span><span class="language-bash">only required <span class="hljs-keyword">if</span> you have not enabled the ipywidgets nbextension yet</span><br>jupyter nbextension enable --py --sys-prefix widgetsnbextension<br></code></pre></td></tr></table></figure><p>用conda安装：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">only required <span class="hljs-keyword">if</span> you have not added conda-forge to your channels yet</span><br>conda config --add channels conda-forge<br>conda install qgrid<br></code></pre></td></tr></table></figure><h3 id="3-一些有趣的魔法命令">3.一些有趣的魔法命令</h3><p><a href="https://blog.csdn.net/fengdu78/article/details/126026130">魔法命令</a></p>]]></content>
    
    
    <categories>
      
      <category>一些配置</category>
      
    </categories>
    
    
    <tags>
      
      <tag>APP</tag>
      
      <tag>配置</tag>
      
      <tag>shell</tag>
      
      <tag>插件</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Mac iterm2软件</title>
    <link href="/2022/07/31/iterm2/"/>
    <url>/2022/07/31/iterm2/</url>
    
    <content type="html"><![CDATA[<p>关于iterm2软件的配置与美化</p><span id="more"></span><p>文章链接：<a href="https://gigiboo.github.io/2022/07/31/iterm2/">https://gigiboo.github.io/2022/07/31/iterm2/</a></p><div class="markdown-body">## iterm2安装以及zsh配置<p>不<code>hide: true</code>了</p><p>iterm官网: <a href="https://iterm2.com">https://iterm2.com</a></p><p>zsh官网:<a href="https://ohmyz.sh/#install">https://ohmyz.sh/#install</a></p><p>iterm皮肤修改：<code>preference- window</code></p><h3 id="1-zsh配置：">1. zsh配置：</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">#</span><span class="language-bash">查看系统安装的所有shell</span><br>cat /etc/shells<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">查看当前使用的shell</span><br>echo $SHELL<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">修改默认shell为zsh</span><br>chsh -s /bin/zsh <br></code></pre></td></tr></table></figure><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/%E6%88%AA%E5%B1%8F2022-07-26%20%E4%B8%8B%E5%8D%884.22.17-20220731235909527-20220801080311294.png" alt="截屏2022-07-26 下午4.22.17"></p><p>下载oh-my-zsh报错：</p><p><code>Failed to connect to raw.githubusercontent.com port 443 after 28 ms: Connection refused</code></p><p>查询发现官方给出的安装方案在国内行不通</p><p>找到<strong>国内镜像地址</strong>：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">sh -c &quot;$(curl -fsSL https://gitee.com/mirrors/oh-my-zsh/raw/master/tools/install.sh)&quot;<br></code></pre></td></tr></table></figure><p>博客参考：<a href="https://blog.csdn.net/weixin_43734095/article/details/122794685">https://blog.csdn.net/weixin_43734095/article/details/122794685</a></p><p>安装遇到的问题：<a href="https://www.jianshu.com/p/14e7220b3eef">https://www.jianshu.com/p/14e7220b3eef</a></p><h3 id="2-换皮肤">2. 换皮肤</h3><h4 id="2-1-安装Powerline">2.1 安装Powerline</h4><p><code>pip install powerline-status</code></p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/%E6%88%AA%E5%B1%8F2022-07-26%20%E4%B8%8B%E5%8D%884.35.23-20220731235917213-20220801080311377.png" alt="截屏2022-07-26 下午4.35.23"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">Stored in directory: /Users/mac/Library/Caches/pip/wheels/8f/f4/65/fe67c23838f832d9bacc6520474e4fedb248bda4ed47891959<br></code></pre></td></tr></table></figure><h4 id="2-2-安装PowerFonts">2.2 安装PowerFonts</h4><p>在常用的位置新建一个文件夹，如：<code>~/Desktop/OpenSource/</code></p><p>在<strong>OpenSource</strong>文件夹下下载PorweFonts:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">git <span class="hljs-built_in">clone</span></span><br>git clone https://github.com/powerline/fonts.git --depth=1<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash"><span class="hljs-built_in">cd</span> to folder</span><br>cd fonts<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">run install shell</span><br>./install.sh<br></code></pre></td></tr></table></figure><h4 id="2-3-设置字体">2.3 设置字体</h4><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/%E6%88%AA%E5%B1%8F2022-07-26%20%E4%B8%8B%E5%8D%884.43.59-20220801080311420.png" alt="截屏2022-07-26 下午4.43.59"></p><h4 id="2-4-安装配色方案">2.4 安装配色方案</h4><p>配色方案在使用VIM或Colorful Log时会变得非常有用，同时界面也不会一片黑绿。</p><p>同样使用<code>git clone</code>的方式下载源码进行安装：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell">cd ~/Desktop/OpenSource<br>git clone https://github.com/altercation/solarized<br>cd solarized/iterm2-colors-solarized/<br>open .<br></code></pre></td></tr></table></figure><p>在打开的finder窗口中，双击Solarized Dark.itermcolors和Solarized Light.itermcolors即可安装明暗两种配色：</p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/%E6%88%AA%E5%B1%8F2022-07-26%20%E4%B8%8B%E5%8D%885.02.26-20220801080311579.png" alt="截屏2022-07-26 下午5.02.26"></p><h4 id="2-5-安装主题">2.5 安装主题</h4><p>下载<code>agnoster</code>主题，执行脚本安装：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell">cd ~/Desktop/OpenSource<br>git clone https://github.com/fcamblor/oh-my-zsh-agnoster-fcamblor.git<br>cd oh-my-zsh-agnoster-fcamblor/<br>./install<br></code></pre></td></tr></table></figure><p>执行上面的命令会将主题拷贝到oh-my-zsh的<code>themes</code>中：</p><p>拷贝完成后，执行命令打开<code>zshrc</code>配置文件，将ZSH_THEME后面的字段改为<code>agnoster</code>。</p><p><code>vi ~/.zshrc</code></p><h4 id="截屏2022-07-26-下午5-45-39"><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/%E6%88%AA%E5%B1%8F2022-07-26%20%E4%B8%8B%E5%8D%885.45.39-20220801080311709.png" alt="截屏2022-07-26 下午5.45.39"></h4><p>用到的操作命令</p><p><strong>键盘i</strong>: 进入可编辑模式,最下面显示-- INSERT –</p><p><strong>键盘esc</strong>: 退出编辑模式</p><p><strong>shift + :</strong> : 执行命令操作</p><p><strong>输入wq</strong>: 保存当前更改。如果仅仅退出不保存，可以输入q</p><p>此时<code>command+Q</code>或<code>source</code>配置文件后，iTerm2变了模样：</p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/%E6%88%AA%E5%B1%8F2022-07-26%20%E4%B8%8B%E5%8D%885.46.29-20220801080311778.png" alt="截屏2022-07-26 下午5.46.29"></p><h3 id="3-最后效果">3. 最后效果</h3><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/%E6%88%AA%E5%B1%8F2022-07-26%20%E4%B8%8B%E5%8D%887.26.41-20220801080311853.png" alt="截屏2022-07-26 下午7.26.41"></p><h3 id="4-安装插件">4. 安装插件</h3><h4 id="4-1-高亮">4.1. 高亮</h4><p>这是oh-my-zsh的一个插件，安装方式与theme大同小异：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">cd ~/.oh-my-zsh/custom/plugins/<br>git clone https://github.com/zsh-users/zsh-syntax-highlighting.git<br>vi ~/.zshrc<br></code></pre></td></tr></table></figure><p>这时再次打开<code>zshrc</code>文件进行编辑。找到<code>plugins</code>，此时<code>plugins</code>中应该已经有了<code>git</code>，我们需要把高亮插件也加上：</p><p>保证插件顺序，<code>zsh-syntax-highlighting</code>必须在最后一个。</p><p>然后在文件的最后一行添加：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">source ~/.oh-my-zsh/custom/plugins/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh<br></code></pre></td></tr></table></figure><p>按一下esc调出vi命令，输入:wq保存并退出vi模式。</p><p>执行命令使刚才的修改生效：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">source</span> ~/.zshrc<br></code></pre></td></tr></table></figure><p>所有配置至此结束</p><h4 id="4-2-可选择、命令补全">4.2. 可选择、命令补全</h4><p>要选择建议的命令，请按向右箭头键。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">cd ~/.oh-my-zsh/custom/plugins/<br>git clone https://github.com/zsh-users/zsh-autosuggestions<br>vi ~/.zshrc<br></code></pre></td></tr></table></figure><h4 id="4-3-快速的提示并补全目录">4.3. 快速的提示并补全目录</h4><h4 id="4-4-web-search">4.4. web-search</h4><p>该插件能让我们在命令行中使用搜索引擎进行搜索。比如 <code>google swift</code> 这个命令就可以使用 Google 搜索 swift 关键字。</p><p>web-search 插件在默认情况下没有开启，打开方式如下：</p><ol><li>打开 ~/.zshrc 文件。</li><li>找到 <code>plugins=(git)</code> 这行定义。</li><li>把它修改成 <code>plugins=(git web-search)</code></li></ol><p>然后重新开启一个命令行窗口就可以使用 web-content 的功能了。</p><p>可以使用 google 搜索：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">google swift 学习<br></code></pre></td></tr></table></figure><p>这样会打开 google 搜索 “swift 学习” 这个关键字。</p><p>web-content 同样集成了 baidu, bing 这些搜索引擎：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">baidu swift 学习`<br>`bing 天气预报<br></code></pre></td></tr></table></figure><p>只需在命令行中输入要搜索的关键字和搜索引擎，就可以进行搜索了。</p><h4 id="4-5-catimg">4.5. catimg</h4><p><code>catimg</code> 这个命令将图片文件的内容输出到命令行, 比如：</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-attribute">catimg</span> swift.png<br></code></pre></td></tr></table></figure><h4 id="4-6-wd">4.6. wd</h4><p>wd 插件作用就是能够快速的切换到常用的目录。</p><p>比如有一个常用的目录 <code>/usr/nginx/www/html</code>，首先进入到这个目录中，然后输入</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">wd add web<br></code></pre></td></tr></table></figure><p>这个命令相当于给当前目录做了一个标识，标识名叫做 <code>web</code> ，下次如果再想进入这个目录，只需输入：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">wd web<br></code></pre></td></tr></table></figure><p>它的原理是维护了一个标识和实际路径的映射表，我们使用 <code>wd add</code> 命令可以添加新的映射，可以使用 <code>wd rm</code> 命令删除已有的映射，还可以使用 <code>wd show</code> 命令查看现有的映射。</p><p>官方文档详情:<a href="https://github.com/mfaerevaag/wd">https://github.com/mfaerevaag/wd</a></p><h3 id="5-一些问题解决">5.一些问题解决</h3><h4 id="1-前缀路径太长的问题">1.前缀路径太长的问题</h4><p>在<code>~/.oh-my-zsh/themes</code>路径下找到<code>agnoster.zsh-theme</code>文件，可使用文本工具打开，将里面的<code>build_prompt</code>下的<code>prompt_context</code>字段在前面加<code>#</code>注释掉即可。</p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/%E6%88%AA%E5%B1%8F2022-07-26%20%E4%B8%8B%E5%8D%886.04.23-20220801080311886.png" alt="截屏2022-07-26 下午6.04.23"></p><h3 id="6-帮助文档">6.帮助文档</h3><h4 id="6-1博客文档">6.1博客文档</h4><p>博客帮助以及一些会遇到的问题1:<a href="https://github.com/sirius1024/iterm2-with-oh-my-zsh">https://github.com/sirius1024/iterm2-with-oh-my-zsh</a></p><p>博客帮助2:<a href="https://www.cnblogs.com/soyxiaobi/p/9695931.html">https://www.cnblogs.com/soyxiaobi/p/9695931.html</a></p><p>博客帮助3:<a href="https://www.jianshu.com/p/7de00c73a2bb">https://www.jianshu.com/p/7de00c73a2bb</a></p><p>入门介绍:<a href="http://swiftcafe.io/2015/10/31/cafe-time-omz">http://swiftcafe.io/2015/10/31/cafe-time-omz</a></p><h4 id="6-2插件帮助">6.2插件帮助</h4><p>官方插件主页:<a href="https://github.com/ohmyzsh/ohmyzsh/wiki/Plugins">https://github.com/ohmyzsh/ohmyzsh/wiki/Plugins</a></p><p>插件帮助:<a href="https://www.jianshu.com/p/69d816fcb0b4">https://www.jianshu.com/p/69d816fcb0b4</a></p><p>插件帮助2:<a href="http://swiftcafe.io/2015/11/29/omz-git">http://swiftcafe.io/2015/11/29/omz-git</a></p><p>插件boss:<a href="https://zhuanlan.zhihu.com/p/43704296">https://zhuanlan.zhihu.com/p/43704296</a></p><p>发现一个很不错的视频教程：<a href="https://www.bilibili.com/video/BV12r4y1e7ED?spm_id_from=333.999.0.0&amp;vd_source=09af431f535b3b9c45c946f67adf0cb3">https://www.bilibili.com/video/BV12r4y1e7ED?spm_id_from=333.999.0.0&amp;vd_source=09af431f535b3b9c45c946f67adf0cb3</a></p><h2 id="Alfred">Alfred</h2><h3 id="基础应用">基础应用</h3><h4 id="1-hotkey激活">1.hotkey激活</h4><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/%E6%88%AA%E5%B1%8F2022-08-11%20%E4%B8%8B%E5%8D%883.15.53.png" alt="截屏2022-08-11 下午3.15.53"></p><h4 id="2-add-website">2.add website</h4><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/%E6%88%AA%E5%B1%8F2022-08-11%20%E4%B8%8B%E5%8D%883.36.01.png" alt="截屏2022-08-11 下午3.36.01"></p><p>我的一些快捷网站设置</p><h3 id="截屏2022-08-11-下午4-27-44"><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/%E6%88%AA%E5%B1%8F2022-08-11%20%E4%B8%8B%E5%8D%884.27.44.png" alt="截屏2022-08-11 下午4.27.44"></h3><h4 id="3-添加搜索引擎">3.添加搜索引擎</h4><h3 id="截屏2022-08-11-下午3-43-47"><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/%E6%88%AA%E5%B1%8F2022-08-11%20%E4%B8%8B%E5%8D%883.43.47.png" alt="截屏2022-08-11 下午3.43.47"></h3><h4 id="4-搜索文件">4.搜索文件</h4><p><code>‘</code>或者空格</p><p>按 <code>shift</code> 进行预览</p><p><code>右键</code>显示具体操作 <code>esc</code>返回</p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/%E6%88%AA%E5%B1%8F2022-08-11%20%E4%B8%8B%E5%8D%883.47.38.png" alt="截屏2022-08-11 下午3.47.38"></p><p><code>command+回车</code>显示在文件夹中的位置</p><h4 id="5-直接进行计算">5.直接进行计算</h4><p>输入等号进行复杂运算</p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/%E6%88%AA%E5%B1%8F2022-08-11%20%E4%B8%8B%E5%8D%883.51.34.png" alt="截屏2022-08-11 下午3.51.34"></p><h4 id="6-直接调用字典进行搜索">6.直接调用字典进行搜索</h4><p>可以进行修改<code>hotkey</code></p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/%E6%88%AA%E5%B1%8F2022-08-11%20%E4%B8%8B%E5%8D%883.53.06.png" alt="截屏2022-08-11 下午3.53.06"></p><p><code>spell</code>可以模糊相似</p><h3 id="Workflow">Workflow</h3><p><a href="codevar.org">官方网站</a></p><h4 id="1-CodeVar">1.CodeVar</h4><p>开发基于 <code>Javascript</code>、 <code>alfy</code>、<code>有道翻译api</code>;</p><p>生成变量名，支持大小驼峰、常量、下划线，开发者必备的工作流</p><p><a href="https://github.com/xudaolong/CodeVar">项目地址</a></p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/%E6%88%AA%E5%B1%8F2022-08-13%20%E4%B8%8B%E5%8D%885.20.42.png" alt="截屏2022-08-13 下午5.20.42"></p><p>命名困难户一下子<strong>爱住</strong>了！！</p><h4 id="2-IP-address">2.IP address</h4><p><a href="https://github.com/zenorocha/alfred-workflows/blob/master/ip-address/ip-address.alfredworkflow">项目地址</a></p><h4 id="3-NSC">3.NSC</h4><p>程序猿对数据之间的进制转换是很常用的需求，尤其是二进制和十进制之间的转换。NSC支持将常用的几种进制转换快速互转，发布通过关键词 decimal、binary、octal、hex，完成一个数字对其他三种进制的互转。也可以通过cv命令对某个数字做任意进制之间的互转，输入格式为<code>cv 数字 源进制 目标进制</code>，如下图，完成对1001010 二进制到十进制的转化。<br><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/452826-20190819220822327-827306583.jpg" alt="file"></p><h4 id="4-Battery">4.Battery</h4><p>电池具体信息</p><h4 id="5-faker">5.faker</h4><p>假命名</p><h4 id="6-create-new-file-in-finder">6.create new file in finder</h4><p><a href="http://ianisted.co.uk/new-finder-file-alfred-2">Download</a></p><p><img src="https://typoraxmy.oss-cn-shanghai.aliyuncs.com/%E6%88%AA%E5%B1%8F2022-08-13%20%E4%B8%8B%E5%8D%885.45.48.png" alt="截屏2022-08-13 下午5.45.48"></p>]]></content>
    
    
    <categories>
      
      <category>一些配置</category>
      
    </categories>
    
    
    <tags>
      
      <tag>APP</tag>
      
      <tag>配置</tag>
      
      <tag>shell</tag>
      
      <tag>插件</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
